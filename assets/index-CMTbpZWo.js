function vR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function nT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _m={exports:{}},Rc={},Em={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function wR(){if(a0)return ze;a0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function E(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,b={};function S(z,J,pe){this.props=z,this.context=J,this.refs=b,this.updater=pe||x}S.prototype.isReactComponent={},S.prototype.setState=function(z,J){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,J,"setState")},S.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function N(){}N.prototype=S.prototype;function D(z,J,pe){this.props=z,this.context=J,this.refs=b,this.updater=pe||x}var L=D.prototype=new N;L.constructor=D,P(L,S.prototype),L.isPureReactComponent=!0;var H=Array.isArray,Q=Object.prototype.hasOwnProperty,ee={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function R(z,J,pe){var me,Se={},Ae=null,ae=null;if(J!=null)for(me in J.ref!==void 0&&(ae=J.ref),J.key!==void 0&&(Ae=""+J.key),J)Q.call(J,me)&&!k.hasOwnProperty(me)&&(Se[me]=J[me]);var Te=arguments.length-2;if(Te===1)Se.children=pe;else if(1<Te){for(var Ne=Array(Te),Ve=0;Ve<Te;Ve++)Ne[Ve]=arguments[Ve+2];Se.children=Ne}if(z&&z.defaultProps)for(me in Te=z.defaultProps,Te)Se[me]===void 0&&(Se[me]=Te[me]);return{$$typeof:t,type:z,key:Ae,ref:ae,props:Se,_owner:ee.current}}function M(z,J){return{$$typeof:t,type:z.type,key:J,ref:z.ref,props:z.props,_owner:z._owner}}function U(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function j(z){var J={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(pe){return J[pe]})}var F=/\/+/g;function O(z,J){return typeof z=="object"&&z!==null&&z.key!=null?j(""+z.key):J.toString(36)}function se(z,J,pe,me,Se){var Ae=typeof z;(Ae==="undefined"||Ae==="boolean")&&(z=null);var ae=!1;if(z===null)ae=!0;else switch(Ae){case"string":case"number":ae=!0;break;case"object":switch(z.$$typeof){case t:case e:ae=!0}}if(ae)return ae=z,Se=Se(ae),z=me===""?"."+O(ae,0):me,H(Se)?(pe="",z!=null&&(pe=z.replace(F,"$&/")+"/"),se(Se,J,pe,"",function(Ve){return Ve})):Se!=null&&(U(Se)&&(Se=M(Se,pe+(!Se.key||ae&&ae.key===Se.key?"":(""+Se.key).replace(F,"$&/")+"/")+z)),J.push(Se)),1;if(ae=0,me=me===""?".":me+":",H(z))for(var Te=0;Te<z.length;Te++){Ae=z[Te];var Ne=me+O(Ae,Te);ae+=se(Ae,J,pe,Ne,Se)}else if(Ne=E(z),typeof Ne=="function")for(z=Ne.call(z),Te=0;!(Ae=z.next()).done;)Ae=Ae.value,Ne=me+O(Ae,Te++),ae+=se(Ae,J,pe,Ne,Se);else if(Ae==="object")throw J=String(z),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ae}function _e(z,J,pe){if(z==null)return z;var me=[],Se=0;return se(z,me,"","",function(Ae){return J.call(pe,Ae,Se++)}),me}function he(z){if(z._status===-1){var J=z._result;J=J(),J.then(function(pe){(z._status===0||z._status===-1)&&(z._status=1,z._result=pe)},function(pe){(z._status===0||z._status===-1)&&(z._status=2,z._result=pe)}),z._status===-1&&(z._status=0,z._result=J)}if(z._status===1)return z._result.default;throw z._result}var te={current:null},W={transition:null},Z={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:W,ReactCurrentOwner:ee};function ie(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:_e,forEach:function(z,J,pe){_e(z,function(){J.apply(this,arguments)},pe)},count:function(z){var J=0;return _e(z,function(){J++}),J},toArray:function(z){return _e(z,function(J){return J})||[]},only:function(z){if(!U(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},ze.Component=S,ze.Fragment=n,ze.Profiler=i,ze.PureComponent=D,ze.StrictMode=r,ze.Suspense=h,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,ze.act=ie,ze.cloneElement=function(z,J,pe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var me=P({},z.props),Se=z.key,Ae=z.ref,ae=z._owner;if(J!=null){if(J.ref!==void 0&&(Ae=J.ref,ae=ee.current),J.key!==void 0&&(Se=""+J.key),z.type&&z.type.defaultProps)var Te=z.type.defaultProps;for(Ne in J)Q.call(J,Ne)&&!k.hasOwnProperty(Ne)&&(me[Ne]=J[Ne]===void 0&&Te!==void 0?Te[Ne]:J[Ne])}var Ne=arguments.length-2;if(Ne===1)me.children=pe;else if(1<Ne){Te=Array(Ne);for(var Ve=0;Ve<Ne;Ve++)Te[Ve]=arguments[Ve+2];me.children=Te}return{$$typeof:t,type:z.type,key:Se,ref:Ae,props:me,_owner:ae}},ze.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},ze.createElement=R,ze.createFactory=function(z){var J=R.bind(null,z);return J.type=z,J},ze.createRef=function(){return{current:null}},ze.forwardRef=function(z){return{$$typeof:u,render:z}},ze.isValidElement=U,ze.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:he}},ze.memo=function(z,J){return{$$typeof:p,type:z,compare:J===void 0?null:J}},ze.startTransition=function(z){var J=W.transition;W.transition={};try{z()}finally{W.transition=J}},ze.unstable_act=ie,ze.useCallback=function(z,J){return te.current.useCallback(z,J)},ze.useContext=function(z){return te.current.useContext(z)},ze.useDebugValue=function(){},ze.useDeferredValue=function(z){return te.current.useDeferredValue(z)},ze.useEffect=function(z,J){return te.current.useEffect(z,J)},ze.useId=function(){return te.current.useId()},ze.useImperativeHandle=function(z,J,pe){return te.current.useImperativeHandle(z,J,pe)},ze.useInsertionEffect=function(z,J){return te.current.useInsertionEffect(z,J)},ze.useLayoutEffect=function(z,J){return te.current.useLayoutEffect(z,J)},ze.useMemo=function(z,J){return te.current.useMemo(z,J)},ze.useReducer=function(z,J,pe){return te.current.useReducer(z,J,pe)},ze.useRef=function(z){return te.current.useRef(z)},ze.useState=function(z){return te.current.useState(z)},ze.useSyncExternalStore=function(z,J,pe){return te.current.useSyncExternalStore(z,J,pe)},ze.useTransition=function(){return te.current.useTransition()},ze.version="18.3.1",ze}var l0;function ay(){return l0||(l0=1,Em.exports=wR()),Em.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function _R(){if(c0)return Rc;c0=1;var t=ay(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,p){var m,v={},E=null,x=null;p!==void 0&&(E=""+p),h.key!==void 0&&(E=""+h.key),h.ref!==void 0&&(x=h.ref);for(m in h)r.call(h,m)&&!a.hasOwnProperty(m)&&(v[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)v[m]===void 0&&(v[m]=h[m]);return{$$typeof:e,type:u,key:E,ref:x,props:v,_owner:i.current}}return Rc.Fragment=n,Rc.jsx=l,Rc.jsxs=l,Rc}var u0;function ER(){return u0||(u0=1,_m.exports=_R()),_m.exports}var y=ER(),$d={},xm={exports:{}},Mn={},Tm={exports:{}},bm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function xR(){return d0||(d0=1,(function(t){function e(W,Z){var ie=W.length;W.push(Z);e:for(;0<ie;){var z=ie-1>>>1,J=W[z];if(0<i(J,Z))W[z]=Z,W[ie]=J,ie=z;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Z=W[0],ie=W.pop();if(ie!==Z){W[0]=ie;e:for(var z=0,J=W.length,pe=J>>>1;z<pe;){var me=2*(z+1)-1,Se=W[me],Ae=me+1,ae=W[Ae];if(0>i(Se,ie))Ae<J&&0>i(ae,Se)?(W[z]=ae,W[Ae]=ie,z=Ae):(W[z]=Se,W[me]=ie,z=me);else if(Ae<J&&0>i(ae,ie))W[z]=ae,W[Ae]=ie,z=Ae;else break e}}return Z}function i(W,Z){var ie=W.sortIndex-Z.sortIndex;return ie!==0?ie:W.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],p=[],m=1,v=null,E=3,x=!1,P=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(W){for(var Z=n(p);Z!==null;){if(Z.callback===null)r(p);else if(Z.startTime<=W)r(p),Z.sortIndex=Z.expirationTime,e(h,Z);else break;Z=n(p)}}function H(W){if(b=!1,L(W),!P)if(n(h)!==null)P=!0,he(Q);else{var Z=n(p);Z!==null&&te(H,Z.startTime-W)}}function Q(W,Z){P=!1,b&&(b=!1,N(R),R=-1),x=!0;var ie=E;try{for(L(Z),v=n(h);v!==null&&(!(v.expirationTime>Z)||W&&!j());){var z=v.callback;if(typeof z=="function"){v.callback=null,E=v.priorityLevel;var J=z(v.expirationTime<=Z);Z=t.unstable_now(),typeof J=="function"?v.callback=J:v===n(h)&&r(h),L(Z)}else r(h);v=n(h)}if(v!==null)var pe=!0;else{var me=n(p);me!==null&&te(H,me.startTime-Z),pe=!1}return pe}finally{v=null,E=ie,x=!1}}var ee=!1,k=null,R=-1,M=5,U=-1;function j(){return!(t.unstable_now()-U<M)}function F(){if(k!==null){var W=t.unstable_now();U=W;var Z=!0;try{Z=k(!0,W)}finally{Z?O():(ee=!1,k=null)}}else ee=!1}var O;if(typeof D=="function")O=function(){D(F)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,_e=se.port2;se.port1.onmessage=F,O=function(){_e.postMessage(null)}}else O=function(){S(F,0)};function he(W){k=W,ee||(ee=!0,O())}function te(W,Z){R=S(function(){W(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){P||x||(P=!0,he(Q))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(W){switch(E){case 1:case 2:case 3:var Z=3;break;default:Z=E}var ie=E;E=Z;try{return W()}finally{E=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,Z){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ie=E;E=W;try{return Z()}finally{E=ie}},t.unstable_scheduleCallback=function(W,Z,ie){var z=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?z+ie:z):ie=z,W){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ie+J,W={id:m++,callback:Z,priorityLevel:W,startTime:ie,expirationTime:J,sortIndex:-1},ie>z?(W.sortIndex=ie,e(p,W),n(h)===null&&W===n(p)&&(b?(N(R),R=-1):b=!0,te(H,ie-z))):(W.sortIndex=J,e(h,W),P||x||(P=!0,he(Q))),W},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(W){var Z=E;return function(){var ie=E;E=Z;try{return W.apply(this,arguments)}finally{E=ie}}}})(bm)),bm}var h0;function TR(){return h0||(h0=1,Tm.exports=xR()),Tm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function bR(){if(f0)return Mn;f0=1;var t=ay(),e=TR();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function E(s){return h.call(v,s)?!0:h.call(m,s)?!1:p.test(s)?v[s]=!0:(m[s]=!0,!1)}function x(s,o,c,f){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function P(s,o,c,f){if(o===null||typeof o>"u"||x(s,o,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(s,o,c,f,g,w,C){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=w,this.removeEmptyString=C}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){S[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];S[o]=new b(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){S[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){S[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){S[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){S[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){S[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){S[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){S[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function D(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(N,D);S[o]=new b(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(N,D);S[o]=new b(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(N,D);S[o]=new b(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){S[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),S.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){S[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function L(s,o,c,f){var g=S.hasOwnProperty(o)?S[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,c,g,f)&&(c=null),f||g===null?E(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(o=g.attributeName,f=g.attributeNamespace,c===null?s.removeAttribute(o):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?s.setAttributeNS(f,o,c):s.setAttribute(o,c))))}var H=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),ee=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),j=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),W=Symbol.iterator;function Z(s){return s===null||typeof s!="object"?null:(s=W&&s[W]||s["@@iterator"],typeof s=="function"?s:null)}var ie=Object.assign,z;function J(s){if(z===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+s}var pe=!1;function me(s,o){if(!s||pe)return"";pe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var f=Y}Reflect.construct(s,[],o)}else{try{o.call()}catch(Y){f=Y}s.call(o.prototype)}else{try{throw Error()}catch(Y){f=Y}s()}}catch(Y){if(Y&&f&&typeof Y.stack=="string"){for(var g=Y.stack.split(`
`),w=f.stack.split(`
`),C=g.length-1,V=w.length-1;1<=C&&0<=V&&g[C]!==w[V];)V--;for(;1<=C&&0<=V;C--,V--)if(g[C]!==w[V]){if(C!==1||V!==1)do if(C--,V--,0>V||g[C]!==w[V]){var B=`
`+g[C].replace(" at new "," at ");return s.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",s.displayName)),B}while(1<=C&&0<=V);break}}}finally{pe=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?J(s):""}function Se(s){switch(s.tag){case 5:return J(s.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return s=me(s.type,!1),s;case 11:return s=me(s.type.render,!1),s;case 1:return s=me(s.type,!0),s;default:return""}}function Ae(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case ee:return"Portal";case M:return"Profiler";case R:return"StrictMode";case O:return"Suspense";case se:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case j:return(s.displayName||"Context")+".Consumer";case U:return(s._context.displayName||"Context")+".Provider";case F:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case _e:return o=s.displayName||null,o!==null?o:Ae(s.type)||"Memo";case he:o=s._payload,s=s._init;try{return Ae(s(o))}catch{}}return null}function ae(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Te(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ne(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ve(s){var o=Ne(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,w=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(C){f=""+C,w.call(this,C)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function $e(s){s._valueTracker||(s._valueTracker=Ve(s))}function nt(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return s&&(f=Ne(s)?s.checked?"true":"false":s.value),s=f,s!==c?(o.setValue(s),!0):!1}function vt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function cn(s,o){var c=o.checked;return ie({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Hr(s,o){var c=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;c=Te(o.value!=null?o.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Bn(s,o){o=o.checked,o!=null&&L(s,"checked",o,!1)}function zn(s,o){Bn(s,o);var c=Te(o.value),f=o.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?bt(s,o.type,c):o.hasOwnProperty("defaultValue")&&bt(s,o.type,Te(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Os(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function bt(s,o,c){(o!=="number"||vt(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var wt=Array.isArray;function Zt(s,o,c,f){if(s=s.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=o.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&f&&(s[c].defaultSelected=!0)}else{for(c=""+Te(c),o=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function pi(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function $n(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(wt(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:Te(c)}}function ua(s,o){var c=Te(o.value),f=Te(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function qr(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Ht(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wn(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Ht(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Kr,da=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,f,g){MSApp.execUnsafeLocalFunction(function(){return s(o,c,f,g)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Kr=Kr||document.createElement("div"),Kr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Kr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function cr(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wo=["Webkit","ms","Moz","O"];Object.keys(Gr).forEach(function(s){wo.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Gr[o]=Gr[s]})});function ur(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Gr.hasOwnProperty(s)&&Gr[s]?(""+o).trim():o+"px"}function Hn(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=ur(c,o[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,g):s[c]=g}}var mi=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qt(s,o){if(o){if(mi[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function gi(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qr=null;function Ms(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var dr=null,xr=null,lt=null;function Rn(s){if(s=pc(s)){if(typeof dr!="function")throw Error(n(280));var o=s.stateNode;o&&(o=sd(o),dr(s.stateNode,s.type,o))}}function Yr(s){xr?lt?lt.push(s):lt=[s]:xr=s}function Ce(){if(xr){var s=xr,o=lt;if(lt=xr=null,Rn(s),o)for(s=0;s<o.length;s++)Rn(o[s])}}function Xe(s,o){return s(o)}function st(){}var St=!1;function un(s,o,c){if(St)return s(o,c);St=!0;try{return Xe(s,o,c)}finally{St=!1,(xr!==null||lt!==null)&&(st(),Ce())}}function dn(s,o){var c=s.stateNode;if(c===null)return null;var f=sd(c);if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var hn=!1;if(u)try{var kt={};Object.defineProperty(kt,"passive",{get:function(){hn=!0}}),window.addEventListener("test",kt,kt),window.removeEventListener("test",kt,kt)}catch{hn=!1}function qn(s,o,c,f,g,w,C,V,B){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(c,Y)}catch(le){this.onError(le)}}var Ls=!1,Xr=null,ha=!1,hr=null,Lu={onError:function(s){Ls=!0,Xr=s}};function Vu(s,o,c,f,g,w,C,V,B){Ls=!1,Xr=null,qn.apply(Lu,arguments)}function zl(s,o,c,f,g,w,C,V,B){if(Vu.apply(this,arguments),Ls){if(Ls){var Y=Xr;Ls=!1,Xr=null}else throw Error(n(198));ha||(ha=!0,hr=Y)}}function Tr(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function $l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function ju(s){if(Tr(s)!==s)throw Error(n(188))}function Fu(s){var o=s.alternate;if(!o){if(o=Tr(s),o===null)throw Error(n(188));return o!==s?null:s}for(var c=s,f=o;;){var g=c.return;if(g===null)break;var w=g.alternate;if(w===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===c)return ju(g),s;if(w===f)return ju(g),o;w=w.sibling}throw Error(n(188))}if(c.return!==f.return)c=g,f=w;else{for(var C=!1,V=g.child;V;){if(V===c){C=!0,c=g,f=w;break}if(V===f){C=!0,f=g,c=w;break}V=V.sibling}if(!C){for(V=w.child;V;){if(V===c){C=!0,c=w,f=g;break}if(V===f){C=!0,f=w,c=g;break}V=V.sibling}if(!C)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:o}function Uu(s){return s=Fu(s),s!==null?_o(s):null}function _o(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=_o(s);if(o!==null)return o;s=s.sibling}return null}var Wl=e.unstable_scheduleCallback,fa=e.unstable_cancelCallback,Eo=e.unstable_shouldYield,Vs=e.unstable_requestPaint,ht=e.unstable_now,Xf=e.unstable_getCurrentPriorityLevel,pa=e.unstable_ImmediatePriority,Hl=e.unstable_UserBlockingPriority,xo=e.unstable_NormalPriority,ql=e.unstable_LowPriority,ma=e.unstable_IdlePriority,To=null,Kn=null;function Bu(s){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(To,s,void 0,(s.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:bo,Jr=Math.log,fr=Math.LN2;function bo(s){return s>>>=0,s===0?32:31-(Jr(s)/fr|0)|0}var Zr=64,yi=4194304;function tt(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function js(s,o){var c=s.pendingLanes;if(c===0)return 0;var f=0,g=s.suspendedLanes,w=s.pingedLanes,C=c&268435455;if(C!==0){var V=C&~g;V!==0?f=tt(V):(w&=C,w!==0&&(f=tt(w)))}else C=c&~g,C!==0?f=tt(C):w!==0&&(f=tt(w));if(f===0)return 0;if(o!==0&&o!==f&&(o&g)===0&&(g=f&-f,w=o&-o,g>=w||g===16&&(w&4194240)!==0))return o;if((f&4)!==0&&(f|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=f;0<o;)c=31-Gn(o),g=1<<c,f|=s[c],o&=~g;return f}function So(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Io(s,o){for(var c=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var C=31-Gn(w),V=1<<C,B=g[C];B===-1?((V&c)===0||(V&f)!==0)&&(g[C]=So(V,o)):B<=o&&(s.expiredLanes|=V),w&=~V}}function Kl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Gl(){var s=Zr;return Zr<<=1,(Zr&4194240)===0&&(Zr=64),s}function Ql(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Co(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Gn(o),s[o]=c}function Jf(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-Gn(c),w=1<<g;o[g]=0,f[g]=-1,s[g]=-1,c&=~w}}function Yl(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var f=31-Gn(c),g=1<<f;g&o|s[f]&o&&(s[f]|=o),c&=~g}}var Ge=0;function es(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Xl,ga,Jl,Zl,ec,ts=!1,ya=[],ns=null,rs=null,en=null,Po=new Map,Fs=new Map,Qn=[],zu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vi(s,o){switch(s){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":Po.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(o.pointerId)}}function br(s,o,c,f,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:w,targetContainers:[g]},o!==null&&(o=pc(o),o!==null&&ga(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function $u(s,o,c,f,g){switch(o){case"focusin":return ns=br(ns,s,o,c,f,g),!0;case"dragenter":return rs=br(rs,s,o,c,f,g),!0;case"mouseover":return en=br(en,s,o,c,f,g),!0;case"pointerover":var w=g.pointerId;return Po.set(w,br(Po.get(w)||null,s,o,c,f,g)),!0;case"gotpointercapture":return w=g.pointerId,Fs.set(w,br(Fs.get(w)||null,s,o,c,f,g)),!0}return!1}function va(s){var o=No(s.target);if(o!==null){var c=Tr(o);if(c!==null){if(o=c.tag,o===13){if(o=$l(c),o!==null){s.blockedOn=o,ec(s.priority,function(){Jl(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function at(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=wa(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);Qr=f,c.target.dispatchEvent(f),Qr=null}else return o=pc(c),o!==null&&ga(o),s.blockedOn=c,!1;o.shift()}return!0}function Wu(s,o,c){at(s)&&c.delete(o)}function Zf(){ts=!1,ns!==null&&at(ns)&&(ns=null),rs!==null&&at(rs)&&(rs=null),en!==null&&at(en)&&(en=null),Po.forEach(Wu),Fs.forEach(Wu)}function wi(s,o){s.blockedOn===o&&(s.blockedOn=null,ts||(ts=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Zf)))}function _i(s){function o(g){return wi(g,s)}if(0<ya.length){wi(ya[0],s);for(var c=1;c<ya.length;c++){var f=ya[c];f.blockedOn===s&&(f.blockedOn=null)}}for(ns!==null&&wi(ns,s),rs!==null&&wi(rs,s),en!==null&&wi(en,s),Po.forEach(o),Fs.forEach(o),c=0;c<Qn.length;c++)f=Qn[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<Qn.length&&(c=Qn[0],c.blockedOn===null);)va(c),c.blockedOn===null&&Qn.shift()}var Us=H.ReactCurrentBatchConfig,Bs=!0;function ss(s,o,c,f){var g=Ge,w=Us.transition;Us.transition=null;try{Ge=1,tc(s,o,c,f)}finally{Ge=g,Us.transition=w}}function Hu(s,o,c,f){var g=Ge,w=Us.transition;Us.transition=null;try{Ge=4,tc(s,o,c,f)}finally{Ge=g,Us.transition=w}}function tc(s,o,c,f){if(Bs){var g=wa(s,o,c,f);if(g===null)up(s,o,f,is,c),vi(s,f);else if($u(g,s,o,c,f))f.stopPropagation();else if(vi(s,f),o&4&&-1<zu.indexOf(s)){for(;g!==null;){var w=pc(g);if(w!==null&&Xl(w),w=wa(s,o,c,f),w===null&&up(s,o,f,is,c),w===g)break;g=w}g!==null&&f.stopPropagation()}else up(s,o,f,null,c)}}var is=null;function wa(s,o,c,f){if(is=null,s=Ms(f),s=No(s),s!==null)if(o=Tr(s),o===null)s=null;else if(c=o.tag,c===13){if(s=$l(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return is=s,null}function _a(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xf()){case pa:return 1;case Hl:return 4;case xo:case ql:return 16;case ma:return 536870912;default:return 16}default:return 16}}var Yn=null,Ea=null,zs=null;function qu(){if(zs)return zs;var s,o=Ea,c=o.length,f,g="value"in Yn?Yn.value:Yn.textContent,w=g.length;for(s=0;s<c&&o[s]===g[s];s++);var C=c-s;for(f=1;f<=C&&o[c-f]===g[w-f];f++);return zs=g.slice(s,1<f?1-f:void 0)}function Ro(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function os(){return!0}function nc(){return!1}function fn(s){function o(c,f,g,w,C){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=w,this.target=C,this.currentTarget=null;for(var V in s)s.hasOwnProperty(V)&&(c=s[V],this[V]=c?c(w):w[V]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?os:nc,this.isPropagationStopped=nc,this}return ie(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),o}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=fn(as),Ei=ie({},as,{view:0,detail:0}),xa=fn(Ei),Ta,ba,Xn,ko=ie({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fe,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Xn&&(Xn&&s.type==="mousemove"?(Ta=s.screenX-Xn.screenX,ba=s.screenY-Xn.screenY):ba=Ta=0,Xn=s),Ta)},movementY:function(s){return"movementY"in s?s.movementY:ba}}),rc=fn(ko),Ku=ie({},ko,{dataTransfer:0}),Gu=fn(Ku),Sa=ie({},Ei,{relatedTarget:0}),tn=fn(Sa),Qu=ie({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),Yu=fn(Qu),xi=ie({},as,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),d=fn(xi),_=ie({},as,{data:0}),I=fn(_),A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fe(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=X[s])?!!o[s]:!1}function Fe(){return fe}var Ct=ie({},Ei,{key:function(s){if(s.key){var o=A[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Ro(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?K[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fe,charCode:function(s){return s.type==="keypress"?Ro(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ro(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),it=fn(Ct),Nt=ie({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jn=fn(Nt),$s=ie({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fe}),ls=fn($s),cs=ie({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ia=fn(cs),sc=ie({},ko,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),hP=fn(sc),fP=[9,13,27,32],ep=u&&"CompositionEvent"in window,ic=null;u&&"documentMode"in document&&(ic=document.documentMode);var pP=u&&"TextEvent"in window&&!ic,Zv=u&&(!ep||ic&&8<ic&&11>=ic),ew=" ",tw=!1;function nw(s,o){switch(s){case"keyup":return fP.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ca=!1;function mP(s,o){switch(s){case"compositionend":return rw(o);case"keypress":return o.which!==32?null:(tw=!0,ew);case"textInput":return s=o.data,s===ew&&tw?null:s;default:return null}}function gP(s,o){if(Ca)return s==="compositionend"||!ep&&nw(s,o)?(s=qu(),zs=Ea=Yn=null,Ca=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Zv&&o.locale!=="ko"?null:o.data;default:return null}}var yP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sw(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!yP[s.type]:o==="textarea"}function iw(s,o,c,f){Yr(f),o=td(o,"onChange"),0<o.length&&(c=new Ao("onChange","change",null,c,f),s.push({event:c,listeners:o}))}var oc=null,ac=null;function vP(s){Tw(s,0)}function Xu(s){var o=Na(s);if(nt(o))return s}function wP(s,o){if(s==="change")return o}var ow=!1;if(u){var tp;if(u){var np="oninput"in document;if(!np){var aw=document.createElement("div");aw.setAttribute("oninput","return;"),np=typeof aw.oninput=="function"}tp=np}else tp=!1;ow=tp&&(!document.documentMode||9<document.documentMode)}function lw(){oc&&(oc.detachEvent("onpropertychange",cw),ac=oc=null)}function cw(s){if(s.propertyName==="value"&&Xu(ac)){var o=[];iw(o,ac,s,Ms(s)),un(vP,o)}}function _P(s,o,c){s==="focusin"?(lw(),oc=o,ac=c,oc.attachEvent("onpropertychange",cw)):s==="focusout"&&lw()}function EP(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Xu(ac)}function xP(s,o){if(s==="click")return Xu(o)}function TP(s,o){if(s==="input"||s==="change")return Xu(o)}function bP(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Sr=typeof Object.is=="function"?Object.is:bP;function lc(s,o){if(Sr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!h.call(o,g)||!Sr(s[g],o[g]))return!1}return!0}function uw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function dw(s,o){var c=uw(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=o&&f>=o)return{node:c,offset:o-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=uw(c)}}function hw(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?hw(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function fw(){for(var s=window,o=vt();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=vt(s.document)}return o}function rp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function SP(s){var o=fw(),c=s.focusedElem,f=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&hw(c.ownerDocument.documentElement,c)){if(f!==null&&rp(c)){if(o=f.start,s=f.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,w=Math.min(f.start,g);f=f.end===void 0?w:Math.min(f.end,g),!s.extend&&w>f&&(g=f,f=w,w=g),g=dw(c,w);var C=dw(c,f);g&&C&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),w>f?(s.addRange(o),s.extend(C.node,C.offset)):(o.setEnd(C.node,C.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var IP=u&&"documentMode"in document&&11>=document.documentMode,Pa=null,sp=null,cc=null,ip=!1;function pw(s,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ip||Pa==null||Pa!==vt(f)||(f=Pa,"selectionStart"in f&&rp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),cc&&lc(cc,f)||(cc=f,f=td(sp,"onSelect"),0<f.length&&(o=new Ao("onSelect","select",null,o,c),s.push({event:o,listeners:f}),o.target=Pa)))}function Ju(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Ra={animationend:Ju("Animation","AnimationEnd"),animationiteration:Ju("Animation","AnimationIteration"),animationstart:Ju("Animation","AnimationStart"),transitionend:Ju("Transition","TransitionEnd")},op={},mw={};u&&(mw=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Zu(s){if(op[s])return op[s];if(!Ra[s])return s;var o=Ra[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in mw)return op[s]=o[c];return s}var gw=Zu("animationend"),yw=Zu("animationiteration"),vw=Zu("animationstart"),ww=Zu("transitionend"),_w=new Map,Ew="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(s,o){_w.set(s,o),a(o,[s])}for(var ap=0;ap<Ew.length;ap++){var lp=Ew[ap],CP=lp.toLowerCase(),PP=lp[0].toUpperCase()+lp.slice(1);Ti(CP,"on"+PP)}Ti(gw,"onAnimationEnd"),Ti(yw,"onAnimationIteration"),Ti(vw,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(ww,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RP=new Set("cancel close invalid load scroll toggle".split(" ").concat(uc));function xw(s,o,c){var f=s.type||"unknown-event";s.currentTarget=c,zl(f,o,void 0,s),s.currentTarget=null}function Tw(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],g=f.event;f=f.listeners;e:{var w=void 0;if(o)for(var C=f.length-1;0<=C;C--){var V=f[C],B=V.instance,Y=V.currentTarget;if(V=V.listener,B!==w&&g.isPropagationStopped())break e;xw(g,V,Y),w=B}else for(C=0;C<f.length;C++){if(V=f[C],B=V.instance,Y=V.currentTarget,V=V.listener,B!==w&&g.isPropagationStopped())break e;xw(g,V,Y),w=B}}}if(ha)throw s=hr,ha=!1,hr=null,s}function ft(s,o){var c=o[gp];c===void 0&&(c=o[gp]=new Set);var f=s+"__bubble";c.has(f)||(bw(o,s,2,!1),c.add(f))}function cp(s,o,c){var f=0;o&&(f|=4),bw(c,s,f,o)}var ed="_reactListening"+Math.random().toString(36).slice(2);function dc(s){if(!s[ed]){s[ed]=!0,r.forEach(function(c){c!=="selectionchange"&&(RP.has(c)||cp(c,!1,s),cp(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[ed]||(o[ed]=!0,cp("selectionchange",!1,o))}}function bw(s,o,c,f){switch(_a(o)){case 1:var g=ss;break;case 4:g=Hu;break;default:g=tc}c=g.bind(null,o,c,s),g=void 0,!hn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(o,c,{capture:!0,passive:g}):s.addEventListener(o,c,!0):g!==void 0?s.addEventListener(o,c,{passive:g}):s.addEventListener(o,c,!1)}function up(s,o,c,f,g){var w=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var V=f.stateNode.containerInfo;if(V===g||V.nodeType===8&&V.parentNode===g)break;if(C===4)for(C=f.return;C!==null;){var B=C.tag;if((B===3||B===4)&&(B=C.stateNode.containerInfo,B===g||B.nodeType===8&&B.parentNode===g))return;C=C.return}for(;V!==null;){if(C=No(V),C===null)return;if(B=C.tag,B===5||B===6){f=w=C;continue e}V=V.parentNode}}f=f.return}un(function(){var Y=w,le=Ms(c),ce=[];e:{var oe=_w.get(s);if(oe!==void 0){var ye=Ao,Ee=s;switch(s){case"keypress":if(Ro(c)===0)break e;case"keydown":case"keyup":ye=it;break;case"focusin":Ee="focus",ye=tn;break;case"focusout":Ee="blur",ye=tn;break;case"beforeblur":case"afterblur":ye=tn;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=ls;break;case gw:case yw:case vw:ye=Yu;break;case ww:ye=Ia;break;case"scroll":ye=xa;break;case"wheel":ye=hP;break;case"copy":case"cut":case"paste":ye=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Jn}var xe=(o&4)!==0,Pt=!xe&&s==="scroll",q=xe?oe!==null?oe+"Capture":null:oe;xe=[];for(var $=Y,G;$!==null;){G=$;var ue=G.stateNode;if(G.tag===5&&ue!==null&&(G=ue,q!==null&&(ue=dn($,q),ue!=null&&xe.push(hc($,ue,G)))),Pt)break;$=$.return}0<xe.length&&(oe=new ye(oe,Ee,null,c,le),ce.push({event:oe,listeners:xe}))}}if((o&7)===0){e:{if(oe=s==="mouseover"||s==="pointerover",ye=s==="mouseout"||s==="pointerout",oe&&c!==Qr&&(Ee=c.relatedTarget||c.fromElement)&&(No(Ee)||Ee[Ws]))break e;if((ye||oe)&&(oe=le.window===le?le:(oe=le.ownerDocument)?oe.defaultView||oe.parentWindow:window,ye?(Ee=c.relatedTarget||c.toElement,ye=Y,Ee=Ee?No(Ee):null,Ee!==null&&(Pt=Tr(Ee),Ee!==Pt||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(ye=null,Ee=Y),ye!==Ee)){if(xe=rc,ue="onMouseLeave",q="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(xe=Jn,ue="onPointerLeave",q="onPointerEnter",$="pointer"),Pt=ye==null?oe:Na(ye),G=Ee==null?oe:Na(Ee),oe=new xe(ue,$+"leave",ye,c,le),oe.target=Pt,oe.relatedTarget=G,ue=null,No(le)===Y&&(xe=new xe(q,$+"enter",Ee,c,le),xe.target=G,xe.relatedTarget=Pt,ue=xe),Pt=ue,ye&&Ee)t:{for(xe=ye,q=Ee,$=0,G=xe;G;G=Aa(G))$++;for(G=0,ue=q;ue;ue=Aa(ue))G++;for(;0<$-G;)xe=Aa(xe),$--;for(;0<G-$;)q=Aa(q),G--;for(;$--;){if(xe===q||q!==null&&xe===q.alternate)break t;xe=Aa(xe),q=Aa(q)}xe=null}else xe=null;ye!==null&&Sw(ce,oe,ye,xe,!1),Ee!==null&&Pt!==null&&Sw(ce,Pt,Ee,xe,!0)}}e:{if(oe=Y?Na(Y):window,ye=oe.nodeName&&oe.nodeName.toLowerCase(),ye==="select"||ye==="input"&&oe.type==="file")var be=wP;else if(sw(oe))if(ow)be=TP;else{be=EP;var Pe=_P}else(ye=oe.nodeName)&&ye.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(be=xP);if(be&&(be=be(s,Y))){iw(ce,be,c,le);break e}Pe&&Pe(s,oe,Y),s==="focusout"&&(Pe=oe._wrapperState)&&Pe.controlled&&oe.type==="number"&&bt(oe,"number",oe.value)}switch(Pe=Y?Na(Y):window,s){case"focusin":(sw(Pe)||Pe.contentEditable==="true")&&(Pa=Pe,sp=Y,cc=null);break;case"focusout":cc=sp=Pa=null;break;case"mousedown":ip=!0;break;case"contextmenu":case"mouseup":case"dragend":ip=!1,pw(ce,c,le);break;case"selectionchange":if(IP)break;case"keydown":case"keyup":pw(ce,c,le)}var Re;if(ep)e:{switch(s){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Ca?nw(s,c)&&(Le="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Le="onCompositionStart");Le&&(Zv&&c.locale!=="ko"&&(Ca||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ca&&(Re=qu()):(Yn=le,Ea="value"in Yn?Yn.value:Yn.textContent,Ca=!0)),Pe=td(Y,Le),0<Pe.length&&(Le=new I(Le,s,null,c,le),ce.push({event:Le,listeners:Pe}),Re?Le.data=Re:(Re=rw(c),Re!==null&&(Le.data=Re)))),(Re=pP?mP(s,c):gP(s,c))&&(Y=td(Y,"onBeforeInput"),0<Y.length&&(le=new I("onBeforeInput","beforeinput",null,c,le),ce.push({event:le,listeners:Y}),le.data=Re))}Tw(ce,o)})}function hc(s,o,c){return{instance:s,listener:o,currentTarget:c}}function td(s,o){for(var c=o+"Capture",f=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=dn(s,c),w!=null&&f.unshift(hc(s,w,g)),w=dn(s,o),w!=null&&f.push(hc(s,w,g))),s=s.return}return f}function Aa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Sw(s,o,c,f,g){for(var w=o._reactName,C=[];c!==null&&c!==f;){var V=c,B=V.alternate,Y=V.stateNode;if(B!==null&&B===f)break;V.tag===5&&Y!==null&&(V=Y,g?(B=dn(c,w),B!=null&&C.unshift(hc(c,B,V))):g||(B=dn(c,w),B!=null&&C.push(hc(c,B,V)))),c=c.return}C.length!==0&&s.push({event:o,listeners:C})}var AP=/\r\n?/g,kP=/\u0000|\uFFFD/g;function Iw(s){return(typeof s=="string"?s:""+s).replace(AP,`
`).replace(kP,"")}function nd(s,o,c){if(o=Iw(o),Iw(s)!==o&&c)throw Error(n(425))}function rd(){}var dp=null,hp=null;function fp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var pp=typeof setTimeout=="function"?setTimeout:void 0,NP=typeof clearTimeout=="function"?clearTimeout:void 0,Cw=typeof Promise=="function"?Promise:void 0,DP=typeof queueMicrotask=="function"?queueMicrotask:typeof Cw<"u"?function(s){return Cw.resolve(null).then(s).catch(OP)}:pp;function OP(s){setTimeout(function(){throw s})}function mp(s,o){var c=o,f=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){s.removeChild(g),_i(o);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);_i(o)}function bi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Pw(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var ka=Math.random().toString(36).slice(2),us="__reactFiber$"+ka,fc="__reactProps$"+ka,Ws="__reactContainer$"+ka,gp="__reactEvents$"+ka,MP="__reactListeners$"+ka,LP="__reactHandles$"+ka;function No(s){var o=s[us];if(o)return o;for(var c=s.parentNode;c;){if(o=c[Ws]||c[us]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=Pw(s);s!==null;){if(c=s[us])return c;s=Pw(s)}return o}s=c,c=s.parentNode}return null}function pc(s){return s=s[us]||s[Ws],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Na(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function sd(s){return s[fc]||null}var yp=[],Da=-1;function Si(s){return{current:s}}function pt(s){0>Da||(s.current=yp[Da],yp[Da]=null,Da--)}function ct(s,o){Da++,yp[Da]=s.current,s.current=o}var Ii={},pn=Si(Ii),An=Si(!1),Do=Ii;function Oa(s,o){var c=s.type.contextTypes;if(!c)return Ii;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in c)g[w]=o[w];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function kn(s){return s=s.childContextTypes,s!=null}function id(){pt(An),pt(pn)}function Rw(s,o,c){if(pn.current!==Ii)throw Error(n(168));ct(pn,o),ct(An,c)}function Aw(s,o,c){var f=s.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(n(108,ae(s)||"Unknown",g));return ie({},c,f)}function od(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ii,Do=pn.current,ct(pn,s),ct(An,An.current),!0}function kw(s,o,c){var f=s.stateNode;if(!f)throw Error(n(169));c?(s=Aw(s,o,Do),f.__reactInternalMemoizedMergedChildContext=s,pt(An),pt(pn),ct(pn,s)):pt(An),ct(An,c)}var Hs=null,ad=!1,vp=!1;function Nw(s){Hs===null?Hs=[s]:Hs.push(s)}function VP(s){ad=!0,Nw(s)}function Ci(){if(!vp&&Hs!==null){vp=!0;var s=0,o=Ge;try{var c=Hs;for(Ge=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}Hs=null,ad=!1}catch(g){throw Hs!==null&&(Hs=Hs.slice(s+1)),Wl(pa,Ci),g}finally{Ge=o,vp=!1}}return null}var Ma=[],La=0,ld=null,cd=0,pr=[],mr=0,Oo=null,qs=1,Ks="";function Mo(s,o){Ma[La++]=cd,Ma[La++]=ld,ld=s,cd=o}function Dw(s,o,c){pr[mr++]=qs,pr[mr++]=Ks,pr[mr++]=Oo,Oo=s;var f=qs;s=Ks;var g=32-Gn(f)-1;f&=~(1<<g),c+=1;var w=32-Gn(o)+g;if(30<w){var C=g-g%5;w=(f&(1<<C)-1).toString(32),f>>=C,g-=C,qs=1<<32-Gn(o)+g|c<<g|f,Ks=w+s}else qs=1<<w|c<<g|f,Ks=s}function wp(s){s.return!==null&&(Mo(s,1),Dw(s,1,0))}function _p(s){for(;s===ld;)ld=Ma[--La],Ma[La]=null,cd=Ma[--La],Ma[La]=null;for(;s===Oo;)Oo=pr[--mr],pr[mr]=null,Ks=pr[--mr],pr[mr]=null,qs=pr[--mr],pr[mr]=null}var Zn=null,er=null,_t=!1,Ir=null;function Ow(s,o){var c=wr(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function Mw(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Zn=s,er=bi(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Zn=s,er=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Oo!==null?{id:qs,overflow:Ks}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=wr(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,Zn=s,er=null,!0):!1;default:return!1}}function Ep(s){return(s.mode&1)!==0&&(s.flags&128)===0}function xp(s){if(_t){var o=er;if(o){var c=o;if(!Mw(s,o)){if(Ep(s))throw Error(n(418));o=bi(c.nextSibling);var f=Zn;o&&Mw(s,o)?Ow(f,c):(s.flags=s.flags&-4097|2,_t=!1,Zn=s)}}else{if(Ep(s))throw Error(n(418));s.flags=s.flags&-4097|2,_t=!1,Zn=s}}}function Lw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Zn=s}function ud(s){if(s!==Zn)return!1;if(!_t)return Lw(s),_t=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!fp(s.type,s.memoizedProps)),o&&(o=er)){if(Ep(s))throw Vw(),Error(n(418));for(;o;)Ow(s,o),o=bi(o.nextSibling)}if(Lw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){er=bi(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}er=null}}else er=Zn?bi(s.stateNode.nextSibling):null;return!0}function Vw(){for(var s=er;s;)s=bi(s.nextSibling)}function Va(){er=Zn=null,_t=!1}function Tp(s){Ir===null?Ir=[s]:Ir.push(s)}var jP=H.ReactCurrentBatchConfig;function mc(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var f=c.stateNode}if(!f)throw Error(n(147,s));var g=f,w=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(C){var V=g.refs;C===null?delete V[w]:V[w]=C},o._stringRef=w,o)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function dd(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function jw(s){var o=s._init;return o(s._payload)}function Fw(s){function o(q,$){if(s){var G=q.deletions;G===null?(q.deletions=[$],q.flags|=16):G.push($)}}function c(q,$){if(!s)return null;for(;$!==null;)o(q,$),$=$.sibling;return null}function f(q,$){for(q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function g(q,$){return q=Mi(q,$),q.index=0,q.sibling=null,q}function w(q,$,G){return q.index=G,s?(G=q.alternate,G!==null?(G=G.index,G<$?(q.flags|=2,$):G):(q.flags|=2,$)):(q.flags|=1048576,$)}function C(q){return s&&q.alternate===null&&(q.flags|=2),q}function V(q,$,G,ue){return $===null||$.tag!==6?($=pm(G,q.mode,ue),$.return=q,$):($=g($,G),$.return=q,$)}function B(q,$,G,ue){var be=G.type;return be===k?le(q,$,G.props.children,ue,G.key):$!==null&&($.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===he&&jw(be)===$.type)?(ue=g($,G.props),ue.ref=mc(q,$,G),ue.return=q,ue):(ue=Md(G.type,G.key,G.props,null,q.mode,ue),ue.ref=mc(q,$,G),ue.return=q,ue)}function Y(q,$,G,ue){return $===null||$.tag!==4||$.stateNode.containerInfo!==G.containerInfo||$.stateNode.implementation!==G.implementation?($=mm(G,q.mode,ue),$.return=q,$):($=g($,G.children||[]),$.return=q,$)}function le(q,$,G,ue,be){return $===null||$.tag!==7?($=$o(G,q.mode,ue,be),$.return=q,$):($=g($,G),$.return=q,$)}function ce(q,$,G){if(typeof $=="string"&&$!==""||typeof $=="number")return $=pm(""+$,q.mode,G),$.return=q,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case Q:return G=Md($.type,$.key,$.props,null,q.mode,G),G.ref=mc(q,null,$),G.return=q,G;case ee:return $=mm($,q.mode,G),$.return=q,$;case he:var ue=$._init;return ce(q,ue($._payload),G)}if(wt($)||Z($))return $=$o($,q.mode,G,null),$.return=q,$;dd(q,$)}return null}function oe(q,$,G,ue){var be=$!==null?$.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return be!==null?null:V(q,$,""+G,ue);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Q:return G.key===be?B(q,$,G,ue):null;case ee:return G.key===be?Y(q,$,G,ue):null;case he:return be=G._init,oe(q,$,be(G._payload),ue)}if(wt(G)||Z(G))return be!==null?null:le(q,$,G,ue,null);dd(q,G)}return null}function ye(q,$,G,ue,be){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return q=q.get(G)||null,V($,q,""+ue,be);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case Q:return q=q.get(ue.key===null?G:ue.key)||null,B($,q,ue,be);case ee:return q=q.get(ue.key===null?G:ue.key)||null,Y($,q,ue,be);case he:var Pe=ue._init;return ye(q,$,G,Pe(ue._payload),be)}if(wt(ue)||Z(ue))return q=q.get(G)||null,le($,q,ue,be,null);dd($,ue)}return null}function Ee(q,$,G,ue){for(var be=null,Pe=null,Re=$,Le=$=0,Qt=null;Re!==null&&Le<G.length;Le++){Re.index>Le?(Qt=Re,Re=null):Qt=Re.sibling;var et=oe(q,Re,G[Le],ue);if(et===null){Re===null&&(Re=Qt);break}s&&Re&&et.alternate===null&&o(q,Re),$=w(et,$,Le),Pe===null?be=et:Pe.sibling=et,Pe=et,Re=Qt}if(Le===G.length)return c(q,Re),_t&&Mo(q,Le),be;if(Re===null){for(;Le<G.length;Le++)Re=ce(q,G[Le],ue),Re!==null&&($=w(Re,$,Le),Pe===null?be=Re:Pe.sibling=Re,Pe=Re);return _t&&Mo(q,Le),be}for(Re=f(q,Re);Le<G.length;Le++)Qt=ye(Re,q,Le,G[Le],ue),Qt!==null&&(s&&Qt.alternate!==null&&Re.delete(Qt.key===null?Le:Qt.key),$=w(Qt,$,Le),Pe===null?be=Qt:Pe.sibling=Qt,Pe=Qt);return s&&Re.forEach(function(Li){return o(q,Li)}),_t&&Mo(q,Le),be}function xe(q,$,G,ue){var be=Z(G);if(typeof be!="function")throw Error(n(150));if(G=be.call(G),G==null)throw Error(n(151));for(var Pe=be=null,Re=$,Le=$=0,Qt=null,et=G.next();Re!==null&&!et.done;Le++,et=G.next()){Re.index>Le?(Qt=Re,Re=null):Qt=Re.sibling;var Li=oe(q,Re,et.value,ue);if(Li===null){Re===null&&(Re=Qt);break}s&&Re&&Li.alternate===null&&o(q,Re),$=w(Li,$,Le),Pe===null?be=Li:Pe.sibling=Li,Pe=Li,Re=Qt}if(et.done)return c(q,Re),_t&&Mo(q,Le),be;if(Re===null){for(;!et.done;Le++,et=G.next())et=ce(q,et.value,ue),et!==null&&($=w(et,$,Le),Pe===null?be=et:Pe.sibling=et,Pe=et);return _t&&Mo(q,Le),be}for(Re=f(q,Re);!et.done;Le++,et=G.next())et=ye(Re,q,Le,et.value,ue),et!==null&&(s&&et.alternate!==null&&Re.delete(et.key===null?Le:et.key),$=w(et,$,Le),Pe===null?be=et:Pe.sibling=et,Pe=et);return s&&Re.forEach(function(yR){return o(q,yR)}),_t&&Mo(q,Le),be}function Pt(q,$,G,ue){if(typeof G=="object"&&G!==null&&G.type===k&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case Q:e:{for(var be=G.key,Pe=$;Pe!==null;){if(Pe.key===be){if(be=G.type,be===k){if(Pe.tag===7){c(q,Pe.sibling),$=g(Pe,G.props.children),$.return=q,q=$;break e}}else if(Pe.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===he&&jw(be)===Pe.type){c(q,Pe.sibling),$=g(Pe,G.props),$.ref=mc(q,Pe,G),$.return=q,q=$;break e}c(q,Pe);break}else o(q,Pe);Pe=Pe.sibling}G.type===k?($=$o(G.props.children,q.mode,ue,G.key),$.return=q,q=$):(ue=Md(G.type,G.key,G.props,null,q.mode,ue),ue.ref=mc(q,$,G),ue.return=q,q=ue)}return C(q);case ee:e:{for(Pe=G.key;$!==null;){if($.key===Pe)if($.tag===4&&$.stateNode.containerInfo===G.containerInfo&&$.stateNode.implementation===G.implementation){c(q,$.sibling),$=g($,G.children||[]),$.return=q,q=$;break e}else{c(q,$);break}else o(q,$);$=$.sibling}$=mm(G,q.mode,ue),$.return=q,q=$}return C(q);case he:return Pe=G._init,Pt(q,$,Pe(G._payload),ue)}if(wt(G))return Ee(q,$,G,ue);if(Z(G))return xe(q,$,G,ue);dd(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,$!==null&&$.tag===6?(c(q,$.sibling),$=g($,G),$.return=q,q=$):(c(q,$),$=pm(G,q.mode,ue),$.return=q,q=$),C(q)):c(q,$)}return Pt}var ja=Fw(!0),Uw=Fw(!1),hd=Si(null),fd=null,Fa=null,bp=null;function Sp(){bp=Fa=fd=null}function Ip(s){var o=hd.current;pt(hd),s._currentValue=o}function Cp(s,o,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===c)break;s=s.return}}function Ua(s,o){fd=s,bp=Fa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Nn=!0),s.firstContext=null)}function gr(s){var o=s._currentValue;if(bp!==s)if(s={context:s,memoizedValue:o,next:null},Fa===null){if(fd===null)throw Error(n(308));Fa=s,fd.dependencies={lanes:0,firstContext:s}}else Fa=Fa.next=s;return o}var Lo=null;function Pp(s){Lo===null?Lo=[s]:Lo.push(s)}function Bw(s,o,c,f){var g=o.interleaved;return g===null?(c.next=c,Pp(o)):(c.next=g.next,g.next=c),o.interleaved=c,Gs(s,f)}function Gs(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Pi=!1;function Rp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zw(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Qs(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ri(s,o,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Je&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,Gs(s,c)}return g=f.interleaved,g===null?(o.next=o,Pp(f)):(o.next=g.next,g.next=o),f.interleaved=o,Gs(s,c)}function pd(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,Yl(s,c)}}function $w(s,o){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var C={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?g=w=C:w=w.next=C,c=c.next}while(c!==null);w===null?g=w=o:w=w.next=o}else g=w=o;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function md(s,o,c,f){var g=s.updateQueue;Pi=!1;var w=g.firstBaseUpdate,C=g.lastBaseUpdate,V=g.shared.pending;if(V!==null){g.shared.pending=null;var B=V,Y=B.next;B.next=null,C===null?w=Y:C.next=Y,C=B;var le=s.alternate;le!==null&&(le=le.updateQueue,V=le.lastBaseUpdate,V!==C&&(V===null?le.firstBaseUpdate=Y:V.next=Y,le.lastBaseUpdate=B))}if(w!==null){var ce=g.baseState;C=0,le=Y=B=null,V=w;do{var oe=V.lane,ye=V.eventTime;if((f&oe)===oe){le!==null&&(le=le.next={eventTime:ye,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var Ee=s,xe=V;switch(oe=o,ye=c,xe.tag){case 1:if(Ee=xe.payload,typeof Ee=="function"){ce=Ee.call(ye,ce,oe);break e}ce=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=xe.payload,oe=typeof Ee=="function"?Ee.call(ye,ce,oe):Ee,oe==null)break e;ce=ie({},ce,oe);break e;case 2:Pi=!0}}V.callback!==null&&V.lane!==0&&(s.flags|=64,oe=g.effects,oe===null?g.effects=[V]:oe.push(V))}else ye={eventTime:ye,lane:oe,tag:V.tag,payload:V.payload,callback:V.callback,next:null},le===null?(Y=le=ye,B=ce):le=le.next=ye,C|=oe;if(V=V.next,V===null){if(V=g.shared.pending,V===null)break;oe=V,V=oe.next,oe.next=null,g.lastBaseUpdate=oe,g.shared.pending=null}}while(!0);if(le===null&&(B=ce),g.baseState=B,g.firstBaseUpdate=Y,g.lastBaseUpdate=le,o=g.shared.interleaved,o!==null){g=o;do C|=g.lane,g=g.next;while(g!==o)}else w===null&&(g.shared.lanes=0);Fo|=C,s.lanes=C,s.memoizedState=ce}}function Ww(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var f=s[o],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(n(191,g));g.call(f)}}}var gc={},ds=Si(gc),yc=Si(gc),vc=Si(gc);function Vo(s){if(s===gc)throw Error(n(174));return s}function Ap(s,o){switch(ct(vc,o),ct(yc,s),ct(ds,gc),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Wn(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Wn(o,s)}pt(ds),ct(ds,o)}function Ba(){pt(ds),pt(yc),pt(vc)}function Hw(s){Vo(vc.current);var o=Vo(ds.current),c=Wn(o,s.type);o!==c&&(ct(yc,s),ct(ds,c))}function kp(s){yc.current===s&&(pt(ds),pt(yc))}var Et=Si(0);function gd(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Np=[];function Dp(){for(var s=0;s<Np.length;s++)Np[s]._workInProgressVersionPrimary=null;Np.length=0}var yd=H.ReactCurrentDispatcher,Op=H.ReactCurrentBatchConfig,jo=0,xt=null,zt=null,Kt=null,vd=!1,wc=!1,_c=0,FP=0;function mn(){throw Error(n(321))}function Mp(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Sr(s[c],o[c]))return!1;return!0}function Lp(s,o,c,f,g,w){if(jo=w,xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,yd.current=s===null||s.memoizedState===null?$P:WP,s=c(f,g),wc){w=0;do{if(wc=!1,_c=0,25<=w)throw Error(n(301));w+=1,Kt=zt=null,o.updateQueue=null,yd.current=HP,s=c(f,g)}while(wc)}if(yd.current=Ed,o=zt!==null&&zt.next!==null,jo=0,Kt=zt=xt=null,vd=!1,o)throw Error(n(300));return s}function Vp(){var s=_c!==0;return _c=0,s}function hs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?xt.memoizedState=Kt=s:Kt=Kt.next=s,Kt}function yr(){if(zt===null){var s=xt.alternate;s=s!==null?s.memoizedState:null}else s=zt.next;var o=Kt===null?xt.memoizedState:Kt.next;if(o!==null)Kt=o,zt=s;else{if(s===null)throw Error(n(310));zt=s,s={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Kt===null?xt.memoizedState=Kt=s:Kt=Kt.next=s}return Kt}function Ec(s,o){return typeof o=="function"?o(s):o}function jp(s){var o=yr(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=zt,g=f.baseQueue,w=c.pending;if(w!==null){if(g!==null){var C=g.next;g.next=w.next,w.next=C}f.baseQueue=g=w,c.pending=null}if(g!==null){w=g.next,f=f.baseState;var V=C=null,B=null,Y=w;do{var le=Y.lane;if((jo&le)===le)B!==null&&(B=B.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),f=Y.hasEagerState?Y.eagerState:s(f,Y.action);else{var ce={lane:le,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};B===null?(V=B=ce,C=f):B=B.next=ce,xt.lanes|=le,Fo|=le}Y=Y.next}while(Y!==null&&Y!==w);B===null?C=f:B.next=V,Sr(f,o.memoizedState)||(Nn=!0),o.memoizedState=f,o.baseState=C,o.baseQueue=B,c.lastRenderedState=f}if(s=c.interleaved,s!==null){g=s;do w=g.lane,xt.lanes|=w,Fo|=w,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Fp(s){var o=yr(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=c.dispatch,g=c.pending,w=o.memoizedState;if(g!==null){c.pending=null;var C=g=g.next;do w=s(w,C.action),C=C.next;while(C!==g);Sr(w,o.memoizedState)||(Nn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,f]}function qw(){}function Kw(s,o){var c=xt,f=yr(),g=o(),w=!Sr(f.memoizedState,g);if(w&&(f.memoizedState=g,Nn=!0),f=f.queue,Up(Yw.bind(null,c,f,s),[s]),f.getSnapshot!==o||w||Kt!==null&&Kt.memoizedState.tag&1){if(c.flags|=2048,xc(9,Qw.bind(null,c,f,g,o),void 0,null),Gt===null)throw Error(n(349));(jo&30)!==0||Gw(c,o,g)}return g}function Gw(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=xt.updateQueue,o===null?(o={lastEffect:null,stores:null},xt.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function Qw(s,o,c,f){o.value=c,o.getSnapshot=f,Xw(o)&&Jw(s)}function Yw(s,o,c){return c(function(){Xw(o)&&Jw(s)})}function Xw(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Sr(s,c)}catch{return!0}}function Jw(s){var o=Gs(s,1);o!==null&&Ar(o,s,1,-1)}function Zw(s){var o=hs();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ec,lastRenderedState:s},o.queue=s,s=s.dispatch=zP.bind(null,xt,s),[o.memoizedState,s]}function xc(s,o,c,f){return s={tag:s,create:o,destroy:c,deps:f,next:null},o=xt.updateQueue,o===null?(o={lastEffect:null,stores:null},xt.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,o.lastEffect=s)),s}function e_(){return yr().memoizedState}function wd(s,o,c,f){var g=hs();xt.flags|=s,g.memoizedState=xc(1|o,c,void 0,f===void 0?null:f)}function _d(s,o,c,f){var g=yr();f=f===void 0?null:f;var w=void 0;if(zt!==null){var C=zt.memoizedState;if(w=C.destroy,f!==null&&Mp(f,C.deps)){g.memoizedState=xc(o,c,w,f);return}}xt.flags|=s,g.memoizedState=xc(1|o,c,w,f)}function t_(s,o){return wd(8390656,8,s,o)}function Up(s,o){return _d(2048,8,s,o)}function n_(s,o){return _d(4,2,s,o)}function r_(s,o){return _d(4,4,s,o)}function s_(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function i_(s,o,c){return c=c!=null?c.concat([s]):null,_d(4,4,s_.bind(null,o,s),c)}function Bp(){}function o_(s,o){var c=yr();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&Mp(o,f[1])?f[0]:(c.memoizedState=[s,o],s)}function a_(s,o){var c=yr();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&Mp(o,f[1])?f[0]:(s=s(),c.memoizedState=[s,o],s)}function l_(s,o,c){return(jo&21)===0?(s.baseState&&(s.baseState=!1,Nn=!0),s.memoizedState=c):(Sr(c,o)||(c=Gl(),xt.lanes|=c,Fo|=c,s.baseState=!0),o)}function UP(s,o){var c=Ge;Ge=c!==0&&4>c?c:4,s(!0);var f=Op.transition;Op.transition={};try{s(!1),o()}finally{Ge=c,Op.transition=f}}function c_(){return yr().memoizedState}function BP(s,o,c){var f=Di(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},u_(s))d_(o,c);else if(c=Bw(s,o,c,f),c!==null){var g=bn();Ar(c,s,f,g),h_(c,o,f)}}function zP(s,o,c){var f=Di(s),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(u_(s))d_(o,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var C=o.lastRenderedState,V=w(C,c);if(g.hasEagerState=!0,g.eagerState=V,Sr(V,C)){var B=o.interleaved;B===null?(g.next=g,Pp(o)):(g.next=B.next,B.next=g),o.interleaved=g;return}}catch{}finally{}c=Bw(s,o,g,f),c!==null&&(g=bn(),Ar(c,s,f,g),h_(c,o,f))}}function u_(s){var o=s.alternate;return s===xt||o!==null&&o===xt}function d_(s,o){wc=vd=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function h_(s,o,c){if((c&4194240)!==0){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,Yl(s,c)}}var Ed={readContext:gr,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},$P={readContext:gr,useCallback:function(s,o){return hs().memoizedState=[s,o===void 0?null:o],s},useContext:gr,useEffect:t_,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,wd(4194308,4,s_.bind(null,o,s),c)},useLayoutEffect:function(s,o){return wd(4194308,4,s,o)},useInsertionEffect:function(s,o){return wd(4,2,s,o)},useMemo:function(s,o){var c=hs();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var f=hs();return o=c!==void 0?c(o):o,f.memoizedState=f.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},f.queue=s,s=s.dispatch=BP.bind(null,xt,s),[f.memoizedState,s]},useRef:function(s){var o=hs();return s={current:s},o.memoizedState=s},useState:Zw,useDebugValue:Bp,useDeferredValue:function(s){return hs().memoizedState=s},useTransition:function(){var s=Zw(!1),o=s[0];return s=UP.bind(null,s[1]),hs().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var f=xt,g=hs();if(_t){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),Gt===null)throw Error(n(349));(jo&30)!==0||Gw(f,o,c)}g.memoizedState=c;var w={value:c,getSnapshot:o};return g.queue=w,t_(Yw.bind(null,f,w,s),[s]),f.flags|=2048,xc(9,Qw.bind(null,f,w,c,o),void 0,null),c},useId:function(){var s=hs(),o=Gt.identifierPrefix;if(_t){var c=Ks,f=qs;c=(f&~(1<<32-Gn(f)-1)).toString(32)+c,o=":"+o+"R"+c,c=_c++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=FP++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},WP={readContext:gr,useCallback:o_,useContext:gr,useEffect:Up,useImperativeHandle:i_,useInsertionEffect:n_,useLayoutEffect:r_,useMemo:a_,useReducer:jp,useRef:e_,useState:function(){return jp(Ec)},useDebugValue:Bp,useDeferredValue:function(s){var o=yr();return l_(o,zt.memoizedState,s)},useTransition:function(){var s=jp(Ec)[0],o=yr().memoizedState;return[s,o]},useMutableSource:qw,useSyncExternalStore:Kw,useId:c_,unstable_isNewReconciler:!1},HP={readContext:gr,useCallback:o_,useContext:gr,useEffect:Up,useImperativeHandle:i_,useInsertionEffect:n_,useLayoutEffect:r_,useMemo:a_,useReducer:Fp,useRef:e_,useState:function(){return Fp(Ec)},useDebugValue:Bp,useDeferredValue:function(s){var o=yr();return zt===null?o.memoizedState=s:l_(o,zt.memoizedState,s)},useTransition:function(){var s=Fp(Ec)[0],o=yr().memoizedState;return[s,o]},useMutableSource:qw,useSyncExternalStore:Kw,useId:c_,unstable_isNewReconciler:!1};function Cr(s,o){if(s&&s.defaultProps){o=ie({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function zp(s,o,c,f){o=s.memoizedState,c=c(f,o),c=c==null?o:ie({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var xd={isMounted:function(s){return(s=s._reactInternals)?Tr(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var f=bn(),g=Di(s),w=Qs(f,g);w.payload=o,c!=null&&(w.callback=c),o=Ri(s,w,g),o!==null&&(Ar(o,s,g,f),pd(o,s,g))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var f=bn(),g=Di(s),w=Qs(f,g);w.tag=1,w.payload=o,c!=null&&(w.callback=c),o=Ri(s,w,g),o!==null&&(Ar(o,s,g,f),pd(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=bn(),f=Di(s),g=Qs(c,f);g.tag=2,o!=null&&(g.callback=o),o=Ri(s,g,f),o!==null&&(Ar(o,s,f,c),pd(o,s,f))}};function f_(s,o,c,f,g,w,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,w,C):o.prototype&&o.prototype.isPureReactComponent?!lc(c,f)||!lc(g,w):!0}function p_(s,o,c){var f=!1,g=Ii,w=o.contextType;return typeof w=="object"&&w!==null?w=gr(w):(g=kn(o)?Do:pn.current,f=o.contextTypes,w=(f=f!=null)?Oa(s,g):Ii),o=new o(c,w),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=xd,s.stateNode=o,o._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),o}function m_(s,o,c,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==s&&xd.enqueueReplaceState(o,o.state,null)}function $p(s,o,c,f){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},Rp(s);var w=o.contextType;typeof w=="object"&&w!==null?g.context=gr(w):(w=kn(o)?Do:pn.current,g.context=Oa(s,w)),g.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(zp(s,o,w,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&xd.enqueueReplaceState(g,g.state,null),md(s,c,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function za(s,o){try{var c="",f=o;do c+=Se(f),f=f.return;while(f);var g=c}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:o,stack:g,digest:null}}function Wp(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function Hp(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var qP=typeof WeakMap=="function"?WeakMap:Map;function g_(s,o,c){c=Qs(-1,c),c.tag=3,c.payload={element:null};var f=o.value;return c.callback=function(){Rd||(Rd=!0,om=f),Hp(s,o)},c}function y_(s,o,c){c=Qs(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;c.payload=function(){return f(g)},c.callback=function(){Hp(s,o)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){Hp(s,o),typeof f!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var C=o.stack;this.componentDidCatch(o.value,{componentStack:C!==null?C:""})}),c}function v_(s,o,c){var f=s.pingCache;if(f===null){f=s.pingCache=new qP;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(c)||(g.add(c),s=oR.bind(null,s,o,c),o.then(s,s))}function w_(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function __(s,o,c,f,g){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Qs(-1,1),o.tag=2,Ri(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var KP=H.ReactCurrentOwner,Nn=!1;function Tn(s,o,c,f){o.child=s===null?Uw(o,null,c,f):ja(o,s.child,c,f)}function E_(s,o,c,f,g){c=c.render;var w=o.ref;return Ua(o,g),f=Lp(s,o,c,f,w,g),c=Vp(),s!==null&&!Nn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Ys(s,o,g)):(_t&&c&&wp(o),o.flags|=1,Tn(s,o,f,g),o.child)}function x_(s,o,c,f,g){if(s===null){var w=c.type;return typeof w=="function"&&!fm(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=w,T_(s,o,w,f,g)):(s=Md(c.type,null,f,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,(s.lanes&g)===0){var C=w.memoizedProps;if(c=c.compare,c=c!==null?c:lc,c(C,f)&&s.ref===o.ref)return Ys(s,o,g)}return o.flags|=1,s=Mi(w,f),s.ref=o.ref,s.return=o,o.child=s}function T_(s,o,c,f,g){if(s!==null){var w=s.memoizedProps;if(lc(w,f)&&s.ref===o.ref)if(Nn=!1,o.pendingProps=f=w,(s.lanes&g)!==0)(s.flags&131072)!==0&&(Nn=!0);else return o.lanes=s.lanes,Ys(s,o,g)}return qp(s,o,c,f,g)}function b_(s,o,c){var f=o.pendingProps,g=f.children,w=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(Wa,tr),tr|=c;else{if((c&1073741824)===0)return s=w!==null?w.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,ct(Wa,tr),tr|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=w!==null?w.baseLanes:c,ct(Wa,tr),tr|=f}else w!==null?(f=w.baseLanes|c,o.memoizedState=null):f=c,ct(Wa,tr),tr|=f;return Tn(s,o,g,c),o.child}function S_(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function qp(s,o,c,f,g){var w=kn(c)?Do:pn.current;return w=Oa(o,w),Ua(o,g),c=Lp(s,o,c,f,w,g),f=Vp(),s!==null&&!Nn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Ys(s,o,g)):(_t&&f&&wp(o),o.flags|=1,Tn(s,o,c,g),o.child)}function I_(s,o,c,f,g){if(kn(c)){var w=!0;od(o)}else w=!1;if(Ua(o,g),o.stateNode===null)bd(s,o),p_(o,c,f),$p(o,c,f,g),f=!0;else if(s===null){var C=o.stateNode,V=o.memoizedProps;C.props=V;var B=C.context,Y=c.contextType;typeof Y=="object"&&Y!==null?Y=gr(Y):(Y=kn(c)?Do:pn.current,Y=Oa(o,Y));var le=c.getDerivedStateFromProps,ce=typeof le=="function"||typeof C.getSnapshotBeforeUpdate=="function";ce||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(V!==f||B!==Y)&&m_(o,C,f,Y),Pi=!1;var oe=o.memoizedState;C.state=oe,md(o,f,C,g),B=o.memoizedState,V!==f||oe!==B||An.current||Pi?(typeof le=="function"&&(zp(o,c,le,f),B=o.memoizedState),(V=Pi||f_(o,c,V,f,oe,B,Y))?(ce||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(o.flags|=4194308)):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=B),C.props=f,C.state=B,C.context=Y,f=V):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{C=o.stateNode,zw(s,o),V=o.memoizedProps,Y=o.type===o.elementType?V:Cr(o.type,V),C.props=Y,ce=o.pendingProps,oe=C.context,B=c.contextType,typeof B=="object"&&B!==null?B=gr(B):(B=kn(c)?Do:pn.current,B=Oa(o,B));var ye=c.getDerivedStateFromProps;(le=typeof ye=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(V!==ce||oe!==B)&&m_(o,C,f,B),Pi=!1,oe=o.memoizedState,C.state=oe,md(o,f,C,g);var Ee=o.memoizedState;V!==ce||oe!==Ee||An.current||Pi?(typeof ye=="function"&&(zp(o,c,ye,f),Ee=o.memoizedState),(Y=Pi||f_(o,c,Y,f,oe,Ee,B)||!1)?(le||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(f,Ee,B),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(f,Ee,B)),typeof C.componentDidUpdate=="function"&&(o.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof C.componentDidUpdate!="function"||V===s.memoizedProps&&oe===s.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&oe===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=Ee),C.props=f,C.state=Ee,C.context=B,f=Y):(typeof C.componentDidUpdate!="function"||V===s.memoizedProps&&oe===s.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&oe===s.memoizedState||(o.flags|=1024),f=!1)}return Kp(s,o,c,f,w,g)}function Kp(s,o,c,f,g,w){S_(s,o);var C=(o.flags&128)!==0;if(!f&&!C)return g&&kw(o,c,!1),Ys(s,o,w);f=o.stateNode,KP.current=o;var V=C&&typeof c.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,s!==null&&C?(o.child=ja(o,s.child,null,w),o.child=ja(o,null,V,w)):Tn(s,o,V,w),o.memoizedState=f.state,g&&kw(o,c,!0),o.child}function C_(s){var o=s.stateNode;o.pendingContext?Rw(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Rw(s,o.context,!1),Ap(s,o.containerInfo)}function P_(s,o,c,f,g){return Va(),Tp(g),o.flags|=256,Tn(s,o,c,f),o.child}var Gp={dehydrated:null,treeContext:null,retryLane:0};function Qp(s){return{baseLanes:s,cachePool:null,transitions:null}}function R_(s,o,c){var f=o.pendingProps,g=Et.current,w=!1,C=(o.flags&128)!==0,V;if((V=C)||(V=s!==null&&s.memoizedState===null?!1:(g&2)!==0),V?(w=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),ct(Et,g&1),s===null)return xp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(C=f.children,s=f.fallback,w?(f=o.mode,w=o.child,C={mode:"hidden",children:C},(f&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=C):w=Ld(C,f,0,null),s=$o(s,f,c,null),w.return=o,s.return=o,w.sibling=s,o.child=w,o.child.memoizedState=Qp(c),o.memoizedState=Gp,s):Yp(o,C));if(g=s.memoizedState,g!==null&&(V=g.dehydrated,V!==null))return GP(s,o,C,f,V,g,c);if(w){w=f.fallback,C=o.mode,g=s.child,V=g.sibling;var B={mode:"hidden",children:f.children};return(C&1)===0&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=B,o.deletions=null):(f=Mi(g,B),f.subtreeFlags=g.subtreeFlags&14680064),V!==null?w=Mi(V,w):(w=$o(w,C,c,null),w.flags|=2),w.return=o,f.return=o,f.sibling=w,o.child=f,f=w,w=o.child,C=s.child.memoizedState,C=C===null?Qp(c):{baseLanes:C.baseLanes|c,cachePool:null,transitions:C.transitions},w.memoizedState=C,w.childLanes=s.childLanes&~c,o.memoizedState=Gp,f}return w=s.child,s=w.sibling,f=Mi(w,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=c),f.return=o,f.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=f,o.memoizedState=null,f}function Yp(s,o){return o=Ld({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Td(s,o,c,f){return f!==null&&Tp(f),ja(o,s.child,null,c),s=Yp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function GP(s,o,c,f,g,w,C){if(c)return o.flags&256?(o.flags&=-257,f=Wp(Error(n(422))),Td(s,o,C,f)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(w=f.fallback,g=o.mode,f=Ld({mode:"visible",children:f.children},g,0,null),w=$o(w,g,C,null),w.flags|=2,f.return=o,w.return=o,f.sibling=w,o.child=f,(o.mode&1)!==0&&ja(o,s.child,null,C),o.child.memoizedState=Qp(C),o.memoizedState=Gp,w);if((o.mode&1)===0)return Td(s,o,C,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var V=f.dgst;return f=V,w=Error(n(419)),f=Wp(w,f,void 0),Td(s,o,C,f)}if(V=(C&s.childLanes)!==0,Nn||V){if(f=Gt,f!==null){switch(C&-C){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|C))!==0?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,Gs(s,g),Ar(f,s,g,-1))}return hm(),f=Wp(Error(n(421))),Td(s,o,C,f)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=aR.bind(null,s),g._reactRetry=o,null):(s=w.treeContext,er=bi(g.nextSibling),Zn=o,_t=!0,Ir=null,s!==null&&(pr[mr++]=qs,pr[mr++]=Ks,pr[mr++]=Oo,qs=s.id,Ks=s.overflow,Oo=o),o=Yp(o,f.children),o.flags|=4096,o)}function A_(s,o,c){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),Cp(s.return,o,c)}function Xp(s,o,c,f,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=c,w.tailMode=g)}function k_(s,o,c){var f=o.pendingProps,g=f.revealOrder,w=f.tail;if(Tn(s,o,f.children,c),f=Et.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&A_(s,c,o);else if(s.tag===19)A_(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(ct(Et,f),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(c=o.child,g=null;c!==null;)s=c.alternate,s!==null&&gd(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),Xp(o,!1,g,c,w);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&gd(s)===null){o.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Xp(o,!0,c,null,w);break;case"together":Xp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function bd(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Ys(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Fo|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,c=Mi(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=Mi(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function QP(s,o,c){switch(o.tag){case 3:C_(o),Va();break;case 5:Hw(o);break;case 1:kn(o.type)&&od(o);break;case 4:Ap(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;ct(hd,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(ct(Et,Et.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?R_(s,o,c):(ct(Et,Et.current&1),s=Ys(s,o,c),s!==null?s.sibling:null);ct(Et,Et.current&1);break;case 19:if(f=(c&o.childLanes)!==0,(s.flags&128)!==0){if(f)return k_(s,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ct(Et,Et.current),f)break;return null;case 22:case 23:return o.lanes=0,b_(s,o,c)}return Ys(s,o,c)}var N_,Jp,D_,O_;N_=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Jp=function(){},D_=function(s,o,c,f){var g=s.memoizedProps;if(g!==f){s=o.stateNode,Vo(ds.current);var w=null;switch(c){case"input":g=cn(s,g),f=cn(s,f),w=[];break;case"select":g=ie({},g,{value:void 0}),f=ie({},f,{value:void 0}),w=[];break;case"textarea":g=pi(s,g),f=pi(s,f),w=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=rd)}qt(c,f);var C;c=null;for(Y in g)if(!f.hasOwnProperty(Y)&&g.hasOwnProperty(Y)&&g[Y]!=null)if(Y==="style"){var V=g[Y];for(C in V)V.hasOwnProperty(C)&&(c||(c={}),c[C]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?w||(w=[]):(w=w||[]).push(Y,null));for(Y in f){var B=f[Y];if(V=g?.[Y],f.hasOwnProperty(Y)&&B!==V&&(B!=null||V!=null))if(Y==="style")if(V){for(C in V)!V.hasOwnProperty(C)||B&&B.hasOwnProperty(C)||(c||(c={}),c[C]="");for(C in B)B.hasOwnProperty(C)&&V[C]!==B[C]&&(c||(c={}),c[C]=B[C])}else c||(w||(w=[]),w.push(Y,c)),c=B;else Y==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,V=V?V.__html:void 0,B!=null&&V!==B&&(w=w||[]).push(Y,B)):Y==="children"?typeof B!="string"&&typeof B!="number"||(w=w||[]).push(Y,""+B):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?(B!=null&&Y==="onScroll"&&ft("scroll",s),w||V===B||(w=[])):(w=w||[]).push(Y,B))}c&&(w=w||[]).push("style",c);var Y=w;(o.updateQueue=Y)&&(o.flags|=4)}},O_=function(s,o,c,f){c!==f&&(o.flags|=4)};function Tc(s,o){if(!_t)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function gn(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(o)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=c,o}function YP(s,o,c){var f=o.pendingProps;switch(_p(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(o),null;case 1:return kn(o.type)&&id(),gn(o),null;case 3:return f=o.stateNode,Ba(),pt(An),pt(pn),Dp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(ud(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ir!==null&&(cm(Ir),Ir=null))),Jp(s,o),gn(o),null;case 5:kp(o);var g=Vo(vc.current);if(c=o.type,s!==null&&o.stateNode!=null)D_(s,o,c,f,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return gn(o),null}if(s=Vo(ds.current),ud(o)){f=o.stateNode,c=o.type;var w=o.memoizedProps;switch(f[us]=o,f[fc]=w,s=(o.mode&1)!==0,c){case"dialog":ft("cancel",f),ft("close",f);break;case"iframe":case"object":case"embed":ft("load",f);break;case"video":case"audio":for(g=0;g<uc.length;g++)ft(uc[g],f);break;case"source":ft("error",f);break;case"img":case"image":case"link":ft("error",f),ft("load",f);break;case"details":ft("toggle",f);break;case"input":Hr(f,w),ft("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!w.multiple},ft("invalid",f);break;case"textarea":$n(f,w),ft("invalid",f)}qt(c,w),g=null;for(var C in w)if(w.hasOwnProperty(C)){var V=w[C];C==="children"?typeof V=="string"?f.textContent!==V&&(w.suppressHydrationWarning!==!0&&nd(f.textContent,V,s),g=["children",V]):typeof V=="number"&&f.textContent!==""+V&&(w.suppressHydrationWarning!==!0&&nd(f.textContent,V,s),g=["children",""+V]):i.hasOwnProperty(C)&&V!=null&&C==="onScroll"&&ft("scroll",f)}switch(c){case"input":$e(f),Os(f,w,!0);break;case"textarea":$e(f),qr(f);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(f.onclick=rd)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{C=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ht(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=C.createElement(c,{is:f.is}):(s=C.createElement(c),c==="select"&&(C=s,f.multiple?C.multiple=!0:f.size&&(C.size=f.size))):s=C.createElementNS(s,c),s[us]=o,s[fc]=f,N_(s,o,!1,!1),o.stateNode=s;e:{switch(C=gi(c,f),c){case"dialog":ft("cancel",s),ft("close",s),g=f;break;case"iframe":case"object":case"embed":ft("load",s),g=f;break;case"video":case"audio":for(g=0;g<uc.length;g++)ft(uc[g],s);g=f;break;case"source":ft("error",s),g=f;break;case"img":case"image":case"link":ft("error",s),ft("load",s),g=f;break;case"details":ft("toggle",s),g=f;break;case"input":Hr(s,f),g=cn(s,f),ft("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=ie({},f,{value:void 0}),ft("invalid",s);break;case"textarea":$n(s,f),g=pi(s,f),ft("invalid",s);break;default:g=f}qt(c,g),V=g;for(w in V)if(V.hasOwnProperty(w)){var B=V[w];w==="style"?Hn(s,B):w==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&da(s,B)):w==="children"?typeof B=="string"?(c!=="textarea"||B!=="")&&cr(s,B):typeof B=="number"&&cr(s,""+B):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?B!=null&&w==="onScroll"&&ft("scroll",s):B!=null&&L(s,w,B,C))}switch(c){case"input":$e(s),Os(s,f,!1);break;case"textarea":$e(s),qr(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Te(f.value));break;case"select":s.multiple=!!f.multiple,w=f.value,w!=null?Zt(s,!!f.multiple,w,!1):f.defaultValue!=null&&Zt(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=rd)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return gn(o),null;case 6:if(s&&o.stateNode!=null)O_(s,o,s.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(c=Vo(vc.current),Vo(ds.current),ud(o)){if(f=o.stateNode,c=o.memoizedProps,f[us]=o,(w=f.nodeValue!==c)&&(s=Zn,s!==null))switch(s.tag){case 3:nd(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&nd(f.nodeValue,c,(s.mode&1)!==0)}w&&(o.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[us]=o,o.stateNode=f}return gn(o),null;case 13:if(pt(Et),f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_t&&er!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Vw(),Va(),o.flags|=98560,w=!1;else if(w=ud(o),f!==null&&f.dehydrated!==null){if(s===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[us]=o}else Va(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;gn(o),w=!1}else Ir!==null&&(cm(Ir),Ir=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(Et.current&1)!==0?$t===0&&($t=3):hm())),o.updateQueue!==null&&(o.flags|=4),gn(o),null);case 4:return Ba(),Jp(s,o),s===null&&dc(o.stateNode.containerInfo),gn(o),null;case 10:return Ip(o.type._context),gn(o),null;case 17:return kn(o.type)&&id(),gn(o),null;case 19:if(pt(Et),w=o.memoizedState,w===null)return gn(o),null;if(f=(o.flags&128)!==0,C=w.rendering,C===null)if(f)Tc(w,!1);else{if($t!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(C=gd(s),C!==null){for(o.flags|=128,Tc(w,!1),f=C.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=c,c=o.child;c!==null;)w=c,s=f,w.flags&=14680066,C=w.alternate,C===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=C.childLanes,w.lanes=C.lanes,w.child=C.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=C.memoizedProps,w.memoizedState=C.memoizedState,w.updateQueue=C.updateQueue,w.type=C.type,s=C.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return ct(Et,Et.current&1|2),o.child}s=s.sibling}w.tail!==null&&ht()>Ha&&(o.flags|=128,f=!0,Tc(w,!1),o.lanes=4194304)}else{if(!f)if(s=gd(C),s!==null){if(o.flags|=128,f=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),Tc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!C.alternate&&!_t)return gn(o),null}else 2*ht()-w.renderingStartTime>Ha&&c!==1073741824&&(o.flags|=128,f=!0,Tc(w,!1),o.lanes=4194304);w.isBackwards?(C.sibling=o.child,o.child=C):(c=w.last,c!==null?c.sibling=C:o.child=C,w.last=C)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=ht(),o.sibling=null,c=Et.current,ct(Et,f?c&1|2:c&1),o):(gn(o),null);case 22:case 23:return dm(),f=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(tr&1073741824)!==0&&(gn(o),o.subtreeFlags&6&&(o.flags|=8192)):gn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function XP(s,o){switch(_p(o),o.tag){case 1:return kn(o.type)&&id(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ba(),pt(An),pt(pn),Dp(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return kp(o),null;case 13:if(pt(Et),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Va()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return pt(Et),null;case 4:return Ba(),null;case 10:return Ip(o.type._context),null;case 22:case 23:return dm(),null;case 24:return null;default:return null}}var Sd=!1,yn=!1,JP=typeof WeakSet=="function"?WeakSet:Set,we=null;function $a(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){It(s,o,f)}else c.current=null}function Zp(s,o,c){try{c()}catch(f){It(s,o,f)}}var M_=!1;function ZP(s,o){if(dp=Bs,s=fw(),rp(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var C=0,V=-1,B=-1,Y=0,le=0,ce=s,oe=null;t:for(;;){for(var ye;ce!==c||g!==0&&ce.nodeType!==3||(V=C+g),ce!==w||f!==0&&ce.nodeType!==3||(B=C+f),ce.nodeType===3&&(C+=ce.nodeValue.length),(ye=ce.firstChild)!==null;)oe=ce,ce=ye;for(;;){if(ce===s)break t;if(oe===c&&++Y===g&&(V=C),oe===w&&++le===f&&(B=C),(ye=ce.nextSibling)!==null)break;ce=oe,oe=ce.parentNode}ce=ye}c=V===-1||B===-1?null:{start:V,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(hp={focusedElem:s,selectionRange:c},Bs=!1,we=o;we!==null;)if(o=we,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,we=s;else for(;we!==null;){o=we;try{var Ee=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var xe=Ee.memoizedProps,Pt=Ee.memoizedState,q=o.stateNode,$=q.getSnapshotBeforeUpdate(o.elementType===o.type?xe:Cr(o.type,xe),Pt);q.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var G=o.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){It(o,o.return,ue)}if(s=o.sibling,s!==null){s.return=o.return,we=s;break}we=o.return}return Ee=M_,M_=!1,Ee}function bc(s,o,c){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&Zp(o,c,w)}g=g.next}while(g!==f)}}function Id(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==o)}}function em(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function L_(s){var o=s.alternate;o!==null&&(s.alternate=null,L_(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[us],delete o[fc],delete o[gp],delete o[MP],delete o[LP])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function V_(s){return s.tag===5||s.tag===3||s.tag===4}function j_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||V_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function tm(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=rd));else if(f!==4&&(s=s.child,s!==null))for(tm(s,o,c),s=s.sibling;s!==null;)tm(s,o,c),s=s.sibling}function nm(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(nm(s,o,c),s=s.sibling;s!==null;)nm(s,o,c),s=s.sibling}var nn=null,Pr=!1;function Ai(s,o,c){for(c=c.child;c!==null;)F_(s,o,c),c=c.sibling}function F_(s,o,c){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(To,c)}catch{}switch(c.tag){case 5:yn||$a(c,o);case 6:var f=nn,g=Pr;nn=null,Ai(s,o,c),nn=f,Pr=g,nn!==null&&(Pr?(s=nn,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):nn.removeChild(c.stateNode));break;case 18:nn!==null&&(Pr?(s=nn,c=c.stateNode,s.nodeType===8?mp(s.parentNode,c):s.nodeType===1&&mp(s,c),_i(s)):mp(nn,c.stateNode));break;case 4:f=nn,g=Pr,nn=c.stateNode.containerInfo,Pr=!0,Ai(s,o,c),nn=f,Pr=g;break;case 0:case 11:case 14:case 15:if(!yn&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var w=g,C=w.destroy;w=w.tag,C!==void 0&&((w&2)!==0||(w&4)!==0)&&Zp(c,o,C),g=g.next}while(g!==f)}Ai(s,o,c);break;case 1:if(!yn&&($a(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(V){It(c,o,V)}Ai(s,o,c);break;case 21:Ai(s,o,c);break;case 22:c.mode&1?(yn=(f=yn)||c.memoizedState!==null,Ai(s,o,c),yn=f):Ai(s,o,c);break;default:Ai(s,o,c)}}function U_(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new JP),o.forEach(function(f){var g=lR.bind(null,s,f);c.has(f)||(c.add(f),f.then(g,g))})}}function Rr(s,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var w=s,C=o,V=C;e:for(;V!==null;){switch(V.tag){case 5:nn=V.stateNode,Pr=!1;break e;case 3:nn=V.stateNode.containerInfo,Pr=!0;break e;case 4:nn=V.stateNode.containerInfo,Pr=!0;break e}V=V.return}if(nn===null)throw Error(n(160));F_(w,C,g),nn=null,Pr=!1;var B=g.alternate;B!==null&&(B.return=null),g.return=null}catch(Y){It(g,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)B_(o,s),o=o.sibling}function B_(s,o){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Rr(o,s),fs(s),f&4){try{bc(3,s,s.return),Id(3,s)}catch(xe){It(s,s.return,xe)}try{bc(5,s,s.return)}catch(xe){It(s,s.return,xe)}}break;case 1:Rr(o,s),fs(s),f&512&&c!==null&&$a(c,c.return);break;case 5:if(Rr(o,s),fs(s),f&512&&c!==null&&$a(c,c.return),s.flags&32){var g=s.stateNode;try{cr(g,"")}catch(xe){It(s,s.return,xe)}}if(f&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,C=c!==null?c.memoizedProps:w,V=s.type,B=s.updateQueue;if(s.updateQueue=null,B!==null)try{V==="input"&&w.type==="radio"&&w.name!=null&&Bn(g,w),gi(V,C);var Y=gi(V,w);for(C=0;C<B.length;C+=2){var le=B[C],ce=B[C+1];le==="style"?Hn(g,ce):le==="dangerouslySetInnerHTML"?da(g,ce):le==="children"?cr(g,ce):L(g,le,ce,Y)}switch(V){case"input":zn(g,w);break;case"textarea":ua(g,w);break;case"select":var oe=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var ye=w.value;ye!=null?Zt(g,!!w.multiple,ye,!1):oe!==!!w.multiple&&(w.defaultValue!=null?Zt(g,!!w.multiple,w.defaultValue,!0):Zt(g,!!w.multiple,w.multiple?[]:"",!1))}g[fc]=w}catch(xe){It(s,s.return,xe)}}break;case 6:if(Rr(o,s),fs(s),f&4){if(s.stateNode===null)throw Error(n(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(xe){It(s,s.return,xe)}}break;case 3:if(Rr(o,s),fs(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{_i(o.containerInfo)}catch(xe){It(s,s.return,xe)}break;case 4:Rr(o,s),fs(s);break;case 13:Rr(o,s),fs(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(im=ht())),f&4&&U_(s);break;case 22:if(le=c!==null&&c.memoizedState!==null,s.mode&1?(yn=(Y=yn)||le,Rr(o,s),yn=Y):Rr(o,s),fs(s),f&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!le&&(s.mode&1)!==0)for(we=s,le=s.child;le!==null;){for(ce=we=le;we!==null;){switch(oe=we,ye=oe.child,oe.tag){case 0:case 11:case 14:case 15:bc(4,oe,oe.return);break;case 1:$a(oe,oe.return);var Ee=oe.stateNode;if(typeof Ee.componentWillUnmount=="function"){f=oe,c=oe.return;try{o=f,Ee.props=o.memoizedProps,Ee.state=o.memoizedState,Ee.componentWillUnmount()}catch(xe){It(f,c,xe)}}break;case 5:$a(oe,oe.return);break;case 22:if(oe.memoizedState!==null){W_(ce);continue}}ye!==null?(ye.return=oe,we=ye):W_(ce)}le=le.sibling}e:for(le=null,ce=s;;){if(ce.tag===5){if(le===null){le=ce;try{g=ce.stateNode,Y?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(V=ce.stateNode,B=ce.memoizedProps.style,C=B!=null&&B.hasOwnProperty("display")?B.display:null,V.style.display=ur("display",C))}catch(xe){It(s,s.return,xe)}}}else if(ce.tag===6){if(le===null)try{ce.stateNode.nodeValue=Y?"":ce.memoizedProps}catch(xe){It(s,s.return,xe)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===s)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===s)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===s)break e;le===ce&&(le=null),ce=ce.return}le===ce&&(le=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:Rr(o,s),fs(s),f&4&&U_(s);break;case 21:break;default:Rr(o,s),fs(s)}}function fs(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(V_(c)){var f=c;break e}c=c.return}throw Error(n(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(cr(g,""),f.flags&=-33);var w=j_(s);nm(s,w,g);break;case 3:case 4:var C=f.stateNode.containerInfo,V=j_(s);tm(s,V,C);break;default:throw Error(n(161))}}catch(B){It(s,s.return,B)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function eR(s,o,c){we=s,z_(s)}function z_(s,o,c){for(var f=(s.mode&1)!==0;we!==null;){var g=we,w=g.child;if(g.tag===22&&f){var C=g.memoizedState!==null||Sd;if(!C){var V=g.alternate,B=V!==null&&V.memoizedState!==null||yn;V=Sd;var Y=yn;if(Sd=C,(yn=B)&&!Y)for(we=g;we!==null;)C=we,B=C.child,C.tag===22&&C.memoizedState!==null?H_(g):B!==null?(B.return=C,we=B):H_(g);for(;w!==null;)we=w,z_(w),w=w.sibling;we=g,Sd=V,yn=Y}$_(s)}else(g.subtreeFlags&8772)!==0&&w!==null?(w.return=g,we=w):$_(s)}}function $_(s){for(;we!==null;){var o=we;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:yn||Id(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!yn)if(c===null)f.componentDidMount();else{var g=o.elementType===o.type?c.memoizedProps:Cr(o.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&Ww(o,w,f);break;case 3:var C=o.updateQueue;if(C!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}Ww(o,C,c)}break;case 5:var V=o.stateNode;if(c===null&&o.flags&4){c=V;var B=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&c.focus();break;case"img":B.src&&(c.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var le=Y.memoizedState;if(le!==null){var ce=le.dehydrated;ce!==null&&_i(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}yn||o.flags&512&&em(o)}catch(oe){It(o,o.return,oe)}}if(o===s){we=null;break}if(c=o.sibling,c!==null){c.return=o.return,we=c;break}we=o.return}}function W_(s){for(;we!==null;){var o=we;if(o===s){we=null;break}var c=o.sibling;if(c!==null){c.return=o.return,we=c;break}we=o.return}}function H_(s){for(;we!==null;){var o=we;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Id(4,o)}catch(B){It(o,c,B)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch(B){It(o,g,B)}}var w=o.return;try{em(o)}catch(B){It(o,w,B)}break;case 5:var C=o.return;try{em(o)}catch(B){It(o,C,B)}}}catch(B){It(o,o.return,B)}if(o===s){we=null;break}var V=o.sibling;if(V!==null){V.return=o.return,we=V;break}we=o.return}}var tR=Math.ceil,Cd=H.ReactCurrentDispatcher,rm=H.ReactCurrentOwner,vr=H.ReactCurrentBatchConfig,Je=0,Gt=null,Dt=null,rn=0,tr=0,Wa=Si(0),$t=0,Sc=null,Fo=0,Pd=0,sm=0,Ic=null,Dn=null,im=0,Ha=1/0,Xs=null,Rd=!1,om=null,ki=null,Ad=!1,Ni=null,kd=0,Cc=0,am=null,Nd=-1,Dd=0;function bn(){return(Je&6)!==0?ht():Nd!==-1?Nd:Nd=ht()}function Di(s){return(s.mode&1)===0?1:(Je&2)!==0&&rn!==0?rn&-rn:jP.transition!==null?(Dd===0&&(Dd=Gl()),Dd):(s=Ge,s!==0||(s=window.event,s=s===void 0?16:_a(s.type)),s)}function Ar(s,o,c,f){if(50<Cc)throw Cc=0,am=null,Error(n(185));Co(s,c,f),((Je&2)===0||s!==Gt)&&(s===Gt&&((Je&2)===0&&(Pd|=c),$t===4&&Oi(s,rn)),On(s,f),c===1&&Je===0&&(o.mode&1)===0&&(Ha=ht()+500,ad&&Ci()))}function On(s,o){var c=s.callbackNode;Io(s,o);var f=js(s,s===Gt?rn:0);if(f===0)c!==null&&fa(c),s.callbackNode=null,s.callbackPriority=0;else if(o=f&-f,s.callbackPriority!==o){if(c!=null&&fa(c),o===1)s.tag===0?VP(K_.bind(null,s)):Nw(K_.bind(null,s)),DP(function(){(Je&6)===0&&Ci()}),c=null;else{switch(es(f)){case 1:c=pa;break;case 4:c=Hl;break;case 16:c=xo;break;case 536870912:c=ma;break;default:c=xo}c=t0(c,q_.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function q_(s,o){if(Nd=-1,Dd=0,(Je&6)!==0)throw Error(n(327));var c=s.callbackNode;if(qa()&&s.callbackNode!==c)return null;var f=js(s,s===Gt?rn:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||o)o=Od(s,f);else{o=f;var g=Je;Je|=2;var w=Q_();(Gt!==s||rn!==o)&&(Xs=null,Ha=ht()+500,Bo(s,o));do try{sR();break}catch(V){G_(s,V)}while(!0);Sp(),Cd.current=w,Je=g,Dt!==null?o=0:(Gt=null,rn=0,o=$t)}if(o!==0){if(o===2&&(g=Kl(s),g!==0&&(f=g,o=lm(s,g))),o===1)throw c=Sc,Bo(s,0),Oi(s,f),On(s,ht()),c;if(o===6)Oi(s,f);else{if(g=s.current.alternate,(f&30)===0&&!nR(g)&&(o=Od(s,f),o===2&&(w=Kl(s),w!==0&&(f=w,o=lm(s,w))),o===1))throw c=Sc,Bo(s,0),Oi(s,f),On(s,ht()),c;switch(s.finishedWork=g,s.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:zo(s,Dn,Xs);break;case 3:if(Oi(s,f),(f&130023424)===f&&(o=im+500-ht(),10<o)){if(js(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){bn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=pp(zo.bind(null,s,Dn,Xs),o);break}zo(s,Dn,Xs);break;case 4:if(Oi(s,f),(f&4194240)===f)break;for(o=s.eventTimes,g=-1;0<f;){var C=31-Gn(f);w=1<<C,C=o[C],C>g&&(g=C),f&=~w}if(f=g,f=ht()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*tR(f/1960))-f,10<f){s.timeoutHandle=pp(zo.bind(null,s,Dn,Xs),f);break}zo(s,Dn,Xs);break;case 5:zo(s,Dn,Xs);break;default:throw Error(n(329))}}}return On(s,ht()),s.callbackNode===c?q_.bind(null,s):null}function lm(s,o){var c=Ic;return s.current.memoizedState.isDehydrated&&(Bo(s,o).flags|=256),s=Od(s,o),s!==2&&(o=Dn,Dn=c,o!==null&&cm(o)),s}function cm(s){Dn===null?Dn=s:Dn.push.apply(Dn,s)}function nR(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],w=g.getSnapshot;g=g.value;try{if(!Sr(w(),g))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Oi(s,o){for(o&=~sm,o&=~Pd,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-Gn(o),f=1<<c;s[c]=-1,o&=~f}}function K_(s){if((Je&6)!==0)throw Error(n(327));qa();var o=js(s,0);if((o&1)===0)return On(s,ht()),null;var c=Od(s,o);if(s.tag!==0&&c===2){var f=Kl(s);f!==0&&(o=f,c=lm(s,f))}if(c===1)throw c=Sc,Bo(s,0),Oi(s,o),On(s,ht()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,zo(s,Dn,Xs),On(s,ht()),null}function um(s,o){var c=Je;Je|=1;try{return s(o)}finally{Je=c,Je===0&&(Ha=ht()+500,ad&&Ci())}}function Uo(s){Ni!==null&&Ni.tag===0&&(Je&6)===0&&qa();var o=Je;Je|=1;var c=vr.transition,f=Ge;try{if(vr.transition=null,Ge=1,s)return s()}finally{Ge=f,vr.transition=c,Je=o,(Je&6)===0&&Ci()}}function dm(){tr=Wa.current,pt(Wa)}function Bo(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,NP(c)),Dt!==null)for(c=Dt.return;c!==null;){var f=c;switch(_p(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&id();break;case 3:Ba(),pt(An),pt(pn),Dp();break;case 5:kp(f);break;case 4:Ba();break;case 13:pt(Et);break;case 19:pt(Et);break;case 10:Ip(f.type._context);break;case 22:case 23:dm()}c=c.return}if(Gt=s,Dt=s=Mi(s.current,null),rn=tr=o,$t=0,Sc=null,sm=Pd=Fo=0,Dn=Ic=null,Lo!==null){for(o=0;o<Lo.length;o++)if(c=Lo[o],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,w=c.pending;if(w!==null){var C=w.next;w.next=g,f.next=C}c.pending=f}Lo=null}return s}function G_(s,o){do{var c=Dt;try{if(Sp(),yd.current=Ed,vd){for(var f=xt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}vd=!1}if(jo=0,Kt=zt=xt=null,wc=!1,_c=0,rm.current=null,c===null||c.return===null){$t=1,Sc=o,Dt=null;break}e:{var w=s,C=c.return,V=c,B=o;if(o=rn,V.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Y=B,le=V,ce=le.tag;if((le.mode&1)===0&&(ce===0||ce===11||ce===15)){var oe=le.alternate;oe?(le.updateQueue=oe.updateQueue,le.memoizedState=oe.memoizedState,le.lanes=oe.lanes):(le.updateQueue=null,le.memoizedState=null)}var ye=w_(C);if(ye!==null){ye.flags&=-257,__(ye,C,V,w,o),ye.mode&1&&v_(w,Y,o),o=ye,B=Y;var Ee=o.updateQueue;if(Ee===null){var xe=new Set;xe.add(B),o.updateQueue=xe}else Ee.add(B);break e}else{if((o&1)===0){v_(w,Y,o),hm();break e}B=Error(n(426))}}else if(_t&&V.mode&1){var Pt=w_(C);if(Pt!==null){(Pt.flags&65536)===0&&(Pt.flags|=256),__(Pt,C,V,w,o),Tp(za(B,V));break e}}w=B=za(B,V),$t!==4&&($t=2),Ic===null?Ic=[w]:Ic.push(w),w=C;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var q=g_(w,B,o);$w(w,q);break e;case 1:V=B;var $=w.type,G=w.stateNode;if((w.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(ki===null||!ki.has(G)))){w.flags|=65536,o&=-o,w.lanes|=o;var ue=y_(w,V,o);$w(w,ue);break e}}w=w.return}while(w!==null)}X_(c)}catch(be){o=be,Dt===c&&c!==null&&(Dt=c=c.return);continue}break}while(!0)}function Q_(){var s=Cd.current;return Cd.current=Ed,s===null?Ed:s}function hm(){($t===0||$t===3||$t===2)&&($t=4),Gt===null||(Fo&268435455)===0&&(Pd&268435455)===0||Oi(Gt,rn)}function Od(s,o){var c=Je;Je|=2;var f=Q_();(Gt!==s||rn!==o)&&(Xs=null,Bo(s,o));do try{rR();break}catch(g){G_(s,g)}while(!0);if(Sp(),Je=c,Cd.current=f,Dt!==null)throw Error(n(261));return Gt=null,rn=0,$t}function rR(){for(;Dt!==null;)Y_(Dt)}function sR(){for(;Dt!==null&&!Eo();)Y_(Dt)}function Y_(s){var o=e0(s.alternate,s,tr);s.memoizedProps=s.pendingProps,o===null?X_(s):Dt=o,rm.current=null}function X_(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=YP(c,o,tr),c!==null){Dt=c;return}}else{if(c=XP(c,o),c!==null){c.flags&=32767,Dt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{$t=6,Dt=null;return}}if(o=o.sibling,o!==null){Dt=o;return}Dt=o=s}while(o!==null);$t===0&&($t=5)}function zo(s,o,c){var f=Ge,g=vr.transition;try{vr.transition=null,Ge=1,iR(s,o,c,f)}finally{vr.transition=g,Ge=f}return null}function iR(s,o,c,f){do qa();while(Ni!==null);if((Je&6)!==0)throw Error(n(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var w=c.lanes|c.childLanes;if(Jf(s,w),s===Gt&&(Dt=Gt=null,rn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Ad||(Ad=!0,t0(xo,function(){return qa(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=vr.transition,vr.transition=null;var C=Ge;Ge=1;var V=Je;Je|=4,rm.current=null,ZP(s,c),B_(c,s),SP(hp),Bs=!!dp,hp=dp=null,s.current=c,eR(c),Vs(),Je=V,Ge=C,vr.transition=w}else s.current=c;if(Ad&&(Ad=!1,Ni=s,kd=g),w=s.pendingLanes,w===0&&(ki=null),Bu(c.stateNode),On(s,ht()),o!==null)for(f=s.onRecoverableError,c=0;c<o.length;c++)g=o[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(Rd)throw Rd=!1,s=om,om=null,s;return(kd&1)!==0&&s.tag!==0&&qa(),w=s.pendingLanes,(w&1)!==0?s===am?Cc++:(Cc=0,am=s):Cc=0,Ci(),null}function qa(){if(Ni!==null){var s=es(kd),o=vr.transition,c=Ge;try{if(vr.transition=null,Ge=16>s?16:s,Ni===null)var f=!1;else{if(s=Ni,Ni=null,kd=0,(Je&6)!==0)throw Error(n(331));var g=Je;for(Je|=4,we=s.current;we!==null;){var w=we,C=w.child;if((we.flags&16)!==0){var V=w.deletions;if(V!==null){for(var B=0;B<V.length;B++){var Y=V[B];for(we=Y;we!==null;){var le=we;switch(le.tag){case 0:case 11:case 15:bc(8,le,w)}var ce=le.child;if(ce!==null)ce.return=le,we=ce;else for(;we!==null;){le=we;var oe=le.sibling,ye=le.return;if(L_(le),le===Y){we=null;break}if(oe!==null){oe.return=ye,we=oe;break}we=ye}}}var Ee=w.alternate;if(Ee!==null){var xe=Ee.child;if(xe!==null){Ee.child=null;do{var Pt=xe.sibling;xe.sibling=null,xe=Pt}while(xe!==null)}}we=w}}if((w.subtreeFlags&2064)!==0&&C!==null)C.return=w,we=C;else e:for(;we!==null;){if(w=we,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:bc(9,w,w.return)}var q=w.sibling;if(q!==null){q.return=w.return,we=q;break e}we=w.return}}var $=s.current;for(we=$;we!==null;){C=we;var G=C.child;if((C.subtreeFlags&2064)!==0&&G!==null)G.return=C,we=G;else e:for(C=$;we!==null;){if(V=we,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Id(9,V)}}catch(be){It(V,V.return,be)}if(V===C){we=null;break e}var ue=V.sibling;if(ue!==null){ue.return=V.return,we=ue;break e}we=V.return}}if(Je=g,Ci(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(To,s)}catch{}f=!0}return f}finally{Ge=c,vr.transition=o}}return!1}function J_(s,o,c){o=za(c,o),o=g_(s,o,1),s=Ri(s,o,1),o=bn(),s!==null&&(Co(s,1,o),On(s,o))}function It(s,o,c){if(s.tag===3)J_(s,s,c);else for(;o!==null;){if(o.tag===3){J_(o,s,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ki===null||!ki.has(f))){s=za(c,s),s=y_(o,s,1),o=Ri(o,s,1),s=bn(),o!==null&&(Co(o,1,s),On(o,s));break}}o=o.return}}function oR(s,o,c){var f=s.pingCache;f!==null&&f.delete(o),o=bn(),s.pingedLanes|=s.suspendedLanes&c,Gt===s&&(rn&c)===c&&($t===4||$t===3&&(rn&130023424)===rn&&500>ht()-im?Bo(s,0):sm|=c),On(s,o)}function Z_(s,o){o===0&&((s.mode&1)===0?o=1:(o=yi,yi<<=1,(yi&130023424)===0&&(yi=4194304)));var c=bn();s=Gs(s,o),s!==null&&(Co(s,o,c),On(s,c))}function aR(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),Z_(s,c)}function lR(s,o){var c=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),Z_(s,c)}var e0;e0=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||An.current)Nn=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return Nn=!1,QP(s,o,c);Nn=(s.flags&131072)!==0}else Nn=!1,_t&&(o.flags&1048576)!==0&&Dw(o,cd,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;bd(s,o),s=o.pendingProps;var g=Oa(o,pn.current);Ua(o,c),g=Lp(null,o,f,s,g,c);var w=Vp();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,kn(f)?(w=!0,od(o)):w=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Rp(o),g.updater=xd,o.stateNode=g,g._reactInternals=o,$p(o,f,s,c),o=Kp(null,o,f,!0,w,c)):(o.tag=0,_t&&w&&wp(o),Tn(null,o,g,c),o=o.child),o;case 16:f=o.elementType;e:{switch(bd(s,o),s=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=uR(f),s=Cr(f,s),g){case 0:o=qp(null,o,f,s,c);break e;case 1:o=I_(null,o,f,s,c);break e;case 11:o=E_(null,o,f,s,c);break e;case 14:o=x_(null,o,f,Cr(f.type,s),c);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Cr(f,g),qp(s,o,f,g,c);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Cr(f,g),I_(s,o,f,g,c);case 3:e:{if(C_(o),s===null)throw Error(n(387));f=o.pendingProps,w=o.memoizedState,g=w.element,zw(s,o),md(o,f,null,c);var C=o.memoizedState;if(f=C.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){g=za(Error(n(423)),o),o=P_(s,o,f,c,g);break e}else if(f!==g){g=za(Error(n(424)),o),o=P_(s,o,f,c,g);break e}else for(er=bi(o.stateNode.containerInfo.firstChild),Zn=o,_t=!0,Ir=null,c=Uw(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Va(),f===g){o=Ys(s,o,c);break e}Tn(s,o,f,c)}o=o.child}return o;case 5:return Hw(o),s===null&&xp(o),f=o.type,g=o.pendingProps,w=s!==null?s.memoizedProps:null,C=g.children,fp(f,g)?C=null:w!==null&&fp(f,w)&&(o.flags|=32),S_(s,o),Tn(s,o,C,c),o.child;case 6:return s===null&&xp(o),null;case 13:return R_(s,o,c);case 4:return Ap(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=ja(o,null,f,c):Tn(s,o,f,c),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Cr(f,g),E_(s,o,f,g,c);case 7:return Tn(s,o,o.pendingProps,c),o.child;case 8:return Tn(s,o,o.pendingProps.children,c),o.child;case 12:return Tn(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,w=o.memoizedProps,C=g.value,ct(hd,f._currentValue),f._currentValue=C,w!==null)if(Sr(w.value,C)){if(w.children===g.children&&!An.current){o=Ys(s,o,c);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var V=w.dependencies;if(V!==null){C=w.child;for(var B=V.firstContext;B!==null;){if(B.context===f){if(w.tag===1){B=Qs(-1,c&-c),B.tag=2;var Y=w.updateQueue;if(Y!==null){Y=Y.shared;var le=Y.pending;le===null?B.next=B:(B.next=le.next,le.next=B),Y.pending=B}}w.lanes|=c,B=w.alternate,B!==null&&(B.lanes|=c),Cp(w.return,c,o),V.lanes|=c;break}B=B.next}}else if(w.tag===10)C=w.type===o.type?null:w.child;else if(w.tag===18){if(C=w.return,C===null)throw Error(n(341));C.lanes|=c,V=C.alternate,V!==null&&(V.lanes|=c),Cp(C,c,o),C=w.sibling}else C=w.child;if(C!==null)C.return=w;else for(C=w;C!==null;){if(C===o){C=null;break}if(w=C.sibling,w!==null){w.return=C.return,C=w;break}C=C.return}w=C}Tn(s,o,g.children,c),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,Ua(o,c),g=gr(g),f=f(g),o.flags|=1,Tn(s,o,f,c),o.child;case 14:return f=o.type,g=Cr(f,o.pendingProps),g=Cr(f.type,g),x_(s,o,f,g,c);case 15:return T_(s,o,o.type,o.pendingProps,c);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Cr(f,g),bd(s,o),o.tag=1,kn(f)?(s=!0,od(o)):s=!1,Ua(o,c),p_(o,f,g),$p(o,f,g,c),Kp(null,o,f,!0,s,c);case 19:return k_(s,o,c);case 22:return b_(s,o,c)}throw Error(n(156,o.tag))};function t0(s,o){return Wl(s,o)}function cR(s,o,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(s,o,c,f){return new cR(s,o,c,f)}function fm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function uR(s){if(typeof s=="function")return fm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===_e)return 14}return 2}function Mi(s,o){var c=s.alternate;return c===null?(c=wr(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Md(s,o,c,f,g,w){var C=2;if(f=s,typeof s=="function")fm(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case k:return $o(c.children,g,w,o);case R:C=8,g|=8;break;case M:return s=wr(12,c,o,g|2),s.elementType=M,s.lanes=w,s;case O:return s=wr(13,c,o,g),s.elementType=O,s.lanes=w,s;case se:return s=wr(19,c,o,g),s.elementType=se,s.lanes=w,s;case te:return Ld(c,g,w,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:C=10;break e;case j:C=9;break e;case F:C=11;break e;case _e:C=14;break e;case he:C=16,f=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=wr(C,c,o,g),o.elementType=s,o.type=f,o.lanes=w,o}function $o(s,o,c,f){return s=wr(7,s,f,o),s.lanes=c,s}function Ld(s,o,c,f){return s=wr(22,s,f,o),s.elementType=te,s.lanes=c,s.stateNode={isHidden:!1},s}function pm(s,o,c){return s=wr(6,s,null,o),s.lanes=c,s}function mm(s,o,c){return o=wr(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function dR(s,o,c,f,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ql(0),this.expirationTimes=Ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function gm(s,o,c,f,g,w,C,V,B){return s=new dR(s,o,c,V,B),o===1?(o=1,w===!0&&(o|=8)):o=0,w=wr(3,null,null,o),s.current=w,w.stateNode=s,w.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rp(w),s}function hR(s,o,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:f==null?null:""+f,children:s,containerInfo:o,implementation:c}}function n0(s){if(!s)return Ii;s=s._reactInternals;e:{if(Tr(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(kn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(kn(c))return Aw(s,c,o)}return o}function r0(s,o,c,f,g,w,C,V,B){return s=gm(c,f,!0,s,g,w,C,V,B),s.context=n0(null),c=s.current,f=bn(),g=Di(c),w=Qs(f,g),w.callback=o??null,Ri(c,w,g),s.current.lanes=g,Co(s,g,f),On(s,f),s}function Vd(s,o,c,f){var g=o.current,w=bn(),C=Di(g);return c=n0(c),o.context===null?o.context=c:o.pendingContext=c,o=Qs(w,C),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ri(g,o,C),s!==null&&(Ar(s,g,C,w),pd(s,g,C)),C}function jd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function s0(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function ym(s,o){s0(s,o),(s=s.alternate)&&s0(s,o)}function fR(){return null}var i0=typeof reportError=="function"?reportError:function(s){console.error(s)};function vm(s){this._internalRoot=s}Fd.prototype.render=vm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));Vd(s,o,null,null)},Fd.prototype.unmount=vm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Uo(function(){Vd(null,s,null,null)}),o[Ws]=null}};function Fd(s){this._internalRoot=s}Fd.prototype.unstable_scheduleHydration=function(s){if(s){var o=Zl();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Qn.length&&o!==0&&o<Qn[c].priority;c++);Qn.splice(c,0,s),c===0&&va(s)}};function wm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Ud(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function o0(){}function pR(s,o,c,f,g){if(g){if(typeof f=="function"){var w=f;f=function(){var Y=jd(C);w.call(Y)}}var C=r0(o,f,s,0,null,!1,!1,"",o0);return s._reactRootContainer=C,s[Ws]=C.current,dc(s.nodeType===8?s.parentNode:s),Uo(),C}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var V=f;f=function(){var Y=jd(B);V.call(Y)}}var B=gm(s,0,!1,null,null,!1,!1,"",o0);return s._reactRootContainer=B,s[Ws]=B.current,dc(s.nodeType===8?s.parentNode:s),Uo(function(){Vd(o,B,c,f)}),B}function Bd(s,o,c,f,g){var w=c._reactRootContainer;if(w){var C=w;if(typeof g=="function"){var V=g;g=function(){var B=jd(C);V.call(B)}}Vd(o,C,s,g)}else C=pR(c,o,s,g,f);return jd(C)}Xl=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=tt(o.pendingLanes);c!==0&&(Yl(o,c|1),On(o,ht()),(Je&6)===0&&(Ha=ht()+500,Ci()))}break;case 13:Uo(function(){var f=Gs(s,1);if(f!==null){var g=bn();Ar(f,s,1,g)}}),ym(s,1)}},ga=function(s){if(s.tag===13){var o=Gs(s,134217728);if(o!==null){var c=bn();Ar(o,s,134217728,c)}ym(s,134217728)}},Jl=function(s){if(s.tag===13){var o=Di(s),c=Gs(s,o);if(c!==null){var f=bn();Ar(c,s,o,f)}ym(s,o)}},Zl=function(){return Ge},ec=function(s,o){var c=Ge;try{return Ge=s,o()}finally{Ge=c}},dr=function(s,o,c){switch(o){case"input":if(zn(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==s&&f.form===s.form){var g=sd(f);if(!g)throw Error(n(90));nt(f),zn(f,g)}}}break;case"textarea":ua(s,c);break;case"select":o=c.value,o!=null&&Zt(s,!!c.multiple,o,!1)}},Xe=um,st=Uo;var mR={usingClientEntryPoint:!1,Events:[pc,Na,sd,Yr,Ce,um]},Pc={findFiberByHostInstance:No,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gR={bundleType:Pc.bundleType,version:Pc.version,rendererPackageName:Pc.rendererPackageName,rendererConfig:Pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Uu(s),s===null?null:s.stateNode},findFiberByHostInstance:Pc.findFiberByHostInstance||fR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zd.isDisabled&&zd.supportsFiber)try{To=zd.inject(gR),Kn=zd}catch{}}return Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mR,Mn.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wm(o))throw Error(n(200));return hR(s,o,null,c)},Mn.createRoot=function(s,o){if(!wm(s))throw Error(n(299));var c=!1,f="",g=i0;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=gm(s,1,!1,null,null,c,!1,f,g),s[Ws]=o.current,dc(s.nodeType===8?s.parentNode:s),new vm(o)},Mn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Uu(o),s=s===null?null:s.stateNode,s},Mn.flushSync=function(s){return Uo(s)},Mn.hydrate=function(s,o,c){if(!Ud(o))throw Error(n(200));return Bd(null,s,o,!0,c)},Mn.hydrateRoot=function(s,o,c){if(!wm(s))throw Error(n(405));var f=c!=null&&c.hydratedSources||null,g=!1,w="",C=i0;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),o=r0(o,null,s,1,c??null,g,!1,w,C),s[Ws]=o.current,dc(s),f)for(s=0;s<f.length;s++)c=f[s],g=c._getVersion,g=g(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,g]:o.mutableSourceEagerHydrationData.push(c,g);return new Fd(o)},Mn.render=function(s,o,c){if(!Ud(o))throw Error(n(200));return Bd(null,s,o,!1,c)},Mn.unmountComponentAtNode=function(s){if(!Ud(s))throw Error(n(40));return s._reactRootContainer?(Uo(function(){Bd(null,null,s,!1,function(){s._reactRootContainer=null,s[Ws]=null})}),!0):!1},Mn.unstable_batchedUpdates=um,Mn.unstable_renderSubtreeIntoContainer=function(s,o,c,f){if(!Ud(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Bd(s,o,c,!1,f)},Mn.version="18.3.1-next-f1338f8080-20240426",Mn}var p0;function rT(){if(p0)return xm.exports;p0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xm.exports=bR(),xm.exports}var m0;function SR(){if(m0)return $d;m0=1;var t=rT();return $d.createRoot=t.createRoot,$d.hydrateRoot=t.hydrateRoot,$d}var IR=SR(),T=ay();const de=nT(T),ly=vR({__proto__:null,default:de},[T]),CR=1,PR=1e6;let Sm=0;function RR(){return Sm=(Sm+1)%Number.MAX_SAFE_INTEGER,Sm.toString()}const Im=new Map,g0=t=>{if(Im.has(t))return;const e=setTimeout(()=>{Im.delete(t),Bc({type:"REMOVE_TOAST",toastId:t})},PR);Im.set(t,e)},AR=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,CR)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?g0(n):t.toasts.forEach(r=>{g0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},oh=[];let ah={toasts:[]};function Bc(t){ah=AR(ah,t),oh.forEach(e=>{e(ah)})}function kR({...t}){const e=RR(),n=i=>Bc({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Bc({type:"DISMISS_TOAST",toastId:e});return Bc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function NR(){const[t,e]=T.useState(ah);return T.useEffect(()=>(oh.push(e),()=>{const n=oh.indexOf(e);n>-1&&oh.splice(n,1)}),[t]),{...t,toast:kR,dismiss:n=>Bc({type:"DISMISS_TOAST",toastId:n})}}var bl=rT();const sT=nT(bl);function ke(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function y0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function iT(...t){return e=>{let n=!1;const r=t.map(i=>{const a=y0(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():y0(t[i],null)}}}}function yt(...t){return T.useCallback(iT(...t),t)}function co(t,e=[]){let n=[];function r(a,l){const u=T.createContext(l),h=n.length;n=[...n,l];const p=v=>{const{scope:E,children:x,...P}=v,b=E?.[t]?.[h]||u,S=T.useMemo(()=>P,Object.values(P));return y.jsx(b.Provider,{value:S,children:x})};p.displayName=a+"Provider";function m(v,E){const x=E?.[t]?.[h]||u,P=T.useContext(x);if(P)return P;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[p,m]}const i=()=>{const a=n.map(l=>T.createContext(l));return function(u){const h=u?.[t]||a;return T.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return i.scopeName=t,[r,DR(i,...e)]}function DR(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((u,{useScope:h,scopeName:p})=>{const v=h(a)[`__scope${p}`];return{...u,...v}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function dl(t){const e=MR(t),n=T.forwardRef((r,i)=>{const{children:a,...l}=r,u=T.Children.toArray(a),h=u.find(VR);if(h){const p=h.props.children,m=u.map(v=>v===h?T.Children.count(p)>1?T.Children.only(null):T.isValidElement(p)?p.props.children:null:v);return y.jsx(e,{...l,ref:i,children:T.isValidElement(p)?T.cloneElement(p,void 0,m):null})}return y.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var OR=dl("Slot");function MR(t){const e=T.forwardRef((n,r)=>{const{children:i,...a}=n;if(T.isValidElement(i)){const l=FR(i),u=jR(a,i.props);return i.type!==T.Fragment&&(u.ref=r?iT(r,l):l),T.cloneElement(i,u)}return T.Children.count(i)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var oT=Symbol("radix.slottable");function LR(t){const e=({children:n})=>y.jsx(y.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=oT,e}function VR(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===oT}function jR(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...u)=>{const h=a(...u);return i(...u),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function FR(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function cy(t){const e=t+"CollectionProvider",[n,r]=co(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=b=>{const{scope:S,children:N}=b,D=de.useRef(null),L=de.useRef(new Map).current;return y.jsx(i,{scope:S,itemMap:L,collectionRef:D,children:N})};l.displayName=e;const u=t+"CollectionSlot",h=dl(u),p=de.forwardRef((b,S)=>{const{scope:N,children:D}=b,L=a(u,N),H=yt(S,L.collectionRef);return y.jsx(h,{ref:H,children:D})});p.displayName=u;const m=t+"CollectionItemSlot",v="data-radix-collection-item",E=dl(m),x=de.forwardRef((b,S)=>{const{scope:N,children:D,...L}=b,H=de.useRef(null),Q=yt(S,H),ee=a(m,N);return de.useEffect(()=>(ee.itemMap.set(H,{ref:H,...L}),()=>void ee.itemMap.delete(H))),y.jsx(E,{[v]:"",ref:Q,children:D})});x.displayName=m;function P(b){const S=a(t+"CollectionConsumer",b);return de.useCallback(()=>{const D=S.collectionRef.current;if(!D)return[];const L=Array.from(D.querySelectorAll(`[${v}]`));return Array.from(S.itemMap.values()).sort((ee,k)=>L.indexOf(ee.ref.current)-L.indexOf(k.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:l,Slot:p,ItemSlot:x},P,r]}var UR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],We=UR.reduce((t,e)=>{const n=dl(`Primitive.${e}`),r=T.forwardRef((i,a)=>{const{asChild:l,...u}=i,h=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(h,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function aT(t,e){t&&bl.flushSync(()=>t.dispatchEvent(e))}function Er(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>e.current?.(...n),[])}function BR(t,e=globalThis?.document){const n=Er(t);T.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var zR="DismissableLayer",og="dismissableLayer.update",$R="dismissableLayer.pointerDownOutside",WR="dismissableLayer.focusOutside",v0,lT=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fu=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...h}=t,p=T.useContext(lT),[m,v]=T.useState(null),E=m?.ownerDocument??globalThis?.document,[,x]=T.useState({}),P=yt(e,k=>v(k)),b=Array.from(p.layers),[S]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),N=b.indexOf(S),D=m?b.indexOf(m):-1,L=p.layersWithOutsidePointerEventsDisabled.size>0,H=D>=N,Q=qR(k=>{const R=k.target,M=[...p.branches].some(U=>U.contains(R));!H||M||(i?.(k),l?.(k),k.defaultPrevented||u?.())},E),ee=KR(k=>{const R=k.target;[...p.branches].some(U=>U.contains(R))||(a?.(k),l?.(k),k.defaultPrevented||u?.())},E);return BR(k=>{D===p.layers.size-1&&(r?.(k),!k.defaultPrevented&&u&&(k.preventDefault(),u()))},E),T.useEffect(()=>{if(m)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(v0=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),w0(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=v0)}},[m,E,n,p]),T.useEffect(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),w0())},[m,p]),T.useEffect(()=>{const k=()=>x({});return document.addEventListener(og,k),()=>document.removeEventListener(og,k)},[]),y.jsx(We.div,{...h,ref:P,style:{pointerEvents:L?H?"auto":"none":void 0,...t.style},onFocusCapture:ke(t.onFocusCapture,ee.onFocusCapture),onBlurCapture:ke(t.onBlurCapture,ee.onBlurCapture),onPointerDownCapture:ke(t.onPointerDownCapture,Q.onPointerDownCapture)})});fu.displayName=zR;var HR="DismissableLayerBranch",cT=T.forwardRef((t,e)=>{const n=T.useContext(lT),r=T.useRef(null),i=yt(e,r);return T.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),y.jsx(We.div,{...t,ref:i})});cT.displayName=HR;function qR(t,e=globalThis?.document){const n=Er(t),r=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let h=function(){uT($R,n,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function KR(t,e=globalThis?.document){const n=Er(t),r=T.useRef(!1);return T.useEffect(()=>{const i=a=>{a.target&&!r.current&&uT(WR,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function w0(){const t=new CustomEvent(og);document.dispatchEvent(t)}function uT(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?aT(i,a):i.dispatchEvent(a)}var GR=fu,QR=cT,an=globalThis?.document?T.useLayoutEffect:()=>{},YR="Portal",rf=T.forwardRef((t,e)=>{const{container:n,...r}=t,[i,a]=T.useState(!1);an(()=>a(!0),[]);const l=n||i&&globalThis?.document?.body;return l?sT.createPortal(y.jsx(We.div,{...r,ref:e}),l):null});rf.displayName=YR;function XR(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var Sl=t=>{const{present:e,children:n}=t,r=JR(e),i=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),a=yt(r.ref,ZR(i));return typeof n=="function"||r.isPresent?T.cloneElement(i,{ref:a}):null};Sl.displayName="Presence";function JR(t){const[e,n]=T.useState(),r=T.useRef(null),i=T.useRef(t),a=T.useRef("none"),l=t?"mounted":"unmounted",[u,h]=XR(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const p=Wd(r.current);a.current=u==="mounted"?p:"none"},[u]),an(()=>{const p=r.current,m=i.current;if(m!==t){const E=a.current,x=Wd(p);t?h("MOUNT"):x==="none"||p?.display==="none"?h("UNMOUNT"):h(m&&E!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,h]),an(()=>{if(e){let p;const m=e.ownerDocument.defaultView??window,v=x=>{const b=Wd(r.current).includes(CSS.escape(x.animationName));if(x.target===e&&b&&(h("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",p=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},E=x=>{x.target===e&&(a.current=Wd(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{m.clearTimeout(p),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:T.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function Wd(t){return t?.animationName||"none"}function ZR(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var eA=ly[" useInsertionEffect ".trim().toString()]||an;function hl({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,l]=tA({defaultProp:e,onChange:n}),u=t!==void 0,h=u?t:i;{const m=T.useRef(t!==void 0);T.useEffect(()=>{const v=m.current;v!==u&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,r])}const p=T.useCallback(m=>{if(u){const v=nA(m)?m(t):m;v!==t&&l.current?.(v)}else a(m)},[u,t,a,l]);return[h,p]}function tA({defaultProp:t,onChange:e}){const[n,r]=T.useState(t),i=T.useRef(n),a=T.useRef(e);return eA(()=>{a.current=e},[e]),T.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function nA(t){return typeof t=="function"}var dT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),rA="VisuallyHidden",sf=T.forwardRef((t,e)=>y.jsx(We.span,{...t,ref:e,style:{...dT,...t.style}}));sf.displayName=rA;var sA=sf,uy="ToastProvider",[dy,iA,oA]=cy("Toast"),[hT]=co("Toast",[oA]),[aA,of]=hT(uy),fT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:l}=t,[u,h]=T.useState(null),[p,m]=T.useState(0),v=T.useRef(!1),E=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${uy}\`. Expected non-empty \`string\`.`),y.jsx(dy.Provider,{scope:e,children:y.jsx(aA,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:p,viewport:u,onViewportChange:h,onToastAdd:T.useCallback(()=>m(x=>x+1),[]),onToastRemove:T.useCallback(()=>m(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:E,children:l})})};fT.displayName=uy;var pT="ToastViewport",lA=["F8"],ag="toast.viewportPause",lg="toast.viewportResume",mT=T.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=lA,label:i="Notifications ({hotkey})",...a}=t,l=of(pT,n),u=iA(n),h=T.useRef(null),p=T.useRef(null),m=T.useRef(null),v=T.useRef(null),E=yt(e,v,l.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=l.toastCount>0;T.useEffect(()=>{const S=N=>{r.length!==0&&r.every(L=>N[L]||N.code===L)&&v.current?.focus()};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),T.useEffect(()=>{const S=h.current,N=v.current;if(P&&S&&N){const D=()=>{if(!l.isClosePausedRef.current){const ee=new CustomEvent(ag);N.dispatchEvent(ee),l.isClosePausedRef.current=!0}},L=()=>{if(l.isClosePausedRef.current){const ee=new CustomEvent(lg);N.dispatchEvent(ee),l.isClosePausedRef.current=!1}},H=ee=>{!S.contains(ee.relatedTarget)&&L()},Q=()=>{S.contains(document.activeElement)||L()};return S.addEventListener("focusin",D),S.addEventListener("focusout",H),S.addEventListener("pointermove",D),S.addEventListener("pointerleave",Q),window.addEventListener("blur",D),window.addEventListener("focus",L),()=>{S.removeEventListener("focusin",D),S.removeEventListener("focusout",H),S.removeEventListener("pointermove",D),S.removeEventListener("pointerleave",Q),window.removeEventListener("blur",D),window.removeEventListener("focus",L)}}},[P,l.isClosePausedRef]);const b=T.useCallback(({tabbingDirection:S})=>{const D=u().map(L=>{const H=L.ref.current,Q=[H,...EA(H)];return S==="forwards"?Q:Q.reverse()});return(S==="forwards"?D.reverse():D).flat()},[u]);return T.useEffect(()=>{const S=v.current;if(S){const N=D=>{const L=D.altKey||D.ctrlKey||D.metaKey;if(D.key==="Tab"&&!L){const Q=document.activeElement,ee=D.shiftKey;if(D.target===S&&ee){p.current?.focus();return}const M=b({tabbingDirection:ee?"backwards":"forwards"}),U=M.findIndex(j=>j===Q);Cm(M.slice(U+1))?D.preventDefault():ee?p.current?.focus():m.current?.focus()}};return S.addEventListener("keydown",N),()=>S.removeEventListener("keydown",N)}},[u,b]),y.jsxs(QR,{ref:h,role:"region","aria-label":i.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:P?void 0:"none"},children:[P&&y.jsx(cg,{ref:p,onFocusFromOutsideViewport:()=>{const S=b({tabbingDirection:"forwards"});Cm(S)}}),y.jsx(dy.Slot,{scope:n,children:y.jsx(We.ol,{tabIndex:-1,...a,ref:E})}),P&&y.jsx(cg,{ref:m,onFocusFromOutsideViewport:()=>{const S=b({tabbingDirection:"backwards"});Cm(S)}})]})});mT.displayName=pT;var gT="ToastFocusProxy",cg=T.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,a=of(gT,n);return y.jsx(sf,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:l=>{const u=l.relatedTarget;!a.viewport?.contains(u)&&r()}})});cg.displayName=gT;var pu="Toast",cA="toast.swipeStart",uA="toast.swipeMove",dA="toast.swipeCancel",hA="toast.swipeEnd",yT=T.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...l}=t,[u,h]=hl({prop:r,defaultProp:i??!0,onChange:a,caller:pu});return y.jsx(Sl,{present:n||u,children:y.jsx(mA,{open:u,...l,ref:e,onClose:()=>h(!1),onPause:Er(t.onPause),onResume:Er(t.onResume),onSwipeStart:ke(t.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ke(t.onSwipeMove,p=>{const{x:m,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:ke(t.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ke(t.onSwipeEnd,p=>{const{x:m,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),h(!1)})})})});yT.displayName=pu;var[fA,pA]=hT(pu,{onClose(){}}),mA=T.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:l,onEscapeKeyDown:u,onPause:h,onResume:p,onSwipeStart:m,onSwipeMove:v,onSwipeCancel:E,onSwipeEnd:x,...P}=t,b=of(pu,n),[S,N]=T.useState(null),D=yt(e,se=>N(se)),L=T.useRef(null),H=T.useRef(null),Q=i||b.duration,ee=T.useRef(0),k=T.useRef(Q),R=T.useRef(0),{onToastAdd:M,onToastRemove:U}=b,j=Er(()=>{S?.contains(document.activeElement)&&b.viewport?.focus(),l()}),F=T.useCallback(se=>{!se||se===1/0||(window.clearTimeout(R.current),ee.current=new Date().getTime(),R.current=window.setTimeout(j,se))},[j]);T.useEffect(()=>{const se=b.viewport;if(se){const _e=()=>{F(k.current),p?.()},he=()=>{const te=new Date().getTime()-ee.current;k.current=k.current-te,window.clearTimeout(R.current),h?.()};return se.addEventListener(ag,he),se.addEventListener(lg,_e),()=>{se.removeEventListener(ag,he),se.removeEventListener(lg,_e)}}},[b.viewport,Q,h,p,F]),T.useEffect(()=>{a&&!b.isClosePausedRef.current&&F(Q)},[a,Q,b.isClosePausedRef,F]),T.useEffect(()=>(M(),()=>U()),[M,U]);const O=T.useMemo(()=>S?bT(S):null,[S]);return b.viewport?y.jsxs(y.Fragment,{children:[O&&y.jsx(gA,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:O}),y.jsx(fA,{scope:n,onClose:j,children:bl.createPortal(y.jsx(dy.ItemSlot,{scope:n,children:y.jsx(GR,{asChild:!0,onEscapeKeyDown:ke(u,()=>{b.isFocusedToastEscapeKeyDownRef.current||j(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:y.jsx(We.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":b.swipeDirection,...P,ref:D,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ke(t.onKeyDown,se=>{se.key==="Escape"&&(u?.(se.nativeEvent),se.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:ke(t.onPointerDown,se=>{se.button===0&&(L.current={x:se.clientX,y:se.clientY})}),onPointerMove:ke(t.onPointerMove,se=>{if(!L.current)return;const _e=se.clientX-L.current.x,he=se.clientY-L.current.y,te=!!H.current,W=["left","right"].includes(b.swipeDirection),Z=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,ie=W?Z(0,_e):0,z=W?0:Z(0,he),J=se.pointerType==="touch"?10:2,pe={x:ie,y:z},me={originalEvent:se,delta:pe};te?(H.current=pe,Hd(uA,v,me,{discrete:!1})):_0(pe,b.swipeDirection,J)?(H.current=pe,Hd(cA,m,me,{discrete:!1}),se.target.setPointerCapture(se.pointerId)):(Math.abs(_e)>J||Math.abs(he)>J)&&(L.current=null)}),onPointerUp:ke(t.onPointerUp,se=>{const _e=H.current,he=se.target;if(he.hasPointerCapture(se.pointerId)&&he.releasePointerCapture(se.pointerId),H.current=null,L.current=null,_e){const te=se.currentTarget,W={originalEvent:se,delta:_e};_0(_e,b.swipeDirection,b.swipeThreshold)?Hd(hA,x,W,{discrete:!0}):Hd(dA,E,W,{discrete:!0}),te.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),gA=t=>{const{__scopeToast:e,children:n,...r}=t,i=of(pu,e),[a,l]=T.useState(!1),[u,h]=T.useState(!1);return wA(()=>l(!0)),T.useEffect(()=>{const p=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(p)},[]),u?null:y.jsx(rf,{asChild:!0,children:y.jsx(sf,{...r,children:a&&y.jsxs(y.Fragment,{children:[i.label," ",n]})})})},yA="ToastTitle",vT=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return y.jsx(We.div,{...r,ref:e})});vT.displayName=yA;var vA="ToastDescription",wT=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return y.jsx(We.div,{...r,ref:e})});wT.displayName=vA;var _T="ToastAction",ET=T.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?y.jsx(TT,{altText:n,asChild:!0,children:y.jsx(hy,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${_T}\`. Expected non-empty \`string\`.`),null)});ET.displayName=_T;var xT="ToastClose",hy=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=pA(xT,n);return y.jsx(TT,{asChild:!0,children:y.jsx(We.button,{type:"button",...r,ref:e,onClick:ke(t.onClick,i.onClose)})})});hy.displayName=xT;var TT=T.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return y.jsx(We.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function bT(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),_A(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...bT(r))}}),e}function Hd(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?aT(i,a):i.dispatchEvent(a)}var _0=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),a=r>i;return e==="left"||e==="right"?a&&r>n:!a&&i>n};function wA(t=()=>{}){const e=Er(t);an(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function _A(t){return t.nodeType===t.ELEMENT_NODE}function EA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Cm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var xA=fT,ST=mT,IT=yT,CT=vT,PT=wT,RT=ET,AT=hy;function kT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=kT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function NT(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=kT(t))&&(r&&(r+=" "),r+=e);return r}const E0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,x0=NT,af=(t,e)=>n=>{var r;if(e?.variants==null)return x0(t,n?.class,n?.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(p=>{const m=n?.[p],v=a?.[p];if(m===null)return null;const E=E0(m)||E0(v);return i[p][E]}),u=n&&Object.entries(n).reduce((p,m)=>{let[v,E]=m;return E===void 0||(p[v]=E),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,m)=>{let{class:v,className:E,...x}=m;return Object.entries(x).every(P=>{let[b,S]=P;return Array.isArray(S)?S.includes({...a,...u}[b]):{...a,...u}[b]===S})?[...p,v,E]:p},[]);return x0(t,l,h,n?.class,n?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...u},h)=>T.createElement("svg",{ref:h,...bA,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:DT("lucide",i),...u},[...l.map(([p,m])=>T.createElement(p,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=(t,e)=>{const n=T.forwardRef(({className:r,...i},a)=>T.createElement(SA,{ref:a,iconNode:e,className:DT(`lucide-${TA(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=Pn("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=Pn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=Pn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=Pn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=Pn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=Pn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=Pn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=Pn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=Pn("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=Pn("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=Pn("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=Pn("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=Pn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=Pn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=Pn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gy="-",LA=t=>{const e=jA(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const u=l.split(gy);return u[0]===""&&u.length!==1&&u.shift(),MT(u,e)||VA(l)},getConflictingClassGroupIds:(l,u)=>{const h=n[l]||[];return u&&r[l]?[...h,...r[l]]:h}}},MT=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?MT(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(gy);return e.validators.find(({validator:l})=>l(a))?.classGroupId},T0=/^\[(.+)\]$/,VA=t=>{if(T0.test(t)){const e=T0.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},jA=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return UA(Object.entries(t.classGroups),n).forEach(([a,l])=>{ug(l,r,a,e)}),r},ug=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:b0(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(FA(i)){ug(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,l])=>{ug(l,b0(e,a),n,r)})})},b0=(t,e)=>{let n=t;return e.split(gy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},FA=t=>t.isThemeGetter,UA=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,u])=>[e+l,u])):a);return[n,i]}):t,BA=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,l)=>{n.set(a,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return i(a,l),l},set(a,l){n.has(a)?n.set(a,l):i(a,l)}}},LT="!",zA=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,l=u=>{const h=[];let p=0,m=0,v;for(let S=0;S<u.length;S++){let N=u[S];if(p===0){if(N===i&&(r||u.slice(S,S+a)===e)){h.push(u.slice(m,S)),m=S+a;continue}if(N==="/"){v=S;continue}}N==="["?p++:N==="]"&&p--}const E=h.length===0?u:u.substring(m),x=E.startsWith(LT),P=x?E.substring(1):E,b=v&&v>m?v-m:void 0;return{modifiers:h,hasImportantModifier:x,baseClassName:P,maybePostfixModifierPosition:b}};return n?u=>n({className:u,parseClassName:l}):l},$A=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},WA=t=>({cache:BA(t.cacheSize),parseClassName:zA(t),...LA(t)}),HA=/\s+/,qA=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],l=t.trim().split(HA);let u="";for(let h=l.length-1;h>=0;h-=1){const p=l[h],{modifiers:m,hasImportantModifier:v,baseClassName:E,maybePostfixModifierPosition:x}=n(p);let P=!!x,b=r(P?E.substring(0,x):E);if(!b){if(!P){u=p+(u.length>0?" "+u:u);continue}if(b=r(E),!b){u=p+(u.length>0?" "+u:u);continue}P=!1}const S=$A(m).join(":"),N=v?S+LT:S,D=N+b;if(a.includes(D))continue;a.push(D);const L=i(b,P);for(let H=0;H<L.length;++H){const Q=L[H];a.push(N+Q)}u=p+(u.length>0?" "+u:u)}return u};function KA(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=VT(e))&&(r&&(r+=" "),r+=n);return r}const VT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=VT(t[r]))&&(n&&(n+=" "),n+=e);return n};function GA(t,...e){let n,r,i,a=l;function l(h){const p=e.reduce((m,v)=>v(m),t());return n=WA(p),r=n.cache.get,i=n.cache.set,a=u,u(h)}function u(h){const p=r(h);if(p)return p;const m=qA(h,n);return i(h,m),m}return function(){return a(KA.apply(null,arguments))}}const mt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},jT=/^\[(?:([a-z-]+):)?(.+)\]$/i,QA=/^\d+\/\d+$/,YA=new Set(["px","full","screen"]),XA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,JA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ek=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Js=t=>nl(t)||YA.has(t)||QA.test(t),Vi=t=>Il(t,"length",ck),nl=t=>!!t&&!Number.isNaN(Number(t)),Pm=t=>Il(t,"number",nl),Ac=t=>!!t&&Number.isInteger(Number(t)),nk=t=>t.endsWith("%")&&nl(t.slice(0,-1)),Be=t=>jT.test(t),ji=t=>XA.test(t),rk=new Set(["length","size","percentage"]),sk=t=>Il(t,rk,FT),ik=t=>Il(t,"position",FT),ok=new Set(["image","url"]),ak=t=>Il(t,ok,dk),lk=t=>Il(t,"",uk),kc=()=>!0,Il=(t,e,n)=>{const r=jT.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},ck=t=>JA.test(t)&&!ZA.test(t),FT=()=>!1,uk=t=>ek.test(t),dk=t=>tk.test(t),hk=()=>{const t=mt("colors"),e=mt("spacing"),n=mt("blur"),r=mt("brightness"),i=mt("borderColor"),a=mt("borderRadius"),l=mt("borderSpacing"),u=mt("borderWidth"),h=mt("contrast"),p=mt("grayscale"),m=mt("hueRotate"),v=mt("invert"),E=mt("gap"),x=mt("gradientColorStops"),P=mt("gradientColorStopPositions"),b=mt("inset"),S=mt("margin"),N=mt("opacity"),D=mt("padding"),L=mt("saturate"),H=mt("scale"),Q=mt("sepia"),ee=mt("skew"),k=mt("space"),R=mt("translate"),M=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",Be,e],F=()=>[Be,e],O=()=>["",Js,Vi],se=()=>["auto",nl,Be],_e=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],he=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",Be],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[nl,Be];return{cacheSize:500,separator:":",theme:{colors:[kc],spacing:[Js,Vi],blur:["none","",ji,Be],brightness:z(),borderColor:[t],borderRadius:["none","","full",ji,Be],borderSpacing:F(),borderWidth:O(),contrast:z(),grayscale:Z(),hueRotate:z(),invert:Z(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[nk,Vi],inset:j(),margin:j(),opacity:z(),padding:F(),saturate:z(),scale:z(),sepia:Z(),skew:z(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Be]}],container:["container"],columns:[{columns:[ji]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[..._e(),Be]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ac,Be]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Be]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",Ac,Be]}],"grid-cols":[{"grid-cols":[kc]}],"col-start-end":[{col:["auto",{span:["full",Ac,Be]},Be]}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":[kc]}],"row-start-end":[{row:["auto",{span:[Ac,Be]},Be]}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Be]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[D]}],px:[{px:[D]}],py:[{py:[D]}],ps:[{ps:[D]}],pe:[{pe:[D]}],pt:[{pt:[D]}],pr:[{pr:[D]}],pb:[{pb:[D]}],pl:[{pl:[D]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Be,e]}],"min-w":[{"min-w":[Be,e,"min","max","fit"]}],"max-w":[{"max-w":[Be,e,"none","full","min","max","fit","prose",{screen:[ji]},ji]}],h:[{h:[Be,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Be,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Be,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Be,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ji,Vi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Pm]}],"font-family":[{font:[kc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Be]}],"line-clamp":[{"line-clamp":["none",nl,Pm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Js,Be]}],"list-image":[{"list-image":["none",Be]}],"list-style-type":[{list:["none","disc","decimal",Be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Js,Vi]}],"underline-offset":[{"underline-offset":["auto",Js,Be]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[..._e(),ik]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ak]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[P]}],"gradient-via-pos":[{via:[P]}],"gradient-to-pos":[{to:[P]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...he(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:he()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...he()]}],"outline-offset":[{"outline-offset":[Js,Be]}],"outline-w":[{outline:[Js,Vi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Js,Vi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ji,lk]}],"shadow-color":[{shadow:[kc]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",ji,Be]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[v]}],saturate:[{saturate:[L]}],sepia:[{sepia:[Q]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[L]}],"backdrop-sepia":[{"backdrop-sepia":[Q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Be]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Be]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[H]}],"scale-x":[{"scale-x":[H]}],"scale-y":[{"scale-y":[H]}],rotate:[{rotate:[Ac,Be]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[ee]}],"skew-y":[{"skew-y":[ee]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Be]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Be]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Be]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Js,Vi,Pm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},fk=GA(hk);function Ye(...t){return fk(NT(t))}const pk=xA,UT=T.forwardRef(({className:t,...e},n)=>y.jsx(ST,{ref:n,className:Ye("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));UT.displayName=ST.displayName;const mk=af("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),BT=T.forwardRef(({className:t,variant:e,...n},r)=>y.jsx(IT,{ref:r,className:Ye(mk({variant:e}),t),...n}));BT.displayName=IT.displayName;const gk=T.forwardRef(({className:t,...e},n)=>y.jsx(RT,{ref:n,className:Ye("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));gk.displayName=RT.displayName;const zT=T.forwardRef(({className:t,...e},n)=>y.jsx(AT,{ref:n,className:Ye("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:y.jsx(MA,{className:"h-4 w-4"})}));zT.displayName=AT.displayName;const $T=T.forwardRef(({className:t,...e},n)=>y.jsx(CT,{ref:n,className:Ye("text-sm font-semibold",t),...e}));$T.displayName=CT.displayName;const WT=T.forwardRef(({className:t,...e},n)=>y.jsx(PT,{ref:n,className:Ye("text-sm opacity-90",t),...e}));WT.displayName=PT.displayName;function yk(){const{toasts:t}=NR();return y.jsxs(pk,{children:[t.map(function({id:e,title:n,description:r,action:i,...a}){return y.jsxs(BT,{...a,children:[y.jsxs("div",{className:"grid gap-1",children:[n&&y.jsx($T,{children:n}),r&&y.jsx(WT,{children:r})]}),i,y.jsx(zT,{})]},e)}),y.jsx(UT,{})]})}var S0=["light","dark"],vk="(prefers-color-scheme: dark)",wk=T.createContext(void 0),_k={setTheme:t=>{},themes:[]},Ek=()=>{var t;return(t=T.useContext(wk))!=null?t:_k};T.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:l,attrs:u,nonce:h})=>{let p=a==="system",m=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${u.map(P=>`'${P}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,v=i?S0.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",E=(P,b=!1,S=!0)=>{let N=l?l[P]:P,D=b?P+"|| ''":`'${N}'`,L="";return i&&S&&!b&&S0.includes(P)&&(L+=`d.style.colorScheme = '${P}';`),n==="class"?b||N?L+=`c.add(${D})`:L+="null":N&&(L+=`d[s](n,${D})`),L},x=t?`!function(){${m}${E(t)}}()`:r?`!function(){try{${m}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${p})){var t='${vk}',m=window.matchMedia(t);if(m.media!==t||m.matches){${E("dark")}}else{${E("light")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:""}${E(l?"x[e]":"e",!0)}}${p?"":"else{"+E(a,!1,!1)+"}"}${v}}catch(e){}}()`:`!function(){try{${m}var e=localStorage.getItem('${e}');if(e){${l?`var x=${JSON.stringify(l)};`:""}${E(l?"x[e]":"e",!0)}}else{${E(a,!1,!1)};}${v}}catch(t){}}();`;return T.createElement("script",{nonce:h,dangerouslySetInnerHTML:{__html:x}})});var xk=t=>{switch(t){case"success":return Sk;case"info":return Ck;case"warning":return Ik;case"error":return Pk;default:return null}},Tk=Array(12).fill(0),bk=({visible:t,className:e})=>de.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},de.createElement("div",{className:"sonner-spinner"},Tk.map((n,r)=>de.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Sk=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Ik=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Ck=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Pk=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Rk=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},de.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),de.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ak=()=>{let[t,e]=de.useState(document.hidden);return de.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},dg=1,kk=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,a=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:dg++,l=this.toasts.find(h=>h.id===a),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(h=>h.id===a?(this.publish({...h,...e,id:a,title:r}),{...h,...e,id:a,dismissible:u,title:r}):h):this.addToast({title:r,...i,dismissible:u,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),a=r!==void 0,l,u=i.then(async p=>{if(l=["resolve",p],de.isValidElement(p))a=!1,this.create({id:r,type:"default",message:p});else if(Dk(p)&&!p.ok){a=!1;let m=typeof n.error=="function"?await n.error(`HTTP error! status: ${p.status}`):n.error,v=typeof n.description=="function"?await n.description(`HTTP error! status: ${p.status}`):n.description;this.create({id:r,type:"error",message:m,description:v})}else if(n.success!==void 0){a=!1;let m=typeof n.success=="function"?await n.success(p):n.success,v=typeof n.description=="function"?await n.description(p):n.description;this.create({id:r,type:"success",message:m,description:v})}}).catch(async p=>{if(l=["reject",p],n.error!==void 0){a=!1;let m=typeof n.error=="function"?await n.error(p):n.error,v=typeof n.description=="function"?await n.description(p):n.description;this.create({id:r,type:"error",message:m,description:v})}}).finally(()=>{var p;a&&(this.dismiss(r),r=void 0),(p=n.finally)==null||p.call(n)}),h=()=>new Promise((p,m)=>u.then(()=>l[0]==="reject"?m(l[1]):p(l[1])).catch(m));return typeof r!="string"&&typeof r!="number"?{unwrap:h}:Object.assign(r,{unwrap:h})},this.custom=(e,n)=>{let r=n?.id||dg++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ln=new kk,Nk=(t,e)=>{let n=e?.id||dg++;return Ln.addToast({title:t,...e,id:n}),n},Dk=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Ok=Nk,Mk=()=>Ln.toasts,Lk=()=>Ln.getActiveToasts(),Lt=Object.assign(Ok,{success:Ln.success,info:Ln.info,warning:Ln.warning,error:Ln.error,custom:Ln.custom,message:Ln.message,promise:Ln.promise,dismiss:Ln.dismiss,loading:Ln.loading},{getHistory:Mk,getToasts:Lk});function Vk(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Vk(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function qd(t){return t.label!==void 0}var jk=3,Fk="32px",Uk="16px",I0=4e3,Bk=356,zk=14,$k=20,Wk=200;function kr(...t){return t.filter(Boolean).join(" ")}function Hk(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var qk=t=>{var e,n,r,i,a,l,u,h,p,m,v;let{invert:E,toast:x,unstyled:P,interacting:b,setHeights:S,visibleToasts:N,heights:D,index:L,toasts:H,expanded:Q,removeToast:ee,defaultRichColors:k,closeButton:R,style:M,cancelButtonStyle:U,actionButtonStyle:j,className:F="",descriptionClassName:O="",duration:se,position:_e,gap:he,loadingIcon:te,expandByDefault:W,classNames:Z,icons:ie,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:J}=t,[pe,me]=de.useState(null),[Se,Ae]=de.useState(null),[ae,Te]=de.useState(!1),[Ne,Ve]=de.useState(!1),[$e,nt]=de.useState(!1),[vt,cn]=de.useState(!1),[Hr,Bn]=de.useState(!1),[zn,Os]=de.useState(0),[bt,wt]=de.useState(0),Zt=de.useRef(x.duration||se||I0),pi=de.useRef(null),$n=de.useRef(null),ua=L===0,qr=L+1<=N,Ht=x.type,Wn=x.dismissible!==!1,Kr=x.className||"",da=x.descriptionClassName||"",cr=de.useMemo(()=>D.findIndex(Ce=>Ce.toastId===x.id)||0,[D,x.id]),Gr=de.useMemo(()=>{var Ce;return(Ce=x.closeButton)!=null?Ce:R},[x.closeButton,R]),wo=de.useMemo(()=>x.duration||se||I0,[x.duration,se]),ur=de.useRef(0),Hn=de.useRef(0),mi=de.useRef(0),qt=de.useRef(null),[gi,Qr]=_e.split("-"),Ms=de.useMemo(()=>D.reduce((Ce,Xe,st)=>st>=cr?Ce:Ce+Xe.height,0),[D,cr]),dr=Ak(),xr=x.invert||E,lt=Ht==="loading";Hn.current=de.useMemo(()=>cr*he+Ms,[cr,Ms]),de.useEffect(()=>{Zt.current=wo},[wo]),de.useEffect(()=>{Te(!0)},[]),de.useEffect(()=>{let Ce=$n.current;if(Ce){let Xe=Ce.getBoundingClientRect().height;return wt(Xe),S(st=>[{toastId:x.id,height:Xe,position:x.position},...st]),()=>S(st=>st.filter(St=>St.toastId!==x.id))}},[S,x.id]),de.useLayoutEffect(()=>{if(!ae)return;let Ce=$n.current,Xe=Ce.style.height;Ce.style.height="auto";let st=Ce.getBoundingClientRect().height;Ce.style.height=Xe,wt(st),S(St=>St.find(un=>un.toastId===x.id)?St.map(un=>un.toastId===x.id?{...un,height:st}:un):[{toastId:x.id,height:st,position:x.position},...St])},[ae,x.title,x.description,S,x.id]);let Rn=de.useCallback(()=>{Ve(!0),Os(Hn.current),S(Ce=>Ce.filter(Xe=>Xe.toastId!==x.id)),setTimeout(()=>{ee(x)},Wk)},[x,ee,S,Hn]);de.useEffect(()=>{if(x.promise&&Ht==="loading"||x.duration===1/0||x.type==="loading")return;let Ce;return Q||b||J&&dr?(()=>{if(mi.current<ur.current){let Xe=new Date().getTime()-ur.current;Zt.current=Zt.current-Xe}mi.current=new Date().getTime()})():Zt.current!==1/0&&(ur.current=new Date().getTime(),Ce=setTimeout(()=>{var Xe;(Xe=x.onAutoClose)==null||Xe.call(x,x),Rn()},Zt.current)),()=>clearTimeout(Ce)},[Q,b,x,Ht,J,dr,Rn]),de.useEffect(()=>{x.delete&&Rn()},[Rn,x.delete]);function Yr(){var Ce,Xe,st;return ie!=null&&ie.loading?de.createElement("div",{className:kr(Z?.loader,(Ce=x?.classNames)==null?void 0:Ce.loader,"sonner-loader"),"data-visible":Ht==="loading"},ie.loading):te?de.createElement("div",{className:kr(Z?.loader,(Xe=x?.classNames)==null?void 0:Xe.loader,"sonner-loader"),"data-visible":Ht==="loading"},te):de.createElement(bk,{className:kr(Z?.loader,(st=x?.classNames)==null?void 0:st.loader),visible:Ht==="loading"})}return de.createElement("li",{tabIndex:0,ref:$n,className:kr(F,Kr,Z?.toast,(e=x?.classNames)==null?void 0:e.toast,Z?.default,Z?.[Ht],(n=x?.classNames)==null?void 0:n[Ht]),"data-sonner-toast":"","data-rich-colors":(r=x.richColors)!=null?r:k,"data-styled":!(x.jsx||x.unstyled||P),"data-mounted":ae,"data-promise":!!x.promise,"data-swiped":Hr,"data-removed":Ne,"data-visible":qr,"data-y-position":gi,"data-x-position":Qr,"data-index":L,"data-front":ua,"data-swiping":$e,"data-dismissible":Wn,"data-type":Ht,"data-invert":xr,"data-swipe-out":vt,"data-swipe-direction":Se,"data-expanded":!!(Q||W&&ae),style:{"--index":L,"--toasts-before":L,"--z-index":H.length-L,"--offset":`${Ne?zn:Hn.current}px`,"--initial-height":W?"auto":`${bt}px`,...M,...x.style},onDragEnd:()=>{nt(!1),me(null),qt.current=null},onPointerDown:Ce=>{lt||!Wn||(pi.current=new Date,Os(Hn.current),Ce.target.setPointerCapture(Ce.pointerId),Ce.target.tagName!=="BUTTON"&&(nt(!0),qt.current={x:Ce.clientX,y:Ce.clientY}))},onPointerUp:()=>{var Ce,Xe,st,St;if(vt||!Wn)return;qt.current=null;let un=Number(((Ce=$n.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),dn=Number(((Xe=$n.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),hn=new Date().getTime()-((st=pi.current)==null?void 0:st.getTime()),kt=pe==="x"?un:dn,qn=Math.abs(kt)/hn;if(Math.abs(kt)>=$k||qn>.11){Os(Hn.current),(St=x.onDismiss)==null||St.call(x,x),Ae(pe==="x"?un>0?"right":"left":dn>0?"down":"up"),Rn(),cn(!0),Bn(!1);return}nt(!1),me(null)},onPointerMove:Ce=>{var Xe,st,St,un;if(!qt.current||!Wn||((Xe=window.getSelection())==null?void 0:Xe.toString().length)>0)return;let dn=Ce.clientY-qt.current.y,hn=Ce.clientX-qt.current.x,kt=(st=t.swipeDirections)!=null?st:Hk(_e);!pe&&(Math.abs(hn)>1||Math.abs(dn)>1)&&me(Math.abs(hn)>Math.abs(dn)?"x":"y");let qn={x:0,y:0};pe==="y"?(kt.includes("top")||kt.includes("bottom"))&&(kt.includes("top")&&dn<0||kt.includes("bottom")&&dn>0)&&(qn.y=dn):pe==="x"&&(kt.includes("left")||kt.includes("right"))&&(kt.includes("left")&&hn<0||kt.includes("right")&&hn>0)&&(qn.x=hn),(Math.abs(qn.x)>0||Math.abs(qn.y)>0)&&Bn(!0),(St=$n.current)==null||St.style.setProperty("--swipe-amount-x",`${qn.x}px`),(un=$n.current)==null||un.style.setProperty("--swipe-amount-y",`${qn.y}px`)}},Gr&&!x.jsx?de.createElement("button",{"aria-label":z,"data-disabled":lt,"data-close-button":!0,onClick:lt||!Wn?()=>{}:()=>{var Ce;Rn(),(Ce=x.onDismiss)==null||Ce.call(x,x)},className:kr(Z?.closeButton,(i=x?.classNames)==null?void 0:i.closeButton)},(a=ie?.close)!=null?a:Rk):null,x.jsx||T.isValidElement(x.title)?x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title:de.createElement(de.Fragment,null,Ht||x.icon||x.promise?de.createElement("div",{"data-icon":"",className:kr(Z?.icon,(l=x?.classNames)==null?void 0:l.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||Yr():null,x.type!=="loading"?x.icon||ie?.[Ht]||xk(Ht):null):null,de.createElement("div",{"data-content":"",className:kr(Z?.content,(u=x?.classNames)==null?void 0:u.content)},de.createElement("div",{"data-title":"",className:kr(Z?.title,(h=x?.classNames)==null?void 0:h.title)},typeof x.title=="function"?x.title():x.title),x.description?de.createElement("div",{"data-description":"",className:kr(O,da,Z?.description,(p=x?.classNames)==null?void 0:p.description)},typeof x.description=="function"?x.description():x.description):null),T.isValidElement(x.cancel)?x.cancel:x.cancel&&qd(x.cancel)?de.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||U,onClick:Ce=>{var Xe,st;qd(x.cancel)&&Wn&&((st=(Xe=x.cancel).onClick)==null||st.call(Xe,Ce),Rn())},className:kr(Z?.cancelButton,(m=x?.classNames)==null?void 0:m.cancelButton)},x.cancel.label):null,T.isValidElement(x.action)?x.action:x.action&&qd(x.action)?de.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||j,onClick:Ce=>{var Xe,st;qd(x.action)&&((st=(Xe=x.action).onClick)==null||st.call(Xe,Ce),!Ce.defaultPrevented&&Rn())},className:kr(Z?.actionButton,(v=x?.classNames)==null?void 0:v.actionButton)},x.action.label):null))};function C0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Kk(t,e){let n={};return[t,e].forEach((r,i)=>{let a=i===1,l=a?"--mobile-offset":"--offset",u=a?Uk:Fk;function h(p){["top","right","bottom","left"].forEach(m=>{n[`${l}-${m}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?h(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?n[`${l}-${p}`]=u:n[`${l}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):h(u)}),n}var Gk=T.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:l,className:u,offset:h,mobileOffset:p,theme:m="light",richColors:v,duration:E,style:x,visibleToasts:P=jk,toastOptions:b,dir:S=C0(),gap:N=zk,loadingIcon:D,icons:L,containerAriaLabel:H="Notifications",pauseWhenPageIsHidden:Q}=t,[ee,k]=de.useState([]),R=de.useMemo(()=>Array.from(new Set([r].concat(ee.filter(J=>J.position).map(J=>J.position)))),[ee,r]),[M,U]=de.useState([]),[j,F]=de.useState(!1),[O,se]=de.useState(!1),[_e,he]=de.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=de.useRef(null),W=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),Z=de.useRef(null),ie=de.useRef(!1),z=de.useCallback(J=>{k(pe=>{var me;return(me=pe.find(Se=>Se.id===J.id))!=null&&me.delete||Ln.dismiss(J.id),pe.filter(({id:Se})=>Se!==J.id)})},[]);return de.useEffect(()=>Ln.subscribe(J=>{if(J.dismiss){k(pe=>pe.map(me=>me.id===J.id?{...me,delete:!0}:me));return}setTimeout(()=>{sT.flushSync(()=>{k(pe=>{let me=pe.findIndex(Se=>Se.id===J.id);return me!==-1?[...pe.slice(0,me),{...pe[me],...J},...pe.slice(me+1)]:[J,...pe]})})})}),[]),de.useEffect(()=>{if(m!=="system"){he(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?he("dark"):he("light")),typeof window>"u")return;let J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:pe})=>{he(pe?"dark":"light")})}catch{J.addListener(({matches:me})=>{try{he(me?"dark":"light")}catch(Se){console.error(Se)}})}},[m]),de.useEffect(()=>{ee.length<=1&&F(!1)},[ee]),de.useEffect(()=>{let J=pe=>{var me,Se;i.every(Ae=>pe[Ae]||pe.code===Ae)&&(F(!0),(me=te.current)==null||me.focus()),pe.code==="Escape"&&(document.activeElement===te.current||(Se=te.current)!=null&&Se.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[i]),de.useEffect(()=>{if(te.current)return()=>{Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null,ie.current=!1)}},[te.current]),de.createElement("section",{ref:e,"aria-label":`${H} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((J,pe)=>{var me;let[Se,Ae]=J.split("-");return ee.length?de.createElement("ol",{key:J,dir:S==="auto"?C0():S,tabIndex:-1,ref:te,className:u,"data-sonner-toaster":!0,"data-theme":_e,"data-y-position":Se,"data-lifted":j&&ee.length>1&&!a,"data-x-position":Ae,style:{"--front-toast-height":`${((me=M[0])==null?void 0:me.height)||0}px`,"--width":`${Bk}px`,"--gap":`${N}px`,...x,...Kk(h,p)},onBlur:ae=>{ie.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(ie.current=!1,Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||ie.current||(ie.current=!0,Z.current=ae.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{O||F(!1)},onDragEnd:()=>F(!1),onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||se(!0)},onPointerUp:()=>se(!1)},ee.filter(ae=>!ae.position&&pe===0||ae.position===J).map((ae,Te)=>{var Ne,Ve;return de.createElement(qk,{key:ae.id,icons:L,index:Te,toast:ae,defaultRichColors:v,duration:(Ne=b?.duration)!=null?Ne:E,className:b?.className,descriptionClassName:b?.descriptionClassName,invert:n,visibleToasts:P,closeButton:(Ve=b?.closeButton)!=null?Ve:l,interacting:O,position:J,style:b?.style,unstyled:b?.unstyled,classNames:b?.classNames,cancelButtonStyle:b?.cancelButtonStyle,actionButtonStyle:b?.actionButtonStyle,removeToast:z,toasts:ee.filter($e=>$e.position==ae.position),heights:M.filter($e=>$e.position==ae.position),setHeights:U,expandByDefault:a,gap:N,loadingIcon:D,expanded:j,pauseWhenPageIsHidden:Q,swipeDirections:t.swipeDirections})})):null}))});const Qk=({...t})=>{const{theme:e="system"}=Ek();return y.jsx(Gk,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Yk=ly[" useId ".trim().toString()]||(()=>{}),Xk=0;function Cl(t){const[e,n]=T.useState(Yk());return an(()=>{n(r=>r??String(Xk++))},[t]),e?`radix-${e}`:""}const Jk=["top","right","bottom","left"],Zi=Math.min,rr=Math.max,Ih=Math.round,Kd=Math.floor,vs=t=>({x:t,y:t}),Zk={left:"right",right:"left",bottom:"top",top:"bottom"},eN={start:"end",end:"start"};function hg(t,e,n){return rr(t,Zi(e,n))}function ii(t,e){return typeof t=="function"?t(e):t}function oi(t){return t.split("-")[0]}function Pl(t){return t.split("-")[1]}function yy(t){return t==="x"?"y":"x"}function vy(t){return t==="y"?"height":"width"}const tN=new Set(["top","bottom"]);function gs(t){return tN.has(oi(t))?"y":"x"}function wy(t){return yy(gs(t))}function nN(t,e,n){n===void 0&&(n=!1);const r=Pl(t),i=wy(t),a=vy(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Ch(l)),[l,Ch(l)]}function rN(t){const e=Ch(t);return[fg(t),e,fg(e)]}function fg(t){return t.replace(/start|end/g,e=>eN[e])}const P0=["left","right"],R0=["right","left"],sN=["top","bottom"],iN=["bottom","top"];function oN(t,e,n){switch(t){case"top":case"bottom":return n?e?R0:P0:e?P0:R0;case"left":case"right":return e?sN:iN;default:return[]}}function aN(t,e,n,r){const i=Pl(t);let a=oN(oi(t),n==="start",r);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(fg)))),a}function Ch(t){return t.replace(/left|right|bottom|top/g,e=>Zk[e])}function lN(t){return{top:0,right:0,bottom:0,left:0,...t}}function HT(t){return typeof t!="number"?lN(t):{top:t,right:t,bottom:t,left:t}}function Ph(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function A0(t,e,n){let{reference:r,floating:i}=t;const a=gs(e),l=wy(e),u=vy(l),h=oi(e),p=a==="y",m=r.x+r.width/2-i.width/2,v=r.y+r.height/2-i.height/2,E=r[u]/2-i[u]/2;let x;switch(h){case"top":x={x:m,y:r.y-i.height};break;case"bottom":x={x:m,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:v};break;case"left":x={x:r.x-i.width,y:v};break;default:x={x:r.x,y:r.y}}switch(Pl(e)){case"start":x[l]-=E*(n&&p?-1:1);break;case"end":x[l]+=E*(n&&p?-1:1);break}return x}const cN=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:l}=n,u=a.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:m,y:v}=A0(p,r,h),E=r,x={},P=0;for(let b=0;b<u.length;b++){const{name:S,fn:N}=u[b],{x:D,y:L,data:H,reset:Q}=await N({x:m,y:v,initialPlacement:r,placement:E,strategy:i,middlewareData:x,rects:p,platform:l,elements:{reference:t,floating:e}});m=D??m,v=L??v,x={...x,[S]:{...x[S],...H}},Q&&P<=50&&(P++,typeof Q=="object"&&(Q.placement&&(E=Q.placement),Q.rects&&(p=Q.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):Q.rects),{x:m,y:v}=A0(p,E,h)),b=-1)}return{x:m,y:v,placement:E,strategy:i,middlewareData:x}};async function Yc(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:l,elements:u,strategy:h}=t,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:E=!1,padding:x=0}=ii(e,t),P=HT(x),S=u[E?v==="floating"?"reference":"floating":v],N=Ph(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(S)))==null||n?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:p,rootBoundary:m,strategy:h})),D=v==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,L=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),H=await(a.isElement==null?void 0:a.isElement(L))?await(a.getScale==null?void 0:a.getScale(L))||{x:1,y:1}:{x:1,y:1},Q=Ph(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:D,offsetParent:L,strategy:h}):D);return{top:(N.top-Q.top+P.top)/H.y,bottom:(Q.bottom-N.bottom+P.bottom)/H.y,left:(N.left-Q.left+P.left)/H.x,right:(Q.right-N.right+P.right)/H.x}}const uN=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:l,elements:u,middlewareData:h}=e,{element:p,padding:m=0}=ii(t,e)||{};if(p==null)return{};const v=HT(m),E={x:n,y:r},x=wy(i),P=vy(x),b=await l.getDimensions(p),S=x==="y",N=S?"top":"left",D=S?"bottom":"right",L=S?"clientHeight":"clientWidth",H=a.reference[P]+a.reference[x]-E[x]-a.floating[P],Q=E[x]-a.reference[x],ee=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let k=ee?ee[L]:0;(!k||!await(l.isElement==null?void 0:l.isElement(ee)))&&(k=u.floating[L]||a.floating[P]);const R=H/2-Q/2,M=k/2-b[P]/2-1,U=Zi(v[N],M),j=Zi(v[D],M),F=U,O=k-b[P]-j,se=k/2-b[P]/2+R,_e=hg(F,se,O),he=!h.arrow&&Pl(i)!=null&&se!==_e&&a.reference[P]/2-(se<F?U:j)-b[P]/2<0,te=he?se<F?se-F:se-O:0;return{[x]:E[x]+te,data:{[x]:_e,centerOffset:se-_e-te,...he&&{alignmentOffset:te}},reset:he}}}),dN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:l,initialPlacement:u,platform:h,elements:p}=e,{mainAxis:m=!0,crossAxis:v=!0,fallbackPlacements:E,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:b=!0,...S}=ii(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=oi(i),D=gs(u),L=oi(u)===u,H=await(h.isRTL==null?void 0:h.isRTL(p.floating)),Q=E||(L||!b?[Ch(u)]:rN(u)),ee=P!=="none";!E&&ee&&Q.push(...aN(u,b,P,H));const k=[u,...Q],R=await Yc(e,S),M=[];let U=((r=a.flip)==null?void 0:r.overflows)||[];if(m&&M.push(R[N]),v){const se=nN(i,l,H);M.push(R[se[0]],R[se[1]])}if(U=[...U,{placement:i,overflows:M}],!M.every(se=>se<=0)){var j,F;const se=(((j=a.flip)==null?void 0:j.index)||0)+1,_e=k[se];if(_e&&(!(v==="alignment"?D!==gs(_e):!1)||U.every(W=>gs(W.placement)===D?W.overflows[0]>0:!0)))return{data:{index:se,overflows:U},reset:{placement:_e}};let he=(F=U.filter(te=>te.overflows[0]<=0).sort((te,W)=>te.overflows[1]-W.overflows[1])[0])==null?void 0:F.placement;if(!he)switch(x){case"bestFit":{var O;const te=(O=U.filter(W=>{if(ee){const Z=gs(W.placement);return Z===D||Z==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(Z=>Z>0).reduce((Z,ie)=>Z+ie,0)]).sort((W,Z)=>W[1]-Z[1])[0])==null?void 0:O[0];te&&(he=te);break}case"initialPlacement":he=u;break}if(i!==he)return{reset:{placement:he}}}return{}}}};function k0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function N0(t){return Jk.some(e=>t[e]>=0)}const hN=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ii(t,e);switch(r){case"referenceHidden":{const a=await Yc(e,{...i,elementContext:"reference"}),l=k0(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:N0(l)}}}case"escaped":{const a=await Yc(e,{...i,altBoundary:!0}),l=k0(a,n.floating);return{data:{escapedOffsets:l,escaped:N0(l)}}}default:return{}}}}},qT=new Set(["left","top"]);async function fN(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=oi(n),u=Pl(n),h=gs(n)==="y",p=qT.has(l)?-1:1,m=a&&h?-1:1,v=ii(e,t);let{mainAxis:E,crossAxis:x,alignmentAxis:P}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof P=="number"&&(x=u==="end"?P*-1:P),h?{x:x*m,y:E*p}:{x:E*p,y:x*m}}const pN=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:l,middlewareData:u}=e,h=await fN(e,t);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+h.x,y:a+h.y,data:{...h,placement:l}}}}},mN=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:S=>{let{x:N,y:D}=S;return{x:N,y:D}}},...h}=ii(t,e),p={x:n,y:r},m=await Yc(e,h),v=gs(oi(i)),E=yy(v);let x=p[E],P=p[v];if(a){const S=E==="y"?"top":"left",N=E==="y"?"bottom":"right",D=x+m[S],L=x-m[N];x=hg(D,x,L)}if(l){const S=v==="y"?"top":"left",N=v==="y"?"bottom":"right",D=P+m[S],L=P-m[N];P=hg(D,P,L)}const b=u.fn({...e,[E]:x,[v]:P});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[E]:a,[v]:l}}}}}},gN=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:l}=e,{offset:u=0,mainAxis:h=!0,crossAxis:p=!0}=ii(t,e),m={x:n,y:r},v=gs(i),E=yy(v);let x=m[E],P=m[v];const b=ii(u,e),S=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(h){const L=E==="y"?"height":"width",H=a.reference[E]-a.floating[L]+S.mainAxis,Q=a.reference[E]+a.reference[L]-S.mainAxis;x<H?x=H:x>Q&&(x=Q)}if(p){var N,D;const L=E==="y"?"width":"height",H=qT.has(oi(i)),Q=a.reference[v]-a.floating[L]+(H&&((N=l.offset)==null?void 0:N[v])||0)+(H?0:S.crossAxis),ee=a.reference[v]+a.reference[L]+(H?0:((D=l.offset)==null?void 0:D[v])||0)-(H?S.crossAxis:0);P<Q?P=Q:P>ee&&(P=ee)}return{[E]:x,[v]:P}}}},yN=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:l,elements:u}=e,{apply:h=()=>{},...p}=ii(t,e),m=await Yc(e,p),v=oi(i),E=Pl(i),x=gs(i)==="y",{width:P,height:b}=a.floating;let S,N;v==="top"||v==="bottom"?(S=v,N=E===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(N=v,S=E==="end"?"top":"bottom");const D=b-m.top-m.bottom,L=P-m.left-m.right,H=Zi(b-m[S],D),Q=Zi(P-m[N],L),ee=!e.middlewareData.shift;let k=H,R=Q;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=L),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=D),ee&&!E){const U=rr(m.left,0),j=rr(m.right,0),F=rr(m.top,0),O=rr(m.bottom,0);x?R=P-2*(U!==0||j!==0?U+j:rr(m.left,m.right)):k=b-2*(F!==0||O!==0?F+O:rr(m.top,m.bottom))}await h({...e,availableWidth:R,availableHeight:k});const M=await l.getDimensions(u.floating);return P!==M.width||b!==M.height?{reset:{rects:!0}}:{}}}};function lf(){return typeof window<"u"}function Rl(t){return KT(t)?(t.nodeName||"").toLowerCase():"#document"}function or(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ks(t){var e;return(e=(KT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function KT(t){return lf()?t instanceof Node||t instanceof or(t).Node:!1}function Fr(t){return lf()?t instanceof Element||t instanceof or(t).Element:!1}function Is(t){return lf()?t instanceof HTMLElement||t instanceof or(t).HTMLElement:!1}function D0(t){return!lf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof or(t).ShadowRoot}const vN=new Set(["inline","contents"]);function mu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ur(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!vN.has(i)}const wN=new Set(["table","td","th"]);function _N(t){return wN.has(Rl(t))}const EN=[":popover-open",":modal"];function cf(t){return EN.some(e=>{try{return t.matches(e)}catch{return!1}})}const xN=["transform","translate","scale","rotate","perspective"],TN=["transform","translate","scale","rotate","perspective","filter"],bN=["paint","layout","strict","content"];function _y(t){const e=Ey(),n=Fr(t)?Ur(t):t;return xN.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||TN.some(r=>(n.willChange||"").includes(r))||bN.some(r=>(n.contain||"").includes(r))}function SN(t){let e=eo(t);for(;Is(e)&&!fl(e);){if(_y(e))return e;if(cf(e))return null;e=eo(e)}return null}function Ey(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const IN=new Set(["html","body","#document"]);function fl(t){return IN.has(Rl(t))}function Ur(t){return or(t).getComputedStyle(t)}function uf(t){return Fr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function eo(t){if(Rl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||D0(t)&&t.host||ks(t);return D0(e)?e.host:e}function GT(t){const e=eo(t);return fl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Is(e)&&mu(e)?e:GT(e)}function Xc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=GT(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),l=or(i);if(a){const u=pg(l);return e.concat(l,l.visualViewport||[],mu(i)?i:[],u&&n?Xc(u):[])}return e.concat(i,Xc(i,[],n))}function pg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function QT(t){const e=Ur(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Is(t),a=i?t.offsetWidth:n,l=i?t.offsetHeight:r,u=Ih(n)!==a||Ih(r)!==l;return u&&(n=a,r=l),{width:n,height:r,$:u}}function xy(t){return Fr(t)?t:t.contextElement}function rl(t){const e=xy(t);if(!Is(e))return vs(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=QT(e);let l=(a?Ih(n.width):n.width)/r,u=(a?Ih(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const CN=vs(0);function YT(t){const e=or(t);return!Ey()||!e.visualViewport?CN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function PN(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==or(t)?!1:e}function Go(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=xy(t);let l=vs(1);e&&(r?Fr(r)&&(l=rl(r)):l=rl(t));const u=PN(a,n,r)?YT(a):vs(0);let h=(i.left+u.x)/l.x,p=(i.top+u.y)/l.y,m=i.width/l.x,v=i.height/l.y;if(a){const E=or(a),x=r&&Fr(r)?or(r):r;let P=E,b=pg(P);for(;b&&r&&x!==P;){const S=rl(b),N=b.getBoundingClientRect(),D=Ur(b),L=N.left+(b.clientLeft+parseFloat(D.paddingLeft))*S.x,H=N.top+(b.clientTop+parseFloat(D.paddingTop))*S.y;h*=S.x,p*=S.y,m*=S.x,v*=S.y,h+=L,p+=H,P=or(b),b=pg(P)}}return Ph({width:m,height:v,x:h,y:p})}function df(t,e){const n=uf(t).scrollLeft;return e?e.left+n:Go(ks(t)).left+n}function XT(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-df(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function RN(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",l=ks(r),u=e?cf(e.floating):!1;if(r===l||u&&a)return n;let h={scrollLeft:0,scrollTop:0},p=vs(1);const m=vs(0),v=Is(r);if((v||!v&&!a)&&((Rl(r)!=="body"||mu(l))&&(h=uf(r)),Is(r))){const x=Go(r);p=rl(r),m.x=x.x+r.clientLeft,m.y=x.y+r.clientTop}const E=l&&!v&&!a?XT(l,h):vs(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+m.x+E.x,y:n.y*p.y-h.scrollTop*p.y+m.y+E.y}}function AN(t){return Array.from(t.getClientRects())}function kN(t){const e=ks(t),n=uf(t),r=t.ownerDocument.body,i=rr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=rr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+df(t);const u=-n.scrollTop;return Ur(r).direction==="rtl"&&(l+=rr(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:l,y:u}}const O0=25;function NN(t,e){const n=or(t),r=ks(t),i=n.visualViewport;let a=r.clientWidth,l=r.clientHeight,u=0,h=0;if(i){a=i.width,l=i.height;const m=Ey();(!m||m&&e==="fixed")&&(u=i.offsetLeft,h=i.offsetTop)}const p=df(r);if(p<=0){const m=r.ownerDocument,v=m.body,E=getComputedStyle(v),x=m.compatMode==="CSS1Compat"&&parseFloat(E.marginLeft)+parseFloat(E.marginRight)||0,P=Math.abs(r.clientWidth-v.clientWidth-x);P<=O0&&(a-=P)}else p<=O0&&(a+=p);return{width:a,height:l,x:u,y:h}}const DN=new Set(["absolute","fixed"]);function ON(t,e){const n=Go(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=Is(t)?rl(t):vs(1),l=t.clientWidth*a.x,u=t.clientHeight*a.y,h=i*a.x,p=r*a.y;return{width:l,height:u,x:h,y:p}}function M0(t,e,n){let r;if(e==="viewport")r=NN(t,n);else if(e==="document")r=kN(ks(t));else if(Fr(e))r=ON(e,n);else{const i=YT(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ph(r)}function JT(t,e){const n=eo(t);return n===e||!Fr(n)||fl(n)?!1:Ur(n).position==="fixed"||JT(n,e)}function MN(t,e){const n=e.get(t);if(n)return n;let r=Xc(t,[],!1).filter(u=>Fr(u)&&Rl(u)!=="body"),i=null;const a=Ur(t).position==="fixed";let l=a?eo(t):t;for(;Fr(l)&&!fl(l);){const u=Ur(l),h=_y(l);!h&&u.position==="fixed"&&(i=null),(a?!h&&!i:!h&&u.position==="static"&&!!i&&DN.has(i.position)||mu(l)&&!h&&JT(t,l))?r=r.filter(m=>m!==l):i=u,l=eo(l)}return e.set(t,r),r}function LN(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const l=[...n==="clippingAncestors"?cf(e)?[]:MN(e,this._c):[].concat(n),r],u=l[0],h=l.reduce((p,m)=>{const v=M0(e,m,i);return p.top=rr(v.top,p.top),p.right=Zi(v.right,p.right),p.bottom=Zi(v.bottom,p.bottom),p.left=rr(v.left,p.left),p},M0(e,u,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function VN(t){const{width:e,height:n}=QT(t);return{width:e,height:n}}function jN(t,e,n){const r=Is(e),i=ks(e),a=n==="fixed",l=Go(t,!0,a,e);let u={scrollLeft:0,scrollTop:0};const h=vs(0);function p(){h.x=df(i)}if(r||!r&&!a)if((Rl(e)!=="body"||mu(i))&&(u=uf(e)),r){const x=Go(e,!0,a,e);h.x=x.x+e.clientLeft,h.y=x.y+e.clientTop}else i&&p();a&&!r&&i&&p();const m=i&&!r&&!a?XT(i,u):vs(0),v=l.left+u.scrollLeft-h.x-m.x,E=l.top+u.scrollTop-h.y-m.y;return{x:v,y:E,width:l.width,height:l.height}}function Rm(t){return Ur(t).position==="static"}function L0(t,e){if(!Is(t)||Ur(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ks(t)===n&&(n=n.ownerDocument.body),n}function ZT(t,e){const n=or(t);if(cf(t))return n;if(!Is(t)){let i=eo(t);for(;i&&!fl(i);){if(Fr(i)&&!Rm(i))return i;i=eo(i)}return n}let r=L0(t,e);for(;r&&_N(r)&&Rm(r);)r=L0(r,e);return r&&fl(r)&&Rm(r)&&!_y(r)?n:r||SN(t)||n}const FN=async function(t){const e=this.getOffsetParent||ZT,n=this.getDimensions,r=await n(t.floating);return{reference:jN(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function UN(t){return Ur(t).direction==="rtl"}const BN={convertOffsetParentRelativeRectToViewportRelativeRect:RN,getDocumentElement:ks,getClippingRect:LN,getOffsetParent:ZT,getElementRects:FN,getClientRects:AN,getDimensions:VN,getScale:rl,isElement:Fr,isRTL:UN};function eb(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function zN(t,e){let n=null,r;const i=ks(t);function a(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),a();const p=t.getBoundingClientRect(),{left:m,top:v,width:E,height:x}=p;if(u||e(),!E||!x)return;const P=Kd(v),b=Kd(i.clientWidth-(m+E)),S=Kd(i.clientHeight-(v+x)),N=Kd(m),L={rootMargin:-P+"px "+-b+"px "+-S+"px "+-N+"px",threshold:rr(0,Zi(1,h))||1};let H=!0;function Q(ee){const k=ee[0].intersectionRatio;if(k!==h){if(!H)return l();k?l(!1,k):r=setTimeout(()=>{l(!1,1e-7)},1e3)}k===1&&!eb(p,t.getBoundingClientRect())&&l(),H=!1}try{n=new IntersectionObserver(Q,{...L,root:i.ownerDocument})}catch{n=new IntersectionObserver(Q,L)}n.observe(t)}return l(!0),a}function $N(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=xy(t),m=i||a?[...p?Xc(p):[],...Xc(e)]:[];m.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const v=p&&u?zN(p,n):null;let E=-1,x=null;l&&(x=new ResizeObserver(N=>{let[D]=N;D&&D.target===p&&x&&(x.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var L;(L=x)==null||L.observe(e)})),n()}),p&&!h&&x.observe(p),x.observe(e));let P,b=h?Go(t):null;h&&S();function S(){const N=Go(t);b&&!eb(b,N)&&n(),b=N,P=requestAnimationFrame(S)}return n(),()=>{var N;m.forEach(D=>{i&&D.removeEventListener("scroll",n),a&&D.removeEventListener("resize",n)}),v?.(),(N=x)==null||N.disconnect(),x=null,h&&cancelAnimationFrame(P)}}const WN=pN,HN=mN,qN=dN,KN=yN,GN=hN,V0=uN,QN=gN,YN=(t,e,n)=>{const r=new Map,i={platform:BN,...n},a={...i.platform,_c:r};return cN(t,e,{...i,platform:a})};var XN=typeof document<"u",JN=function(){},lh=XN?T.useLayoutEffect:JN;function Rh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Rh(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!Rh(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function tb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function j0(t,e){const n=tb(t);return Math.round(e*n)/n}function Am(t){const e=T.useRef(t);return lh(()=>{e.current=t}),e}function ZN(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:h,open:p}=t,[m,v]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[E,x]=T.useState(r);Rh(E,r)||x(r);const[P,b]=T.useState(null),[S,N]=T.useState(null),D=T.useCallback(W=>{W!==ee.current&&(ee.current=W,b(W))},[]),L=T.useCallback(W=>{W!==k.current&&(k.current=W,N(W))},[]),H=a||P,Q=l||S,ee=T.useRef(null),k=T.useRef(null),R=T.useRef(m),M=h!=null,U=Am(h),j=Am(i),F=Am(p),O=T.useCallback(()=>{if(!ee.current||!k.current)return;const W={placement:e,strategy:n,middleware:E};j.current&&(W.platform=j.current),YN(ee.current,k.current,W).then(Z=>{const ie={...Z,isPositioned:F.current!==!1};se.current&&!Rh(R.current,ie)&&(R.current=ie,bl.flushSync(()=>{v(ie)}))})},[E,e,n,j,F]);lh(()=>{p===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,v(W=>({...W,isPositioned:!1})))},[p]);const se=T.useRef(!1);lh(()=>(se.current=!0,()=>{se.current=!1}),[]),lh(()=>{if(H&&(ee.current=H),Q&&(k.current=Q),H&&Q){if(U.current)return U.current(H,Q,O);O()}},[H,Q,O,U,M]);const _e=T.useMemo(()=>({reference:ee,floating:k,setReference:D,setFloating:L}),[D,L]),he=T.useMemo(()=>({reference:H,floating:Q}),[H,Q]),te=T.useMemo(()=>{const W={position:n,left:0,top:0};if(!he.floating)return W;const Z=j0(he.floating,m.x),ie=j0(he.floating,m.y);return u?{...W,transform:"translate("+Z+"px, "+ie+"px)",...tb(he.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:ie}},[n,u,he.floating,m.x,m.y]);return T.useMemo(()=>({...m,update:O,refs:_e,elements:he,floatingStyles:te}),[m,O,_e,he,te])}const eD=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?V0({element:r.current,padding:i}).fn(n):{}:r?V0({element:r,padding:i}).fn(n):{}}}},tD=(t,e)=>({...WN(t),options:[t,e]}),nD=(t,e)=>({...HN(t),options:[t,e]}),rD=(t,e)=>({...QN(t),options:[t,e]}),sD=(t,e)=>({...qN(t),options:[t,e]}),iD=(t,e)=>({...KN(t),options:[t,e]}),oD=(t,e)=>({...GN(t),options:[t,e]}),aD=(t,e)=>({...eD(t),options:[t,e]});var lD="Arrow",nb=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return y.jsx(We.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});nb.displayName=lD;var cD=nb;function uD(t){const[e,n]=T.useState(void 0);return an(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,u;if("borderBoxSize"in a){const h=a.borderBoxSize,p=Array.isArray(h)?h[0]:h;l=p.inlineSize,u=p.blockSize}else l=t.offsetWidth,u=t.offsetHeight;n({width:l,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Ty="Popper",[rb,Al]=co(Ty),[dD,sb]=rb(Ty),ib=t=>{const{__scopePopper:e,children:n}=t,[r,i]=T.useState(null);return y.jsx(dD,{scope:e,anchor:r,onAnchorChange:i,children:n})};ib.displayName=Ty;var ob="PopperAnchor",ab=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=sb(ob,n),l=T.useRef(null),u=yt(e,l),h=T.useRef(null);return T.useEffect(()=>{const p=h.current;h.current=r?.current||l.current,p!==h.current&&a.onAnchorChange(h.current)}),r?null:y.jsx(We.div,{...i,ref:u})});ab.displayName=ob;var by="PopperContent",[hD,fD]=rb(by),lb=T.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:m=0,sticky:v="partial",hideWhenDetached:E=!1,updatePositionStrategy:x="optimized",onPlaced:P,...b}=t,S=sb(by,n),[N,D]=T.useState(null),L=yt(e,ae=>D(ae)),[H,Q]=T.useState(null),ee=uD(H),k=ee?.width??0,R=ee?.height??0,M=r+(a!=="center"?"-"+a:""),U=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},j=Array.isArray(p)?p:[p],F=j.length>0,O={padding:U,boundary:j.filter(mD),altBoundary:F},{refs:se,floatingStyles:_e,placement:he,isPositioned:te,middlewareData:W}=ZN({strategy:"fixed",placement:M,whileElementsMounted:(...ae)=>$N(...ae,{animationFrame:x==="always"}),elements:{reference:S.anchor},middleware:[tD({mainAxis:i+R,alignmentAxis:l}),h&&nD({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?rD():void 0,...O}),h&&sD({...O}),iD({...O,apply:({elements:ae,rects:Te,availableWidth:Ne,availableHeight:Ve})=>{const{width:$e,height:nt}=Te.reference,vt=ae.floating.style;vt.setProperty("--radix-popper-available-width",`${Ne}px`),vt.setProperty("--radix-popper-available-height",`${Ve}px`),vt.setProperty("--radix-popper-anchor-width",`${$e}px`),vt.setProperty("--radix-popper-anchor-height",`${nt}px`)}}),H&&aD({element:H,padding:u}),gD({arrowWidth:k,arrowHeight:R}),E&&oD({strategy:"referenceHidden",...O})]}),[Z,ie]=db(he),z=Er(P);an(()=>{te&&z?.()},[te,z]);const J=W.arrow?.x,pe=W.arrow?.y,me=W.arrow?.centerOffset!==0,[Se,Ae]=T.useState();return an(()=>{N&&Ae(window.getComputedStyle(N).zIndex)},[N]),y.jsx("div",{ref:se.setFloating,"data-radix-popper-content-wrapper":"",style:{..._e,transform:te?_e.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:y.jsx(hD,{scope:n,placedSide:Z,onArrowChange:Q,arrowX:J,arrowY:pe,shouldHideArrow:me,children:y.jsx(We.div,{"data-side":Z,"data-align":ie,...b,ref:L,style:{...b.style,animation:te?void 0:"none"}})})})});lb.displayName=by;var cb="PopperArrow",pD={top:"bottom",right:"left",bottom:"top",left:"right"},ub=T.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=fD(cb,r),l=pD[a.placedSide];return y.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:y.jsx(cD,{...i,ref:n,style:{...i.style,display:"block"}})})});ub.displayName=cb;function mD(t){return t!==null}var gD=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,l=i.arrow?.centerOffset!==0,u=l?0:t.arrowWidth,h=l?0:t.arrowHeight,[p,m]=db(n),v={start:"0%",center:"50%",end:"100%"}[m],E=(i.arrow?.x??0)+u/2,x=(i.arrow?.y??0)+h/2;let P="",b="";return p==="bottom"?(P=l?v:`${E}px`,b=`${-h}px`):p==="top"?(P=l?v:`${E}px`,b=`${r.floating.height+h}px`):p==="right"?(P=`${-h}px`,b=l?v:`${x}px`):p==="left"&&(P=`${r.floating.width+h}px`,b=l?v:`${x}px`),{data:{x:P,y:b}}}});function db(t){const[e,n="center"]=t.split("-");return[e,n]}var hb=ib,hf=ab,Sy=lb,Iy=ub,[ff]=co("Tooltip",[Al]),Cy=Al(),fb="TooltipProvider",yD=700,F0="tooltip.open",[vD,pb]=ff(fb),mb=t=>{const{__scopeTooltip:e,delayDuration:n=yD,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,l=T.useRef(!0),u=T.useRef(!1),h=T.useRef(0);return T.useEffect(()=>{const p=h.current;return()=>window.clearTimeout(p)},[]),y.jsx(vD,{scope:e,isOpenDelayedRef:l,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(h.current),l.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:T.useCallback(p=>{u.current=p},[]),disableHoverableContent:i,children:a})};mb.displayName=fb;var gb="Tooltip",[c8,pf]=ff(gb),mg="TooltipTrigger",wD=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=pf(mg,n),a=pb(mg,n),l=Cy(n),u=T.useRef(null),h=yt(e,u,i.onTriggerChange),p=T.useRef(!1),m=T.useRef(!1),v=T.useCallback(()=>p.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),y.jsx(hf,{asChild:!0,...l,children:y.jsx(We.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:h,onPointerMove:ke(t.onPointerMove,E=>{E.pointerType!=="touch"&&!m.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),m.current=!0)}),onPointerLeave:ke(t.onPointerLeave,()=>{i.onTriggerLeave(),m.current=!1}),onPointerDown:ke(t.onPointerDown,()=>{i.open&&i.onClose(),p.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:ke(t.onFocus,()=>{p.current||i.onOpen()}),onBlur:ke(t.onBlur,i.onClose),onClick:ke(t.onClick,i.onClose)})})});wD.displayName=mg;var _D="TooltipPortal",[u8,ED]=ff(_D,{forceMount:void 0}),pl="TooltipContent",yb=T.forwardRef((t,e)=>{const n=ED(pl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,l=pf(pl,t.__scopeTooltip);return y.jsx(Sl,{present:r||l.open,children:l.disableHoverableContent?y.jsx(vb,{side:i,...a,ref:e}):y.jsx(xD,{side:i,...a,ref:e})})}),xD=T.forwardRef((t,e)=>{const n=pf(pl,t.__scopeTooltip),r=pb(pl,t.__scopeTooltip),i=T.useRef(null),a=yt(e,i),[l,u]=T.useState(null),{trigger:h,onClose:p}=n,m=i.current,{onPointerInTransitChange:v}=r,E=T.useCallback(()=>{u(null),v(!1)},[v]),x=T.useCallback((P,b)=>{const S=P.currentTarget,N={x:P.clientX,y:P.clientY},D=CD(N,S.getBoundingClientRect()),L=PD(N,D),H=RD(b.getBoundingClientRect()),Q=kD([...L,...H]);u(Q),v(!0)},[v]);return T.useEffect(()=>()=>E(),[E]),T.useEffect(()=>{if(h&&m){const P=S=>x(S,m),b=S=>x(S,h);return h.addEventListener("pointerleave",P),m.addEventListener("pointerleave",b),()=>{h.removeEventListener("pointerleave",P),m.removeEventListener("pointerleave",b)}}},[h,m,x,E]),T.useEffect(()=>{if(l){const P=b=>{const S=b.target,N={x:b.clientX,y:b.clientY},D=h?.contains(S)||m?.contains(S),L=!AD(N,l);D?E():L&&(E(),p())};return document.addEventListener("pointermove",P),()=>document.removeEventListener("pointermove",P)}},[h,m,l,p,E]),y.jsx(vb,{...t,ref:a})}),[TD,bD]=ff(gb,{isInside:!1}),SD=LR("TooltipContent"),vb=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:l,...u}=t,h=pf(pl,n),p=Cy(n),{onClose:m}=h;return T.useEffect(()=>(document.addEventListener(F0,m),()=>document.removeEventListener(F0,m)),[m]),T.useEffect(()=>{if(h.trigger){const v=E=>{E.target?.contains(h.trigger)&&m()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[h.trigger,m]),y.jsx(fu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:v=>v.preventDefault(),onDismiss:m,children:y.jsxs(Sy,{"data-state":h.stateAttribute,...p,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(SD,{children:r}),y.jsx(TD,{scope:n,isInside:!0,children:y.jsx(sA,{id:h.contentId,role:"tooltip",children:i||r})})]})})});yb.displayName=pl;var wb="TooltipArrow",ID=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Cy(n);return bD(wb,n).isInside?null:y.jsx(Iy,{...i,...r,ref:e})});ID.displayName=wb;function CD(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function PD(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function RD(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function AD(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const u=e[a],h=e[l],p=u.x,m=u.y,v=h.x,E=h.y;m>r!=E>r&&n<(v-p)*(r-m)/(E-m)+p&&(i=!i)}return i}function kD(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),ND(e)}function ND(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],l=e[e.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],l=n[n.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var DD=mb,_b=yb;const OD=DD,MD=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>y.jsx(_b,{ref:r,sideOffset:e,className:Ye("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));MD.displayName=_b.displayName;var mf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},LD={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},VD=class{#e=LD;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},gg=new VD;function jD(t){setTimeout(t,0)}var gf=typeof window>"u"||"Deno"in globalThis;function Or(){}function FD(t,e){return typeof t=="function"?t(e):t}function UD(t){return typeof t=="number"&&t>=0&&t!==1/0}function BD(t,e){return Math.max(t+(e||0)-Date.now(),0)}function yg(t,e){return typeof t=="function"?t(e):t}function zD(t,e){return typeof t=="function"?t(e):t}function U0(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:l,stale:u}=t;if(l){if(r){if(e.queryHash!==Py(l,e.options))return!1}else if(!Zc(e.queryKey,l))return!1}if(n!=="all"){const h=e.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||i&&i!==e.state.fetchStatus||a&&!a(e))}function B0(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Jc(e.options.mutationKey)!==Jc(a))return!1}else if(!Zc(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Py(t,e){return(e?.queryKeyHashFn||Jc)(t)}function Jc(t){return JSON.stringify(t,(e,n)=>vg(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Zc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Zc(t[n],e[n])):!1}var $D=Object.prototype.hasOwnProperty;function Eb(t,e){if(t===e)return t;const n=z0(t)&&z0(e);if(!n&&!(vg(t)&&vg(e)))return e;const i=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),l=a.length,u=n?new Array(l):{};let h=0;for(let p=0;p<l;p++){const m=n?p:a[p],v=t[m],E=e[m];if(v===E){u[m]=v,(n?p<i:$D.call(t,m))&&h++;continue}if(v===null||E===null||typeof v!="object"||typeof E!="object"){u[m]=E;continue}const x=Eb(v,E);u[m]=x,x===v&&h++}return i===l&&h===i?t:u}function z0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function vg(t){if(!$0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!$0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function $0(t){return Object.prototype.toString.call(t)==="[object Object]"}function WD(t){return new Promise(e=>{gg.setTimeout(e,t)})}function HD(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Eb(t,e):e}function qD(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function KD(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Ry=Symbol();function xb(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Ry?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var GD=class extends mf{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!gf&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Tb=new GD;function QD(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var YD=jD;function XD(){let t=[],e=0,n=u=>{u()},r=u=>{u()},i=YD;const a=u=>{e?t.push(u):i(()=>{n(u)})},l=()=>{const u=t;t=[],u.length&&i(()=>{r(()=>{u.forEach(h=>{n(h)})})})};return{batch:u=>{let h;e++;try{h=u()}finally{e--,e||l()}return h},batchCalls:u=>(...h)=>{a(()=>{u(...h)})},schedule:a,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var In=XD(),JD=class extends mf{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!gf&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Ah=new JD;function ZD(t){return Math.min(1e3*2**t,3e4)}function bb(t){return(t??"online")==="online"?Ah.isOnline():!0}var wg=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Sb(t){let e=!1,n=0,r;const i=QD(),a=()=>i.status!=="pending",l=b=>{if(!a()){const S=new wg(b);E(S),t.onCancel?.(S)}},u=()=>{e=!0},h=()=>{e=!1},p=()=>Tb.isFocused()&&(t.networkMode==="always"||Ah.isOnline())&&t.canRun(),m=()=>bb(t.networkMode)&&t.canRun(),v=b=>{a()||(r?.(),i.resolve(b))},E=b=>{a()||(r?.(),i.reject(b))},x=()=>new Promise(b=>{r=S=>{(a()||p())&&b(S)},t.onPause?.()}).then(()=>{r=void 0,a()||t.onContinue?.()}),P=()=>{if(a())return;let b;const S=n===0?t.initialPromise:void 0;try{b=S??t.fn()}catch(N){b=Promise.reject(N)}Promise.resolve(b).then(v).catch(N=>{if(a())return;const D=t.retry??(gf?0:3),L=t.retryDelay??ZD,H=typeof L=="function"?L(n,N):L,Q=D===!0||typeof D=="number"&&n<D||typeof D=="function"&&D(n,N);if(e||!Q){E(N);return}n++,t.onFail?.(n,N),WD(H).then(()=>p()?void 0:x()).then(()=>{e?E(N):P()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(r?.(),i),cancelRetry:u,continueRetry:h,canStart:m,start:()=>(m()?P():x().then(P),i)}}var Ib=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),UD(this.gcTime)&&(this.#e=gg.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(gf?1/0:300*1e3))}clearGcTimeout(){this.#e&&(gg.clearTimeout(this.#e),this.#e=void 0)}},eO=class extends Ib{#e;#t;#n;#s;#r;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=H0(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=H0(this.options);n.data!==void 0&&(this.setState(W0(n.data,n.dataUpdatedAt)),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=HD(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#i({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(Or).catch(Or):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>zD(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ry||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>yg(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!BD(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},a=()=>{const h=xb(this.options,n),m=(()=>{const v={client:this.#s,queryKey:this.queryKey,meta:this.meta};return i(v),v})();return this.#a=!1,this.options.persister?this.options.persister(h,m,this):h(m)},u=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:a};return i(h),h})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#i({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=Sb({initialPromise:n?.initialPromise,fn:u.fetchFn,onCancel:h=>{h instanceof wg&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(h,p)=>{this.#i({type:"failed",failureCount:h,error:p})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const h=await this.#r.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof wg){if(h.silent)return this.#r.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#i({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#i(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...tO(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...W0(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),In.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function tO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bb(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function W0(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function H0(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function q0(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let u={pages:[],pageParams:[]},h=0;const p=async()=>{let m=!1;const v=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},E=xb(e.options,e.fetchOptions),x=async(P,b,S)=>{if(m)return Promise.reject();if(b==null&&P.pages.length)return Promise.resolve(P);const D=(()=>{const ee={client:e.client,queryKey:e.queryKey,pageParam:b,direction:S?"backward":"forward",meta:e.options.meta};return v(ee),ee})(),L=await E(D),{maxPages:H}=e.options,Q=S?KD:qD;return{pages:Q(P.pages,L,H),pageParams:Q(P.pageParams,b,H)}};if(i&&a.length){const P=i==="backward",b=P?nO:K0,S={pages:a,pageParams:l},N=b(r,S);u=await x(S,N,P)}else{const P=t??a.length;do{const b=h===0?l[0]??r.initialPageParam:K0(r,u);if(h>0&&b==null)break;u=await x(u,b),h++}while(h<P)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=p}}}function K0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function nO(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var rO=class extends Ib{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||sO(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Sb({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(l,u)=>{this.#r({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",a=!this.#s.canStart();try{if(i)n();else{this.#r({type:"pending",variables:e,isPaused:a}),await this.#n.config.onMutate?.(e,this,r);const u=await this.options.onMutate?.(e,r);u!==this.state.context&&this.#r({type:"pending",context:u,variables:e,isPaused:a})}const l=await this.#s.start();return await this.#n.config.onSuccess?.(l,e,this.state.context,this,r),await this.options.onSuccess?.(l,e,this.state.context,r),await this.#n.config.onSettled?.(l,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(l,null,e,this.state.context,r),this.#r({type:"success",data:l}),l}catch(l){try{throw await this.#n.config.onError?.(l,e,this.state.context,this,r),await this.options.onError?.(l,e,this.state.context,r),await this.#n.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,l,e,this.state.context,r),l}finally{this.#r({type:"error",error:l})}}finally{this.#n.runNext(this)}}#r(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),In.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function sO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var iO=class extends mf{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new rO({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=Gd(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Gd(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Gd(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Gd(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){In.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>B0(e,n))}findAll(t={}){return this.getAll().filter(e=>B0(t,e))}notify(t){In.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return In.batch(()=>Promise.all(t.map(e=>e.continue().catch(Or))))}};function Gd(t){return t.options.scope?.id}var oO=class extends mf{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??Py(r,e);let a=this.get(i);return a||(a=new eO({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){In.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>U0(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>U0(t,n)):e}notify(t){In.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){In.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){In.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},aO=class{#e;#t;#n;#s;#r;#o;#a;#i;constructor(t={}){this.#e=t.queryCache||new oO,this.#t=t.mutationCache||new iO,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=Tb.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Ah.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(yg(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(r.queryHash)?.state.data,l=FD(e,a);if(l!==void 0)return this.#e.build(this,r).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return In.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;In.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return In.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=In.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Or).catch(Or)}invalidateQueries(t,e={}){return In.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=In.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Or)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Or)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(yg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Or).catch(Or)}fetchInfiniteQuery(t){return t.behavior=q0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Or).catch(Or)}ensureInfiniteQueryData(t){return t.behavior=q0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ah.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(Jc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{Zc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Jc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Zc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Py(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ry&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},lO=T.createContext(void 0),cO=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),y.jsx(lO.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eu.apply(this,arguments)}var qi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qi||(qi={}));const G0="popstate";function uO(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:l,hash:u}=r.location;return _g("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:kh(i)}return hO(e,n,null,t)}function Ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dO(){return Math.random().toString(36).substr(2,8)}function Q0(t,e){return{usr:t.state,key:t.key,idx:e}}function _g(t,e,n,r){return n===void 0&&(n=null),eu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?kl(e):e,{state:n,key:e&&e.key||r||dO()})}function kh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function kl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function hO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u=qi.Pop,h=null,p=m();p==null&&(p=0,l.replaceState(eu({},l.state,{idx:p}),""));function m(){return(l.state||{idx:null}).idx}function v(){u=qi.Pop;let S=m(),N=S==null?null:S-p;p=S,h&&h({action:u,location:b.location,delta:N})}function E(S,N){u=qi.Push;let D=_g(b.location,S,N);p=m()+1;let L=Q0(D,p),H=b.createHref(D);try{l.pushState(L,"",H)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;i.location.assign(H)}a&&h&&h({action:u,location:b.location,delta:1})}function x(S,N){u=qi.Replace;let D=_g(b.location,S,N);p=m();let L=Q0(D,p),H=b.createHref(D);l.replaceState(L,"",H),a&&h&&h({action:u,location:b.location,delta:0})}function P(S){let N=i.location.origin!=="null"?i.location.origin:i.location.href,D=typeof S=="string"?S:kh(S);return D=D.replace(/ $/,"%20"),Ut(N,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,N)}let b={get action(){return u},get location(){return t(i,l)},listen(S){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(G0,v),h=S,()=>{i.removeEventListener(G0,v),h=null}},createHref(S){return e(i,S)},createURL:P,encodeLocation(S){let N=P(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:E,replace:x,go(S){return l.go(S)}};return b}var Y0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Y0||(Y0={}));function fO(t,e,n){return n===void 0&&(n="/"),pO(t,e,n)}function pO(t,e,n,r){let i=typeof e=="string"?kl(e):e,a=Ay(i.pathname||"/",n);if(a==null)return null;let l=Pb(t);mO(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let p=CO(a);u=bO(l[h],p)}return u}function Pb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,l,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(Ut(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let p=Gi([r,h.relativePath]),m=n.concat(h);a.children&&a.children.length>0&&(Ut(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Pb(a.children,e,m,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:xO(p,a.index),routesMeta:m})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let h of Rb(a.path))i(a,l,h)}),e}function Rb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=Rb(r.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),i&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function mO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const gO=/^:[\w-]+$/,yO=3,vO=2,wO=1,_O=10,EO=-2,X0=t=>t==="*";function xO(t,e){let n=t.split("/"),r=n.length;return n.some(X0)&&(r+=EO),e&&(r+=vO),n.filter(i=>!X0(i)).reduce((i,a)=>i+(gO.test(a)?yO:a===""?wO:_O),r)}function TO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function bO(t,e,n){let{routesMeta:r}=t,i={},a="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],p=u===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",v=SO({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),E=h.route;if(!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:Gi([a,v.pathname]),pathnameBase:kO(Gi([a,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(a=Gi([a,v.pathnameBase]))}return l}function SO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=IO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,m,v)=>{let{paramName:E,isOptional:x}=m;if(E==="*"){let b=u[v]||"";l=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const P=u[v];return x&&!P?p[E]=void 0:p[E]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function IO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Cb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function CO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ay(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function PO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?kl(t):t;return{pathname:n?n.startsWith("/")?n:RO(n,e):e,search:NO(r),hash:DO(i)}}function RO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function km(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ab(t,e){let n=AO(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function kb(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=kl(t):(i=eu({},t),Ut(!i.pathname||!i.pathname.includes("?"),km("?","pathname","search",i)),Ut(!i.pathname||!i.pathname.includes("#"),km("#","pathname","hash",i)),Ut(!i.search||!i.search.includes("#"),km("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=n;else{let v=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),v-=1;i.pathname=E.join("/")}u=v>=0?e[v]:"/"}let h=PO(i,u),p=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}const Gi=t=>t.join("/").replace(/\/\/+/g,"/"),kO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),NO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function OO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Nb=["post","put","patch","delete"];new Set(Nb);const MO=["get",...Nb];new Set(MO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tu.apply(this,arguments)}const ky=T.createContext(null),LO=T.createContext(null),sa=T.createContext(null),yf=T.createContext(null),uo=T.createContext({outlet:null,matches:[],isDataRoute:!1}),Db=T.createContext(null);function VO(t,e){let{relative:n}=e===void 0?{}:e;gu()||Ut(!1);let{basename:r,navigator:i}=T.useContext(sa),{hash:a,pathname:l,search:u}=Mb(t,{relative:n}),h=l;return r!=="/"&&(h=l==="/"?r:Gi([r,l])),i.createHref({pathname:h,search:u,hash:a})}function gu(){return T.useContext(yf)!=null}function yu(){return gu()||Ut(!1),T.useContext(yf).location}function Ob(t){T.useContext(sa).static||T.useLayoutEffect(t)}function Nl(){let{isDataRoute:t}=T.useContext(uo);return t?XO():jO()}function jO(){gu()||Ut(!1);let t=T.useContext(ky),{basename:e,future:n,navigator:r}=T.useContext(sa),{matches:i}=T.useContext(uo),{pathname:a}=yu(),l=JSON.stringify(Ab(i,n.v7_relativeSplatPath)),u=T.useRef(!1);return Ob(()=>{u.current=!0}),T.useCallback(function(p,m){if(m===void 0&&(m={}),!u.current)return;if(typeof p=="number"){r.go(p);return}let v=kb(p,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Gi([e,v.pathname])),(m.replace?r.replace:r.push)(v,m.state,m)},[e,r,l,a,t])}function FO(){let{matches:t}=T.useContext(uo),e=t[t.length-1];return e?e.params:{}}function Mb(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(sa),{matches:i}=T.useContext(uo),{pathname:a}=yu(),l=JSON.stringify(Ab(i,r.v7_relativeSplatPath));return T.useMemo(()=>kb(t,JSON.parse(l),a,n==="path"),[t,l,a,n])}function UO(t,e){return BO(t,e)}function BO(t,e,n,r){gu()||Ut(!1);let{navigator:i}=T.useContext(sa),{matches:a}=T.useContext(uo),l=a[a.length-1],u=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let p=yu(),m;if(e){var v;let S=typeof e=="string"?kl(e):e;h==="/"||(v=S.pathname)!=null&&v.startsWith(h)||Ut(!1),m=S}else m=p;let E=m.pathname||"/",x=E;if(h!=="/"){let S=h.replace(/^\//,"").split("/");x="/"+E.replace(/^\//,"").split("/").slice(S.length).join("/")}let P=fO(t,{pathname:x}),b=qO(P&&P.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:Gi([h,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:Gi([h,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,n,r);return e&&b?T.createElement(yf.Provider,{value:{location:tu({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:qi.Pop}},b):b}function zO(){let t=YO(),e=OO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,null)}const $O=T.createElement(zO,null);class WO extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(uo.Provider,{value:this.props.routeContext},T.createElement(Db.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function HO(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(ky);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(uo.Provider,{value:e},r)}function qO(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let m=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);m>=0||Ut(!1),l=l.slice(0,Math.min(l.length,m+1))}let h=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<l.length;m++){let v=l[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=m),v.route.id){let{loaderData:E,errors:x}=n,P=v.route.loader&&E[v.route.id]===void 0&&(!x||x[v.route.id]===void 0);if(v.route.lazy||P){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,v,E)=>{let x,P=!1,b=null,S=null;n&&(x=u&&v.route.id?u[v.route.id]:void 0,b=v.route.errorElement||$O,h&&(p<0&&E===0?(JO("route-fallback"),P=!0,S=null):p===E&&(P=!0,S=v.route.hydrateFallbackElement||null)));let N=e.concat(l.slice(0,E+1)),D=()=>{let L;return x?L=b:P?L=S:v.route.Component?L=T.createElement(v.route.Component,null):v.route.element?L=v.route.element:L=m,T.createElement(HO,{match:v,routeContext:{outlet:m,matches:N,isDataRoute:n!=null},children:L})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?T.createElement(WO,{location:n.location,revalidation:n.revalidation,component:b,error:x,children:D(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):D()},null)}var Lb=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Lb||{}),Vb=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Vb||{});function KO(t){let e=T.useContext(ky);return e||Ut(!1),e}function GO(t){let e=T.useContext(LO);return e||Ut(!1),e}function QO(t){let e=T.useContext(uo);return e||Ut(!1),e}function jb(t){let e=QO(),n=e.matches[e.matches.length-1];return n.route.id||Ut(!1),n.route.id}function YO(){var t;let e=T.useContext(Db),n=GO(),r=jb();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function XO(){let{router:t}=KO(Lb.UseNavigateStable),e=jb(Vb.UseNavigateStable),n=T.useRef(!1);return Ob(()=>{n.current=!0}),T.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,tu({fromRouteId:e},a)))},[t,e])}const J0={};function JO(t,e,n){J0[t]||(J0[t]=!0)}function ZO(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Nr(t){Ut(!1)}function e2(t){let{basename:e="/",children:n=null,location:r,navigationType:i=qi.Pop,navigator:a,static:l=!1,future:u}=t;gu()&&Ut(!1);let h=e.replace(/^\/*/,"/"),p=T.useMemo(()=>({basename:h,navigator:a,static:l,future:tu({v7_relativeSplatPath:!1},u)}),[h,u,a,l]);typeof r=="string"&&(r=kl(r));let{pathname:m="/",search:v="",hash:E="",state:x=null,key:P="default"}=r,b=T.useMemo(()=>{let S=Ay(m,h);return S==null?null:{location:{pathname:S,search:v,hash:E,state:x,key:P},navigationType:i}},[h,m,v,E,x,P,i]);return b==null?null:T.createElement(sa.Provider,{value:p},T.createElement(yf.Provider,{children:n,value:b}))}function t2(t){let{children:e,location:n}=t;return UO(Eg(e),n)}new Promise(()=>{});function Eg(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let a=[...e,i];if(r.type===T.Fragment){n.push.apply(n,Eg(r.props.children,a));return}r.type!==Nr&&Ut(!1),!r.props.index||!r.props.children||Ut(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Eg(r.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xg.apply(this,arguments)}function n2(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function r2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function s2(t,e){return t.button===0&&(!e||e==="_self")&&!r2(t)}const i2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],o2="6";try{window.__reactRouterVersion=o2}catch{}const a2="startTransition",Z0=ly[a2];function l2(t){let{basename:e,children:n,future:r,window:i}=t,a=T.useRef();a.current==null&&(a.current=uO({window:i,v5Compat:!0}));let l=a.current,[u,h]=T.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},m=T.useCallback(v=>{p&&Z0?Z0(()=>h(v)):h(v)},[h,p]);return T.useLayoutEffect(()=>l.listen(m),[l,m]),T.useEffect(()=>ZO(r),[r]),T.createElement(e2,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const c2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",u2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nr=T.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:u,target:h,to:p,preventScrollReset:m,viewTransition:v}=e,E=n2(e,i2),{basename:x}=T.useContext(sa),P,b=!1;if(typeof p=="string"&&u2.test(p)&&(P=p,c2))try{let L=new URL(window.location.href),H=p.startsWith("//")?new URL(L.protocol+p):new URL(p),Q=Ay(H.pathname,x);H.origin===L.origin&&Q!=null?p=Q+H.search+H.hash:b=!0}catch{}let S=VO(p,{relative:i}),N=d2(p,{replace:l,state:u,target:h,preventScrollReset:m,relative:i,viewTransition:v});function D(L){r&&r(L),L.defaultPrevented||N(L)}return T.createElement("a",xg({},E,{href:P||S,onClick:b||a?r:D,ref:n,target:h}))});var eE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(eE||(eE={}));var tE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(tE||(tE={}));function d2(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:u}=e===void 0?{}:e,h=Nl(),p=yu(),m=Mb(t,{relative:l});return T.useCallback(v=>{if(s2(v,n)){v.preventDefault();let E=r!==void 0?r:kh(p)===kh(m);h(t,{replace:E,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[p,h,m,r,i,n,t,a,l,u])}const Tg=af("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),jt=T.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const l=r?OR:"button";return y.jsx(l,{className:Ye(Tg({variant:e,size:n,className:t})),ref:a,...i})});jt.displayName="Button";const h2=()=>{};var nE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},f2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],u=t[n++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Ub={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,u=l?t[i+1]:0,h=i+2<t.length,p=h?t[i+2]:0,m=a>>2,v=(a&3)<<4|u>>4;let E=(u&15)<<2|p>>6,x=p&63;h||(x=64,l||(E=64)),r.push(n[m],n[v],n[E],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Fb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):f2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||p==null||v==null)throw new p2;const E=a<<2|u>>4;if(r.push(E),p!==64){const x=u<<4&240|p>>2;if(r.push(x),v!==64){const P=p<<6&192|v;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class p2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m2=function(t){const e=Fb(t);return Ub.encodeByteArray(e,!0)},Nh=function(t){return m2(t).replace(/\./g,"")},Bb=function(t){try{return Ub.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=()=>g2().__FIREBASE_DEFAULTS__,v2=()=>{if(typeof process>"u"||typeof nE>"u")return;const t=nE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},w2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Bb(t[1]);return e&&JSON.parse(e)},vf=()=>{try{return h2()||y2()||v2()||w2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zb=t=>vf()?.emulatorHosts?.[t],$b=t=>{const e=zb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Wb=()=>vf()?.config,Hb=t=>vf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ny(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Nh(JSON.stringify(n)),Nh(JSON.stringify(l)),""].join(".")}const zc={};function E2(){const t={prod:[],emulator:[]};for(const e of Object.keys(zc))zc[e]?t.emulator.push(e):t.prod.push(e);return t}function x2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let rE=!1;function Dy(t,e){if(typeof window>"u"||typeof document>"u"||!ia(window.location.host)||zc[t]===e||zc[t]||rE)return;zc[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=E2().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function u(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function h(E,x){E.setAttribute("width","24"),E.setAttribute("id",x),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{rE=!0,l()},E}function m(E,x){E.setAttribute("id",x),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=x2(r),x=n("text"),P=document.getElementById(x)||document.createElement("span"),b=n("learnmore"),S=document.getElementById(b)||document.createElement("a"),N=n("preprendIcon"),D=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const L=E.element;u(L),m(S,b);const H=p();h(D,N),L.append(D,P,S,H),document.body.appendChild(L)}a?(P.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function b2(){const t=vf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function I2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function C2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function P2(){const t=xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function R2(){return!b2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A2(){try{return typeof indexedDB=="object"}catch{return!1}}function k2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="FirebaseError";class Ns extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=N2,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?D2(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Ns(i,u,r)}}function D2(t,e){return t.replace(O2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const O2=/\{\$([^}]+)}/g;function M2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(sE(a)&&sE(l)){if(!Qo(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function sE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Oc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Mc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function L2(t,e){const n=new V2(t,e);return n.subscribe.bind(n)}class V2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");j2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Nm),i.error===void 0&&(i.error=Nm),i.complete===void 0&&(i.complete=Nm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function j2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t){return t&&t._delegate?t._delegate:t}class to{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B2(e))try{this.getOrInitializeService({instanceIdentifier:Wo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wo){return this.instances.has(e)}getOptions(e=Wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:U2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wo){return this.component?this.component.multipleInstances?e:Wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U2(t){return t===Wo?void 0:t}function B2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new F2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const $2={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},W2=He.INFO,H2={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},q2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=H2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Oy{constructor(e){this.name=e,this._logLevel=W2,this._logHandler=q2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const K2=(t,e)=>e.some(n=>t instanceof n);let iE,oE;function G2(){return iE||(iE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q2(){return oE||(oE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kb=new WeakMap,bg=new WeakMap,Gb=new WeakMap,Dm=new WeakMap,My=new WeakMap;function Y2(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Qi(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Kb.set(n,t)}).catch(()=>{}),My.set(e,t),e}function X2(t){if(bg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});bg.set(t,e)}let Sg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Gb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function J2(t){Sg=t(Sg)}function Z2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Om(this),e,...n);return Gb.set(r,e.sort?e.sort():[e]),Qi(r)}:Q2().includes(t)?function(...e){return t.apply(Om(this),e),Qi(Kb.get(this))}:function(...e){return Qi(t.apply(Om(this),e))}}function eM(t){return typeof t=="function"?Z2(t):(t instanceof IDBTransaction&&X2(t),K2(t,G2())?new Proxy(t,Sg):t)}function Qi(t){if(t instanceof IDBRequest)return Y2(t);if(Dm.has(t))return Dm.get(t);const e=eM(t);return e!==t&&(Dm.set(t,e),My.set(e,t)),e}const Om=t=>My.get(t);function tM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),u=Qi(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Qi(l.result),h.oldVersion,h.newVersion,Qi(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const nM=["get","getKey","getAll","getAllKeys","count"],rM=["put","add","delete","clear"],Mm=new Map;function aE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mm.get(e))return Mm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nM.includes(n)))return;const a=async function(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[n](...u),i&&h.done]))[0]};return Mm.set(e,a),a}J2(t=>({...t,get:(e,n,r)=>aE(e,n)||t.get(e,n,r),has:(e,n)=>!!aE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iM(t){return t.getComponent()?.type==="VERSION"}const Ig="@firebase/app",lE="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new Oy("@firebase/app"),oM="@firebase/app-compat",aM="@firebase/analytics-compat",lM="@firebase/analytics",cM="@firebase/app-check-compat",uM="@firebase/app-check",dM="@firebase/auth",hM="@firebase/auth-compat",fM="@firebase/database",pM="@firebase/data-connect",mM="@firebase/database-compat",gM="@firebase/functions",yM="@firebase/functions-compat",vM="@firebase/installations",wM="@firebase/installations-compat",_M="@firebase/messaging",EM="@firebase/messaging-compat",xM="@firebase/performance",TM="@firebase/performance-compat",bM="@firebase/remote-config",SM="@firebase/remote-config-compat",IM="@firebase/storage",CM="@firebase/storage-compat",PM="@firebase/firestore",RM="@firebase/ai",AM="@firebase/firestore-compat",kM="firebase",NM="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="[DEFAULT]",DM={[Ig]:"fire-core",[oM]:"fire-core-compat",[lM]:"fire-analytics",[aM]:"fire-analytics-compat",[uM]:"fire-app-check",[cM]:"fire-app-check-compat",[dM]:"fire-auth",[hM]:"fire-auth-compat",[fM]:"fire-rtdb",[pM]:"fire-data-connect",[mM]:"fire-rtdb-compat",[gM]:"fire-fn",[yM]:"fire-fn-compat",[vM]:"fire-iid",[wM]:"fire-iid-compat",[_M]:"fire-fcm",[EM]:"fire-fcm-compat",[xM]:"fire-perf",[TM]:"fire-perf-compat",[bM]:"fire-rc",[SM]:"fire-rc-compat",[IM]:"fire-gcs",[CM]:"fire-gcs-compat",[PM]:"fire-fst",[AM]:"fire-fst-compat",[RM]:"fire-vertex","fire-js":"fire-js",[kM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Map,OM=new Map,Pg=new Map;function cE(t,e){try{t.container.addComponent(e)}catch(n){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yo(t){const e=t.name;if(Pg.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;Pg.set(e,t);for(const n of Dh.values())cE(n,t);for(const n of OM.values())cE(n,t);return!0}function wf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yi=new vu("app","Firebase",MM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=NM;function Qb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Cg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Yi.create("bad-app-name",{appName:String(i)});if(n||(n=Wb()),!n)throw Yi.create("no-options");const a=Dh.get(i);if(a){if(Qo(n,a.options)&&Qo(r,a.config))return a;throw Yi.create("duplicate-app",{appName:i})}const l=new z2(i);for(const h of Pg.values())l.addComponent(h);const u=new LM(n,r,l);return Dh.set(i,u),u}function Ly(t=Cg){const e=Dh.get(t);if(!e&&t===Cg&&Wb())return Qb();if(!e)throw Yi.create("no-app",{appName:t});return e}function ws(t,e,n){let r=DM[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(l.join(" "));return}Yo(new to(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM="firebase-heartbeat-database",jM=1,nu="firebase-heartbeat-store";let Lm=null;function Yb(){return Lm||(Lm=tM(VM,jM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yi.create("idb-open",{originalErrorMessage:t.message})})),Lm}async function FM(t){try{const n=(await Yb()).transaction(nu),r=await n.objectStore(nu).get(Xb(t));return await n.done,r}catch(e){if(e instanceof Ns)ai.warn(e.message);else{const n=Yi.create("idb-get",{originalErrorMessage:e?.message});ai.warn(n.message)}}}async function uE(t,e){try{const r=(await Yb()).transaction(nu,"readwrite");await r.objectStore(nu).put(e,Xb(t)),await r.done}catch(n){if(n instanceof Ns)ai.warn(n.message);else{const r=Yi.create("idb-set",{originalErrorMessage:n?.message});ai.warn(r.message)}}}function Xb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=1024,BM=30;class zM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>BM){const i=HM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ai.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dE(),{heartbeatsToSend:n,unsentEntries:r}=$M(this._heartbeatsCache.heartbeats),i=Nh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ai.warn(e),""}}}function dE(){return new Date().toISOString().substring(0,10)}function $M(t,e=UM){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),hE(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A2()?k2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function hE(t){return Nh(JSON.stringify({version:2,heartbeats:t})).length}function HM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t){Yo(new to("platform-logger",e=>new sM(e),"PRIVATE")),Yo(new to("heartbeat",e=>new zM(e),"PRIVATE")),ws(Ig,lE,t),ws(Ig,lE,"esm2020"),ws("fire-js","")}qM("");function Jb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KM=Jb,Zb=new vu("auth","Firebase",Jb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new Oy("@firebase/auth");function GM(t,...e){Oh.logLevel<=He.WARN&&Oh.warn(`Auth (${oa}): ${t}`,...e)}function ch(t,...e){Oh.logLevel<=He.ERROR&&Oh.error(`Auth (${oa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t,...e){throw Vy(t,...e)}function _s(t,...e){return Vy(t,...e)}function eS(t,e,n){const r={...KM(),[e]:n};return new vu("auth","Firebase",r).create(e,{appName:t.name})}function ni(t){return eS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Zb.create(t,...e)}function De(t,e,...n){if(!t)throw Vy(e,...n)}function ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ch(e),new Error(e)}function li(t,e){t||ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(){return typeof self<"u"&&self.location?.href||""}function QM(){return fE()==="http:"||fE()==="https:"}function fE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QM()||I2()||"connection"in navigator)?navigator.onLine:!0}function XM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.shortDelay=e,this.longDelay=n,li(n>e,"Short delay should be less than long delay!"),this.isMobile=T2()||C2()}get(){return YM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t,e){li(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eL=new _u(3e4,6e4);function ho(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function hi(t,e,n,r,i={}){return nS(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=wu({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:h,...a};return S2()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&ia(t.emulatorConfig.host)&&(p.credentials="include"),tS.fetch()(await rS(t,t.config.apiHost,n,u),p)})}async function nS(t,e,n){t._canInitEmulator=!1;const r={...JM,...e};try{const i=new nL(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Qd(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,p]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qd(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Qd(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Qd(t,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw eS(t,m,p);Br(t,m)}}catch(i){if(i instanceof Ns)throw i;Br(t,"network-request-failed",{message:String(i)})}}async function Eu(t,e,n,r,i={}){const a=await hi(t,e,n,r,i);return"mfaPendingCredential"in a&&Br(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function rS(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?jy(t.config,i):`${t.config.apiScheme}://${i}`;return ZM.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function tL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_s(this.auth,"network-request-failed")),eL.get())})}}function Qd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_s(t,e,r);return i.customData._tokenResponse=n,i}function pE(t){return t!==void 0&&t.enterprise!==void 0}class rL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return tL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sL(t,e){return hi(t,"GET","/v2/recaptchaConfig",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iL(t,e){return hi(t,"POST","/v1/accounts:delete",e)}async function Mh(t,e){return hi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oL(t,e=!1){const n=Bt(t),r=await n.getIdToken(e),i=Fy(r);De(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:$c(Vm(i.auth_time)),issuedAtTime:$c(Vm(i.iat)),expirationTime:$c(Vm(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Vm(t){return Number(t)*1e3}function Fy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const i=Bb(n);return i?JSON.parse(i):(ch("Failed to decode base64 JWT payload"),null)}catch(i){return ch("Caught error parsing JWT payload as JSON",i?.toString()),null}}function mE(t){const e=Fy(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ns&&aL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function aL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$c(this.lastLoginAt),this.creationTime=$c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(t){const e=t.auth,n=await t.getIdToken(),r=await ml(t,Mh(e,{idToken:n}));De(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?sS(i.providerUserInfo):[],l=uL(t.providerData,a),u=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!l?.length,p=u?h:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Ag(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function cL(t){const e=Bt(t);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dL(t,e){const n=await nS(t,{},async()=>{const r=wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await rS(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return t.emulatorConfig&&ia(t.emulatorConfig.host)&&(h.credentials="include"),tS.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hL(t,e){return hi(t,"POST","/v2/accounts:revokeToken",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=mE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await dL(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new sl;return r&&(De(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(De(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(De(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sl,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new lL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ag(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ml(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oL(this,e)}reload(){return cL(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sr(this.auth.app))return Promise.reject(ni(this.auth));const e=await this.getIdToken();return await ml(this,iL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,h=n._redirectEventId??void 0,p=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:x,providerData:P,stsTokenManager:b}=n;De(v&&b,e,"internal-error");const S=sl.fromJSON(this.name,b);De(typeof v=="string",e,"internal-error"),Fi(r,e.name),Fi(i,e.name),De(typeof E=="boolean",e,"internal-error"),De(typeof x=="boolean",e,"internal-error"),Fi(a,e.name),Fi(l,e.name),Fi(u,e.name),Fi(h,e.name),Fi(p,e.name),Fi(m,e.name);const N=new Mr({uid:v,auth:e,email:i,emailVerified:E,displayName:r,isAnonymous:x,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:S,createdAt:p,lastLoginAt:m});return P&&Array.isArray(P)&&(N.providerData=P.map(D=>({...D}))),h&&(N._redirectEventId=h),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new sl;i.updateFromServerResponse(n);const a=new Mr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Lh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];De(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?sS(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,u=new sl;u.updateFromIdToken(r);const h=new Mr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Ag(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=new Map;function ti(t){li(t instanceof Function,"Expected a class definition");let e=gE.get(t);return e?(li(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iS.type="NONE";const yE=iS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(t,e,n){return`firebase:${t}:${e}:${n}`}class il{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=uh(this.userKey,i.apiKey,a),this.fullPersistenceKey=uh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mh(this.auth,{idToken:e}).catch(()=>{});return n?Mr._fromGetAccountInfoResponse(this.auth,n,e):null}return Mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new il(ti(yE),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||ti(yE);const l=uh(r,e.config.apiKey,e.name);let u=null;for(const p of n)try{const m=await p._get(l);if(m){let v;if(typeof m=="string"){const E=await Mh(e,{idToken:m}).catch(()=>{});if(!E)break;v=await Mr._fromGetAccountInfoResponse(e,E,m)}else v=Mr._fromJSON(e,m);p!==a&&(u=v),a=p;break}}catch{}const h=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new il(a,e,r):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new il(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dS(e))return"Blackberry";if(hS(e))return"Webos";if(aS(e))return"Safari";if((e.includes("chrome/")||lS(e))&&!e.includes("edge/"))return"Chrome";if(uS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function oS(t=xn()){return/firefox\//i.test(t)}function aS(t=xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lS(t=xn()){return/crios\//i.test(t)}function cS(t=xn()){return/iemobile/i.test(t)}function uS(t=xn()){return/android/i.test(t)}function dS(t=xn()){return/blackberry/i.test(t)}function hS(t=xn()){return/webos/i.test(t)}function Uy(t=xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fL(t=xn()){return Uy(t)&&!!window.navigator?.standalone}function pL(){return P2()&&document.documentMode===10}function fS(t=xn()){return Uy(t)||uS(t)||hS(t)||dS(t)||/windows phone/i.test(t)||cS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(t,e=[]){let n;switch(t){case"Browser":n=vE(xn());break;case"Worker":n=`${vE(xn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,u)=>{try{const h=e(a);l(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(t,e={}){return hi(t,"GET","/v2/passwordPolicy",ho(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=6;class vL{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??yL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wE(this),this.idTokenSubscription=new wE(this),this.beforeStateQueue=new mL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ti(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await il.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mh(this,{idToken:e}),r=await Mr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(sr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sr(this.app))return Promise.reject(ni(this));const n=e?Bt(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sr(this.app)?Promise.reject(ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sr(this.app)?Promise.reject(ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gL(this),n=new vL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await hL(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ti(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await il.create(this,[ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&GM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function aa(t){return Bt(t)}class wE{constructor(e){this.auth=e,this.observer=null,this.addObserver=L2(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _f={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _L(t){_f=t}function mS(t){return _f.loadJS(t)}function EL(){return _f.recaptchaEnterpriseScript}function xL(){return _f.gapiScript}function TL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class bL{constructor(){this.enterprise=new SL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class SL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const IL="recaptcha-enterprise",gS="NO_RECAPTCHA";class CL{constructor(e){this.type=IL,this.auth=aa(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{sL(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new rL(h);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(h=>{u(h)})})}function i(a,l,u){const h=window.grecaptcha;pE(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(gS)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bL().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!n&&pE(window.grecaptcha))i(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=EL();h.length!==0&&(h+=u),mS(h).then(()=>{i(u,a,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function _E(t,e,n,r=!1,i=!1){const a=new CL(t);let l;if(i)l=gS;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function kg(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await _E(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await _E(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t,e){const n=wf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Qo(a,e??{}))return i;Br(i,"already-initialized")}return n.initialize({options:e})}function RL(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ti);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function AL(t,e,n){const r=aa(t);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=yS(e),{host:l,port:u}=kL(e),h=u===null?"":`:${u}`,p={url:`${a}//${l}${h}/`},m=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(Qo(p,r.config.emulator)&&Qo(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,ia(l)?(Ny(`${a}//${l}${h}`),Dy("Auth",!0)):NL()}function yS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kL(t){const e=yS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:EE(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:EE(l)}}}function EE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function NL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,n){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}async function DL(t,e){return hi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OL(t,e){return Eu(t,"POST","/v1/accounts:signInWithPassword",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(t,e){return Eu(t,"POST","/v1/accounts:signInWithEmailLink",ho(t,e))}async function LL(t,e){return Eu(t,"POST","/v1/accounts:signInWithEmailLink",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends By{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ru(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ru(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kg(e,n,"signInWithPassword",OL);case"emailLink":return ML(e,{email:this._email,oobCode:this._password});default:Br(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kg(e,r,"signUpPassword",DL);case"emailLink":return LL(e,{idToken:n,email:this._email,oobCode:this._password});default:Br(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(t,e){return Eu(t,"POST","/v1/accounts:signInWithIdp",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL="http://localhost";class Xo extends By{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Br("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const l=new Xo(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return ol(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ol(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ol(e,n)}buildRequest(){const e={requestUri:VL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FL(t){const e=Oc(Mc(t)).link,n=e?Oc(Mc(e)).deep_link_id:null,r=Oc(Mc(t)).deep_link_id;return(r?Oc(Mc(r)).link:null)||r||n||e||t}class zy{constructor(e){const n=Oc(Mc(e)),r=n.apiKey??null,i=n.oobCode??null,a=jL(n.mode??null);De(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=FL(e);try{return new zy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.providerId=Dl.PROVIDER_ID}static credential(e,n){return ru._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=zy.parseLink(n);return De(r,"argument-error"),ru._fromEmailAndCode(e,r.code,r.tenantId)}}Dl.PROVIDER_ID="password";Dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends vS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends xu{constructor(){super("facebook.com")}static credential(e){return Xo._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xo._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $i.credential(n,r)}catch{return null}}}$i.GOOGLE_SIGN_IN_METHOD="google.com";$i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends xu{constructor(){super("github.com")}static credential(e){return Xo._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends xu{constructor(){super("twitter.com")}static credential(e,n){return Xo._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Hi.credential(n,r)}catch{return null}}}Hi.TWITTER_SIGN_IN_METHOD="twitter.com";Hi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UL(t,e){return Eu(t,"POST","/v1/accounts:signUp",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Mr._fromIdTokenResponse(e,r,i),l=xE(r);return new Jo({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=xE(r);return new Jo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function xE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends Ns{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Vh(e,n,r,i)}}function wS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Vh._fromErrorAndOperation(t,a,e,r):a})}async function BL(t,e,n=!1){const r=await ml(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Jo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zL(t,e,n=!1){const{auth:r}=t;if(sr(r.app))return Promise.reject(ni(r));const i="reauthenticate";try{const a=await ml(t,wS(r,i,e,t),n);De(a.idToken,r,"internal-error");const l=Fy(a.idToken);De(l,r,"internal-error");const{sub:u}=l;return De(t.uid===u,r,"user-mismatch"),Jo._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Br(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _S(t,e,n=!1){if(sr(t.app))return Promise.reject(ni(t));const r="signIn",i=await wS(t,r,e),a=await Jo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function $L(t,e){return _S(aa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ES(t){const e=aa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WL(t,e,n){if(sr(t.app))return Promise.reject(ni(t));const r=aa(t),l=await kg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UL).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&ES(t),h}),u=await Jo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function HL(t,e,n){return sr(t.app)?Promise.reject(ni(t)):$L(Bt(t),Dl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ES(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qL(t,e){return hi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xS(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Bt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await ml(r,qL(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function KL(t,e,n,r){return Bt(t).onIdTokenChanged(e,n,r)}function GL(t,e,n){return Bt(t).beforeAuthStateChanged(e,n)}function Ef(t,e,n,r){return Bt(t).onAuthStateChanged(e,n,r)}function QL(t){return Bt(t).signOut()}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=1e3,XL=10;class bS extends TS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);pL()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,XL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},YL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bS.type="LOCAL";const JL=bS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS extends TS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}SS.type="SESSION";const IS=SS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new xf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async p=>p(n.origin,a)),h=await ZL(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const p=$y("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(E.data.response);break;default:clearTimeout(m),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(){return window}function tV(t){Es().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(){return typeof Es().WorkerGlobalScope<"u"&&typeof Es().importScripts=="function"}async function nV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rV(){return navigator?.serviceWorker?.controller||null}function sV(){return CS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="firebaseLocalStorageDb",iV=1,Fh="firebaseLocalStorage",RS="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tf(t,e){return t.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function oV(){const t=indexedDB.deleteDatabase(PS);return new Tu(t).toPromise()}function Ng(){const t=indexedDB.open(PS,iV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fh,{keyPath:RS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Fh)?e(r):(r.close(),await oV(),e(await Ng()))})})}async function TE(t,e,n){const r=Tf(t,!0).put({[RS]:e,value:n});return new Tu(r).toPromise()}async function aV(t,e){const n=Tf(t,!1).get(e),r=await new Tu(n).toPromise();return r===void 0?null:r.value}function bE(t,e){const n=Tf(t,!0).delete(e);return new Tu(n).toPromise()}const lV=800,cV=3;class AS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ng(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xf._getInstance(sV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nV(),!this.activeServiceWorker)return;this.sender=new eV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ng();return await TE(e,jh,"1"),await bE(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>TE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Tf(i,!1).getAll();return new Tu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AS.type="LOCAL";const uV=AS;new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(t,e){return e?ti(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy extends By{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ol(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ol(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hV(t){return _S(t.auth,new Wy(t),t.bypassAuthState)}function fV(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),zL(n,new Wy(t),t.bypassAuthState)}async function pV(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),BL(n,new Wy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hV;case"linkViaPopup":case"linkViaRedirect":return pV;case"reauthViaPopup":case"reauthViaRedirect":return fV;default:Br(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=new _u(2e3,1e4);class tl extends kS{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,tl.currentPopupAction&&tl.currentPopupAction.cancel(),tl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=$y();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_s(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_s(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_s(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mV.get())};e()}}tl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV="pendingRedirect",dh=new Map;class yV extends kS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const r=await vV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vV(t,e){const n=EV(e),r=_V(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function wV(t,e){dh.set(t._key(),e)}function _V(t){return ti(t._redirectPersistence)}function EV(t){return uh(gV,t.config.apiKey,t.name)}async function xV(t,e,n=!1){if(sr(t.app))return Promise.reject(ni(t));const r=aa(t),i=dV(r,e),l=await new yV(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=600*1e3;class bV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!NS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(_s(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TV&&this.cachedEventUids.clear(),this.cachedEventUids.has(SE(e))}saveEventToCache(e){this.cachedEventUids.add(SE(e)),this.lastProcessedEventTime=Date.now()}}function SE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function NS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function SV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(t,e={}){return hi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PV=/^https?/;async function RV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await IV(t);for(const n of e)try{if(AV(n))return}catch{}Br(t,"unauthorized-domain")}function AV(t){const e=Rg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!PV.test(n))return!1;if(CV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=new _u(3e4,6e4);function IE(){const t=Es().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NV(t){return new Promise((e,n)=>{function r(){IE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IE(),n(_s(t,"network-request-failed"))},timeout:kV.get()})}if(Es().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Es().gapi?.load)r();else{const i=TL("iframefcb");return Es()[i]=()=>{gapi.load?r():n(_s(t,"network-request-failed"))},mS(`${xL()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw hh=null,e})}let hh=null;function DV(t){return hh=hh||NV(t),hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=new _u(5e3,15e3),MV="__/auth/iframe",LV="emulator/auth/iframe",VV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FV(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jy(e,LV):`https://${t.config.authDomain}/${MV}`,r={apiKey:e.apiKey,appName:t.name,v:oa},i=jV.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${wu(r).slice(1)}`}async function UV(t){const e=await DV(t),n=Es().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:FV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VV,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=_s(t,"network-request-failed"),u=Es().setTimeout(()=>{a(l)},OV.get());function h(){Es().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zV=500,$V=600,WV="_blank",HV="http://localhost";class CE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qV(t,e,n,r=zV,i=$V){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...BV,width:r.toString(),height:i.toString(),top:a,left:l},p=xn().toLowerCase();n&&(u=lS(p)?WV:n),oS(p)&&(e=e||HV,h.scrollbars="yes");const m=Object.entries(h).reduce((E,[x,P])=>`${E}${x}=${P},`,"");if(fL(p)&&u!=="_self")return KV(e||"",u),new CE(null);const v=window.open(e||"",u,m);De(v,t,"popup-blocked");try{v.focus()}catch{}return new CE(v)}function KV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV="__/auth/handler",QV="emulator/auth/handler",YV=encodeURIComponent("fac");async function PE(t,e,n,r,i,a){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:oa,eventId:i};if(e instanceof vS){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",M2(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))l[m]=v}if(e instanceof xu){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),p=h?`#${YV}=${encodeURIComponent(h)}`:"";return`${XV(t)}?${wu(u).slice(1)}${p}`}function XV({config:t}){return t.emulator?jy(t,QV):`https://${t.authDomain}/${GV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="webStorageSupport";class JV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IS,this._completeRedirectFn=xV,this._overrideRedirectResult=wV}async _openPopup(e,n,r,i){li(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await PE(e,n,r,Rg(),i);return qV(e,a,$y())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await PE(e,n,r,Rg(),i);return tV(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(li(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await UV(e),r=new bV(e);return n.register("authEvent",i=>(De(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jm,{type:jm},i=>{const a=i?.[0]?.[jm];a!==void 0&&n(!!a),Br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fS()||aS()||Uy()}}const ZV=JV;var RE="@firebase/auth",AE="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n4(t){Yo(new to("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;De(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pS(t)},p=new wL(r,i,a,h);return RL(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yo(new to("auth-internal",e=>{const n=aa(e.getProvider("auth").getImmediate());return(r=>new e4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(RE,AE,t4(t)),ws(RE,AE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=300,s4=Hb("authIdTokenMaxAge")||r4;let kE=null;const i4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>s4)return;const i=n?.token;kE!==i&&(kE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function DS(t=Ly()){const e=wf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=PL(t,{popupRedirectResolver:ZV,persistence:[uV,JL,IS]}),r=Hb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=i4(a.toString());GL(n,l,()=>l(n.currentUser)),KL(n,u=>l(u))}}const i=zb("auth");return i&&AL(n,`http://${i}`),n}function o4(){return document.getElementsByTagName("head")?.[0]??document}_L({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=_s("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",o4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n4("Browser");var a4="firebase",l4="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(a4,l4,"app");var NE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xi,OS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function M(){}M.prototype=R.prototype,k.F=R.prototype,k.prototype=new M,k.prototype.constructor=k,k.D=function(U,j,F){for(var O=Array(arguments.length-2),se=2;se<arguments.length;se++)O[se-2]=arguments[se];return R.prototype[j].apply(U,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,R,M){M||(M=0);const U=Array(16);if(typeof R=="string")for(var j=0;j<16;++j)U[j]=R.charCodeAt(M++)|R.charCodeAt(M++)<<8|R.charCodeAt(M++)<<16|R.charCodeAt(M++)<<24;else for(j=0;j<16;++j)U[j]=R[M++]|R[M++]<<8|R[M++]<<16|R[M++]<<24;R=k.g[0],M=k.g[1],j=k.g[2];let F=k.g[3],O;O=R+(F^M&(j^F))+U[0]+3614090360&4294967295,R=M+(O<<7&4294967295|O>>>25),O=F+(j^R&(M^j))+U[1]+3905402710&4294967295,F=R+(O<<12&4294967295|O>>>20),O=j+(M^F&(R^M))+U[2]+606105819&4294967295,j=F+(O<<17&4294967295|O>>>15),O=M+(R^j&(F^R))+U[3]+3250441966&4294967295,M=j+(O<<22&4294967295|O>>>10),O=R+(F^M&(j^F))+U[4]+4118548399&4294967295,R=M+(O<<7&4294967295|O>>>25),O=F+(j^R&(M^j))+U[5]+1200080426&4294967295,F=R+(O<<12&4294967295|O>>>20),O=j+(M^F&(R^M))+U[6]+2821735955&4294967295,j=F+(O<<17&4294967295|O>>>15),O=M+(R^j&(F^R))+U[7]+4249261313&4294967295,M=j+(O<<22&4294967295|O>>>10),O=R+(F^M&(j^F))+U[8]+1770035416&4294967295,R=M+(O<<7&4294967295|O>>>25),O=F+(j^R&(M^j))+U[9]+2336552879&4294967295,F=R+(O<<12&4294967295|O>>>20),O=j+(M^F&(R^M))+U[10]+4294925233&4294967295,j=F+(O<<17&4294967295|O>>>15),O=M+(R^j&(F^R))+U[11]+2304563134&4294967295,M=j+(O<<22&4294967295|O>>>10),O=R+(F^M&(j^F))+U[12]+1804603682&4294967295,R=M+(O<<7&4294967295|O>>>25),O=F+(j^R&(M^j))+U[13]+4254626195&4294967295,F=R+(O<<12&4294967295|O>>>20),O=j+(M^F&(R^M))+U[14]+2792965006&4294967295,j=F+(O<<17&4294967295|O>>>15),O=M+(R^j&(F^R))+U[15]+1236535329&4294967295,M=j+(O<<22&4294967295|O>>>10),O=R+(j^F&(M^j))+U[1]+4129170786&4294967295,R=M+(O<<5&4294967295|O>>>27),O=F+(M^j&(R^M))+U[6]+3225465664&4294967295,F=R+(O<<9&4294967295|O>>>23),O=j+(R^M&(F^R))+U[11]+643717713&4294967295,j=F+(O<<14&4294967295|O>>>18),O=M+(F^R&(j^F))+U[0]+3921069994&4294967295,M=j+(O<<20&4294967295|O>>>12),O=R+(j^F&(M^j))+U[5]+3593408605&4294967295,R=M+(O<<5&4294967295|O>>>27),O=F+(M^j&(R^M))+U[10]+38016083&4294967295,F=R+(O<<9&4294967295|O>>>23),O=j+(R^M&(F^R))+U[15]+3634488961&4294967295,j=F+(O<<14&4294967295|O>>>18),O=M+(F^R&(j^F))+U[4]+3889429448&4294967295,M=j+(O<<20&4294967295|O>>>12),O=R+(j^F&(M^j))+U[9]+568446438&4294967295,R=M+(O<<5&4294967295|O>>>27),O=F+(M^j&(R^M))+U[14]+3275163606&4294967295,F=R+(O<<9&4294967295|O>>>23),O=j+(R^M&(F^R))+U[3]+4107603335&4294967295,j=F+(O<<14&4294967295|O>>>18),O=M+(F^R&(j^F))+U[8]+1163531501&4294967295,M=j+(O<<20&4294967295|O>>>12),O=R+(j^F&(M^j))+U[13]+2850285829&4294967295,R=M+(O<<5&4294967295|O>>>27),O=F+(M^j&(R^M))+U[2]+4243563512&4294967295,F=R+(O<<9&4294967295|O>>>23),O=j+(R^M&(F^R))+U[7]+1735328473&4294967295,j=F+(O<<14&4294967295|O>>>18),O=M+(F^R&(j^F))+U[12]+2368359562&4294967295,M=j+(O<<20&4294967295|O>>>12),O=R+(M^j^F)+U[5]+4294588738&4294967295,R=M+(O<<4&4294967295|O>>>28),O=F+(R^M^j)+U[8]+2272392833&4294967295,F=R+(O<<11&4294967295|O>>>21),O=j+(F^R^M)+U[11]+1839030562&4294967295,j=F+(O<<16&4294967295|O>>>16),O=M+(j^F^R)+U[14]+4259657740&4294967295,M=j+(O<<23&4294967295|O>>>9),O=R+(M^j^F)+U[1]+2763975236&4294967295,R=M+(O<<4&4294967295|O>>>28),O=F+(R^M^j)+U[4]+1272893353&4294967295,F=R+(O<<11&4294967295|O>>>21),O=j+(F^R^M)+U[7]+4139469664&4294967295,j=F+(O<<16&4294967295|O>>>16),O=M+(j^F^R)+U[10]+3200236656&4294967295,M=j+(O<<23&4294967295|O>>>9),O=R+(M^j^F)+U[13]+681279174&4294967295,R=M+(O<<4&4294967295|O>>>28),O=F+(R^M^j)+U[0]+3936430074&4294967295,F=R+(O<<11&4294967295|O>>>21),O=j+(F^R^M)+U[3]+3572445317&4294967295,j=F+(O<<16&4294967295|O>>>16),O=M+(j^F^R)+U[6]+76029189&4294967295,M=j+(O<<23&4294967295|O>>>9),O=R+(M^j^F)+U[9]+3654602809&4294967295,R=M+(O<<4&4294967295|O>>>28),O=F+(R^M^j)+U[12]+3873151461&4294967295,F=R+(O<<11&4294967295|O>>>21),O=j+(F^R^M)+U[15]+530742520&4294967295,j=F+(O<<16&4294967295|O>>>16),O=M+(j^F^R)+U[2]+3299628645&4294967295,M=j+(O<<23&4294967295|O>>>9),O=R+(j^(M|~F))+U[0]+4096336452&4294967295,R=M+(O<<6&4294967295|O>>>26),O=F+(M^(R|~j))+U[7]+1126891415&4294967295,F=R+(O<<10&4294967295|O>>>22),O=j+(R^(F|~M))+U[14]+2878612391&4294967295,j=F+(O<<15&4294967295|O>>>17),O=M+(F^(j|~R))+U[5]+4237533241&4294967295,M=j+(O<<21&4294967295|O>>>11),O=R+(j^(M|~F))+U[12]+1700485571&4294967295,R=M+(O<<6&4294967295|O>>>26),O=F+(M^(R|~j))+U[3]+2399980690&4294967295,F=R+(O<<10&4294967295|O>>>22),O=j+(R^(F|~M))+U[10]+4293915773&4294967295,j=F+(O<<15&4294967295|O>>>17),O=M+(F^(j|~R))+U[1]+2240044497&4294967295,M=j+(O<<21&4294967295|O>>>11),O=R+(j^(M|~F))+U[8]+1873313359&4294967295,R=M+(O<<6&4294967295|O>>>26),O=F+(M^(R|~j))+U[15]+4264355552&4294967295,F=R+(O<<10&4294967295|O>>>22),O=j+(R^(F|~M))+U[6]+2734768916&4294967295,j=F+(O<<15&4294967295|O>>>17),O=M+(F^(j|~R))+U[13]+1309151649&4294967295,M=j+(O<<21&4294967295|O>>>11),O=R+(j^(M|~F))+U[4]+4149444226&4294967295,R=M+(O<<6&4294967295|O>>>26),O=F+(M^(R|~j))+U[11]+3174756917&4294967295,F=R+(O<<10&4294967295|O>>>22),O=j+(R^(F|~M))+U[2]+718787259&4294967295,j=F+(O<<15&4294967295|O>>>17),O=M+(F^(j|~R))+U[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(j+(O<<21&4294967295|O>>>11))&4294967295,k.g[2]=k.g[2]+j&4294967295,k.g[3]=k.g[3]+F&4294967295}r.prototype.v=function(k,R){R===void 0&&(R=k.length);const M=R-this.blockSize,U=this.C;let j=this.h,F=0;for(;F<R;){if(j==0)for(;F<=M;)i(this,k,F),F+=this.blockSize;if(typeof k=="string"){for(;F<R;)if(U[j++]=k.charCodeAt(F++),j==this.blockSize){i(this,U),j=0;break}}else for(;F<R;)if(U[j++]=k[F++],j==this.blockSize){i(this,U),j=0;break}}this.h=j,this.o+=R},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;R=this.o*8;for(var M=k.length-8;M<k.length;++M)k[M]=R&255,R/=256;for(this.v(k),k=Array(16),R=0,M=0;M<4;++M)for(let U=0;U<32;U+=8)k[R++]=this.g[M]>>>U&255;return k};function a(k,R){var M=u;return Object.prototype.hasOwnProperty.call(M,k)?M[k]:M[k]=R(k)}function l(k,R){this.h=R;const M=[];let U=!0;for(let j=k.length-1;j>=0;j--){const F=k[j]|0;U&&F==R||(M[j]=F,U=!1)}this.g=M}var u={};function h(k){return-128<=k&&k<128?a(k,function(R){return new l([R|0],R<0?-1:0)}):new l([k|0],k<0?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return v;if(k<0)return S(p(-k));const R=[];let M=1;for(let U=0;k>=M;U++)R[U]=k/M|0,M*=4294967296;return new l(R,0)}function m(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return S(m(k.substring(1),R));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=p(Math.pow(R,8));let U=v;for(let F=0;F<k.length;F+=8){var j=Math.min(8,k.length-F);const O=parseInt(k.substring(F,F+j),R);j<8?(j=p(Math.pow(R,j)),U=U.j(j).add(p(O))):(U=U.j(M),U=U.add(p(O)))}return U}var v=h(0),E=h(1),x=h(16777216);t=l.prototype,t.m=function(){if(b(this))return-S(this).m();let k=0,R=1;for(let M=0;M<this.g.length;M++){const U=this.i(M);k+=(U>=0?U:4294967296+U)*R,R*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(P(this))return"0";if(b(this))return"-"+S(this).toString(k);const R=p(Math.pow(k,6));var M=this;let U="";for(;;){const j=H(M,R).g;M=N(M,j.j(R));let F=((M.g.length>0?M.g[0]:M.h)>>>0).toString(k);if(M=j,P(M))return F+U;for(;F.length<6;)F="0"+F;U=F+U}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function P(k){if(k.h!=0)return!1;for(let R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function b(k){return k.h==-1}t.l=function(k){return k=N(this,k),b(k)?-1:P(k)?0:1};function S(k){const R=k.g.length,M=[];for(let U=0;U<R;U++)M[U]=~k.g[U];return new l(M,~k.h).add(E)}t.abs=function(){return b(this)?S(this):this},t.add=function(k){const R=Math.max(this.g.length,k.g.length),M=[];let U=0;for(let j=0;j<=R;j++){let F=U+(this.i(j)&65535)+(k.i(j)&65535),O=(F>>>16)+(this.i(j)>>>16)+(k.i(j)>>>16);U=O>>>16,F&=65535,O&=65535,M[j]=O<<16|F}return new l(M,M[M.length-1]&-2147483648?-1:0)};function N(k,R){return k.add(S(R))}t.j=function(k){if(P(this)||P(k))return v;if(b(this))return b(k)?S(this).j(S(k)):S(S(this).j(k));if(b(k))return S(this.j(S(k)));if(this.l(x)<0&&k.l(x)<0)return p(this.m()*k.m());const R=this.g.length+k.g.length,M=[];for(var U=0;U<2*R;U++)M[U]=0;for(U=0;U<this.g.length;U++)for(let j=0;j<k.g.length;j++){const F=this.i(U)>>>16,O=this.i(U)&65535,se=k.i(j)>>>16,_e=k.i(j)&65535;M[2*U+2*j]+=O*_e,D(M,2*U+2*j),M[2*U+2*j+1]+=F*_e,D(M,2*U+2*j+1),M[2*U+2*j+1]+=O*se,D(M,2*U+2*j+1),M[2*U+2*j+2]+=F*se,D(M,2*U+2*j+2)}for(k=0;k<R;k++)M[k]=M[2*k+1]<<16|M[2*k];for(k=R;k<2*R;k++)M[k]=0;return new l(M,0)};function D(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function L(k,R){this.g=k,this.h=R}function H(k,R){if(P(R))throw Error("division by zero");if(P(k))return new L(v,v);if(b(k))return R=H(S(k),R),new L(S(R.g),S(R.h));if(b(R))return R=H(k,S(R)),new L(S(R.g),R.h);if(k.g.length>30){if(b(k)||b(R))throw Error("slowDivide_ only works with positive integers.");for(var M=E,U=R;U.l(k)<=0;)M=Q(M),U=Q(U);var j=ee(M,1),F=ee(U,1);for(U=ee(U,2),M=ee(M,2);!P(U);){var O=F.add(U);O.l(k)<=0&&(j=j.add(M),F=O),U=ee(U,1),M=ee(M,1)}return R=N(k,j.j(R)),new L(j,R)}for(j=v;k.l(R)>=0;){for(M=Math.max(1,Math.floor(k.m()/R.m())),U=Math.ceil(Math.log(M)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),F=p(M),O=F.j(R);b(O)||O.l(k)>0;)M-=U,F=p(M),O=F.j(R);P(F)&&(F=E),j=j.add(F),k=N(k,O)}return new L(j,k)}t.B=function(k){return H(this,k).h},t.and=function(k){const R=Math.max(this.g.length,k.g.length),M=[];for(let U=0;U<R;U++)M[U]=this.i(U)&k.i(U);return new l(M,this.h&k.h)},t.or=function(k){const R=Math.max(this.g.length,k.g.length),M=[];for(let U=0;U<R;U++)M[U]=this.i(U)|k.i(U);return new l(M,this.h|k.h)},t.xor=function(k){const R=Math.max(this.g.length,k.g.length),M=[];for(let U=0;U<R;U++)M[U]=this.i(U)^k.i(U);return new l(M,this.h^k.h)};function Q(k){const R=k.g.length+1,M=[];for(let U=0;U<R;U++)M[U]=k.i(U)<<1|k.i(U-1)>>>31;return new l(M,k.h)}function ee(k,R){const M=R>>5;R%=32;const U=k.g.length-M,j=[];for(let F=0;F<U;F++)j[F]=R>0?k.i(F+M)>>>R|k.i(F+M+1)<<32-R:k.i(F+M);return new l(j,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,OS=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,Xi=l}).apply(typeof NE<"u"?NE:typeof self<"u"?self:typeof window<"u"?window:{});var Yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MS,Lc,LS,fh,Dg,VS,jS,FS;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yd=="object"&&Yd];for(var _=0;_<d.length;++_){var I=d[_];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(d,_){if(_)e:{var I=r;d=d.split(".");for(var A=0;A<d.length-1;A++){var K=d[A];if(!(K in I))break e;I=I[K]}d=d[d.length-1],A=I[d],_=_(A),_!=A&&_!=null&&e(I,d,{configurable:!0,writable:!0,value:_})}}i("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(d){return d||function(_){var I=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&I.push([A,_[A]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function h(d,_,I){return d.call.apply(d.bind,arguments)}function p(d,_,I){return p=h,p.apply(null,arguments)}function m(d,_){var I=Array.prototype.slice.call(arguments,1);return function(){var A=I.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function v(d,_){function I(){}I.prototype=_.prototype,d.Z=_.prototype,d.prototype=new I,d.prototype.constructor=d,d.Ob=function(A,K,X){for(var fe=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)fe[Fe-2]=arguments[Fe];return _.prototype[K].apply(A,fe)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function x(d){const _=d.length;if(_>0){const I=Array(_);for(let A=0;A<_;A++)I[A]=d[A];return I}return[]}function P(d,_){for(let A=1;A<arguments.length;A++){const K=arguments[A];var I=typeof K;if(I=I!="object"?I:K?Array.isArray(K)?"array":I:"null",I=="array"||I=="object"&&typeof K.length=="number"){I=d.length||0;const X=K.length||0;d.length=I+X;for(let fe=0;fe<X;fe++)d[I+fe]=K[fe]}else d.push(K)}}class b{constructor(_,I){this.i=_,this.j=I,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function S(d){l.setTimeout(()=>{throw d},0)}function N(){var d=k;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class D{constructor(){this.h=this.g=null}add(_,I){const A=L.get();A.set(_,I),this.h?this.h.next=A:this.g=A,this.h=A}}var L=new b(()=>new H,d=>d.reset());class H{constructor(){this.next=this.g=this.h=null}set(_,I){this.h=_,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,ee=!1,k=new D,R=()=>{const d=Promise.resolve(void 0);Q=()=>{d.then(M)}};function M(){for(var d;d=N();){try{d.h.call(d.g)}catch(I){S(I)}var _=L;_.j(d),_.h<100&&(_.h++,d.next=_.g,_.g=d)}ee=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const I=()=>{};l.addEventListener("test",I,_),l.removeEventListener("test",I,_)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function se(d,_){j.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,_)}v(se,j),se.prototype.init=function(d,_){const I=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget,_||(I=="mouseover"?_=d.fromElement:I=="mouseout"&&(_=d.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),he=0;function te(d,_,I,A,K){this.listener=d,this.proxy=null,this.src=_,this.type=I,this.capture=!!A,this.ha=K,this.key=++he,this.da=this.fa=!1}function W(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Z(d,_,I){for(const A in d)_.call(I,d[A],A,d)}function ie(d,_){for(const I in d)_.call(void 0,d[I],I,d)}function z(d){const _={};for(const I in d)_[I]=d[I];return _}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(d,_){let I,A;for(let K=1;K<arguments.length;K++){A=arguments[K];for(I in A)d[I]=A[I];for(let X=0;X<J.length;X++)I=J[X],Object.prototype.hasOwnProperty.call(A,I)&&(d[I]=A[I])}}function me(d){this.src=d,this.g={},this.h=0}me.prototype.add=function(d,_,I,A,K){const X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);const fe=Ae(d,_,A,K);return fe>-1?(_=d[fe],I||(_.fa=!1)):(_=new te(_,this.src,X,!!A,K),_.fa=I,d.push(_)),_};function Se(d,_){const I=_.type;if(I in d.g){var A=d.g[I],K=Array.prototype.indexOf.call(A,_,void 0),X;(X=K>=0)&&Array.prototype.splice.call(A,K,1),X&&(W(_),d.g[I].length==0&&(delete d.g[I],d.h--))}}function Ae(d,_,I,A){for(let K=0;K<d.length;++K){const X=d[K];if(!X.da&&X.listener==_&&X.capture==!!I&&X.ha==A)return K}return-1}var ae="closure_lm_"+(Math.random()*1e6|0),Te={};function Ne(d,_,I,A,K){if(Array.isArray(_)){for(let X=0;X<_.length;X++)Ne(d,_[X],I,A,K);return null}return I=Os(I),d&&d[_e]?d.J(_,I,u(A)?!!A.capture:!1,K):Ve(d,_,I,!1,A,K)}function Ve(d,_,I,A,K,X){if(!_)throw Error("Invalid event type");const fe=u(K)?!!K.capture:!!K;let Fe=Bn(d);if(Fe||(d[ae]=Fe=new me(d)),I=Fe.add(_,I,A,fe,X),I.proxy)return I;if(A=$e(),I.proxy=A,A.src=d,A.listener=I,d.addEventListener)F||(K=fe),K===void 0&&(K=!1),d.addEventListener(_.toString(),A,K);else if(d.attachEvent)d.attachEvent(cn(_.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return I}function $e(){function d(I){return _.call(d.src,d.listener,I)}const _=Hr;return d}function nt(d,_,I,A,K){if(Array.isArray(_))for(var X=0;X<_.length;X++)nt(d,_[X],I,A,K);else A=u(A)?!!A.capture:!!A,I=Os(I),d&&d[_e]?(d=d.i,X=String(_).toString(),X in d.g&&(_=d.g[X],I=Ae(_,I,A,K),I>-1&&(W(_[I]),Array.prototype.splice.call(_,I,1),_.length==0&&(delete d.g[X],d.h--)))):d&&(d=Bn(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Ae(_,I,A,K)),(I=d>-1?_[d]:null)&&vt(I))}function vt(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[_e])Se(_.i,d);else{var I=d.type,A=d.proxy;_.removeEventListener?_.removeEventListener(I,A,d.capture):_.detachEvent?_.detachEvent(cn(I),A):_.addListener&&_.removeListener&&_.removeListener(A),(I=Bn(_))?(Se(I,d),I.h==0&&(I.src=null,_[ae]=null)):W(d)}}}function cn(d){return d in Te?Te[d]:Te[d]="on"+d}function Hr(d,_){if(d.da)d=!0;else{_=new se(_,this);const I=d.listener,A=d.ha||d.src;d.fa&&vt(d),d=I.call(A,_)}return d}function Bn(d){return d=d[ae],d instanceof me?d:null}var zn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Os(d){return typeof d=="function"?d:(d[zn]||(d[zn]=function(_){return d.handleEvent(_)}),d[zn])}function bt(){U.call(this),this.i=new me(this),this.M=this,this.G=null}v(bt,U),bt.prototype[_e]=!0,bt.prototype.removeEventListener=function(d,_,I,A){nt(this,d,_,I,A)};function wt(d,_){var I,A=d.G;if(A)for(I=[];A;A=A.G)I.push(A);if(d=d.M,A=_.type||_,typeof _=="string")_=new j(_,d);else if(_ instanceof j)_.target=_.target||d;else{var K=_;_=new j(A,d),pe(_,K)}K=!0;let X,fe;if(I)for(fe=I.length-1;fe>=0;fe--)X=_.g=I[fe],K=Zt(X,A,!0,_)&&K;if(X=_.g=d,K=Zt(X,A,!0,_)&&K,K=Zt(X,A,!1,_)&&K,I)for(fe=0;fe<I.length;fe++)X=_.g=I[fe],K=Zt(X,A,!1,_)&&K}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var d=this.i;for(const _ in d.g){const I=d.g[_];for(let A=0;A<I.length;A++)W(I[A]);delete d.g[_],d.h--}}this.G=null},bt.prototype.J=function(d,_,I,A){return this.i.add(String(d),_,!1,I,A)},bt.prototype.K=function(d,_,I,A){return this.i.add(String(d),_,!0,I,A)};function Zt(d,_,I,A){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();let K=!0;for(let X=0;X<_.length;++X){const fe=_[X];if(fe&&!fe.da&&fe.capture==I){const Fe=fe.listener,Ct=fe.ha||fe.src;fe.fa&&Se(d.i,fe),K=Fe.call(Ct,A)!==!1&&K}}return K&&!A.defaultPrevented}function pi(d,_){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:l.setTimeout(d,_||0)}function $n(d){d.g=pi(()=>{d.g=null,d.i&&(d.i=!1,$n(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class ua extends U{constructor(_,I){super(),this.m=_,this.l=I,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:$n(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(d){U.call(this),this.h=d,this.g={}}v(qr,U);var Ht=[];function Wn(d){Z(d.g,function(_,I){this.g.hasOwnProperty(I)&&vt(_)},d),d.g={}}qr.prototype.N=function(){qr.Z.N.call(this),Wn(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kr=l.JSON.stringify,da=l.JSON.parse,cr=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function Gr(){}function wo(){}var ur={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Hn(){j.call(this,"d")}v(Hn,j);function mi(){j.call(this,"c")}v(mi,j);var qt={},gi=null;function Qr(){return gi=gi||new bt}qt.Ia="serverreachability";function Ms(d){j.call(this,qt.Ia,d)}v(Ms,j);function dr(d){const _=Qr();wt(_,new Ms(_))}qt.STAT_EVENT="statevent";function xr(d,_){j.call(this,qt.STAT_EVENT,d),this.stat=_}v(xr,j);function lt(d){const _=Qr();wt(_,new xr(_,d))}qt.Ja="timingevent";function Rn(d,_){j.call(this,qt.Ja,d),this.size=_}v(Rn,j);function Yr(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},_)}function Ce(){this.g=!0}Ce.prototype.ua=function(){this.g=!1};function Xe(d,_,I,A,K,X){d.info(function(){if(d.g)if(X){var fe="",Fe=X.split("&");for(let it=0;it<Fe.length;it++){var Ct=Fe[it].split("=");if(Ct.length>1){const Nt=Ct[0];Ct=Ct[1];const Jn=Nt.split("_");fe=Jn.length>=2&&Jn[1]=="type"?fe+(Nt+"="+Ct+"&"):fe+(Nt+"=redacted&")}}}else fe=null;else fe=X;return"XMLHTTP REQ ("+A+") [attempt "+K+"]: "+_+`
`+I+`
`+fe})}function st(d,_,I,A,K,X,fe){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+K+"]: "+_+`
`+I+`
`+X+" "+fe})}function St(d,_,I,A){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+dn(d,I)+(A?" "+A:"")})}function un(d,_){d.info(function(){return"TIMEOUT: "+_})}Ce.prototype.info=function(){};function dn(d,_){if(!d.g)return _;if(!_)return null;try{const X=JSON.parse(_);if(X){for(d=0;d<X.length;d++)if(Array.isArray(X[d])){var I=X[d];if(!(I.length<2)){var A=I[1];if(Array.isArray(A)&&!(A.length<1)){var K=A[0];if(K!="noop"&&K!="stop"&&K!="close")for(let fe=1;fe<A.length;fe++)A[fe]=""}}}}return Kr(X)}catch{return _}}var hn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qn;function Ls(){}v(Ls,Gr),Ls.prototype.g=function(){return new XMLHttpRequest},qn=new Ls;function Xr(d){return encodeURIComponent(String(d))}function ha(d){var _=1;d=d.split(":");const I=[];for(;_>0&&d.length;)I.push(d.shift()),_--;return d.length&&I.push(d.join(":")),I}function hr(d,_,I,A){this.j=d,this.i=_,this.l=I,this.S=A||1,this.V=new qr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Lu}function Lu(){this.i=null,this.g="",this.h=!1}var Vu={},zl={};function Tr(d,_,I){d.M=1,d.A=js(fr(_)),d.u=I,d.R=!0,$l(d,null)}function $l(d,_){d.F=Date.now(),_o(d),d.B=fr(d.A);var I=d.B,A=d.S;Array.isArray(A)||(A=[String(A)]),Zl(I.i,"t",A),d.C=0,I=d.j.L,d.h=new Lu,d.g=Ku(d.j,I?_:null,!d.u),d.P>0&&(d.O=new ua(p(d.Y,d,d.g),d.P)),_=d.V,I=d.g,A=d.ba;var K="readystatechange";Array.isArray(K)||(K&&(Ht[0]=K.toString()),K=Ht);for(let X=0;X<K.length;X++){const fe=Ne(I,K[X],A||_.handleEvent,!1,_.h||_);if(!fe)break;_.g[fe.key]=fe}_=d.J?z(d.J):{},d.u?(d.v||(d.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,_)):(d.v="GET",d.g.ea(d.B,d.v,null,_)),dr(),Xe(d.i,d.v,d.B,d.l,d.S,d.u)}hr.prototype.ba=function(d){d=d.target;const _=this.O;_&&ss(d)==3?_.j():this.Y(d)},hr.prototype.Y=function(d){try{if(d==this.g)e:{const Fe=ss(this.g),Ct=this.g.ya(),it=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||Hu(this.g)))){this.K||Fe!=4||Ct==7||(Ct==8||it<=0?dr(3):dr(2)),fa(this);var _=this.g.ca();this.X=_;var I=ju(this);if(this.o=_==200,st(this.i,this.v,this.B,this.l,this.S,Fe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,K=this.g;if((A=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(A)){var X=A;break t}}X=null}if(d=X)St(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ht(this,d);else{this.o=!1,this.m=3,lt(12),Vs(this),Eo(this);break e}}if(this.R){d=!0;let Nt;for(;!this.K&&this.C<I.length;)if(Nt=Uu(this,I),Nt==zl){Fe==4&&(this.m=4,lt(14),d=!1),St(this.i,this.l,null,"[Incomplete Response]");break}else if(Nt==Vu){this.m=4,lt(15),St(this.i,this.l,I,"[Invalid Chunk]"),d=!1;break}else St(this.i,this.l,Nt,null),ht(this,Nt);if(Fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||I.length!=0||this.h.h||(this.m=1,lt(16),d=!1),this.o=this.o&&d,!d)St(this.i,this.l,I,"[Invalid Chunked Response]"),Vs(this),Eo(this);else if(I.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),Ao(fe),fe.P=!0,lt(11))}}else St(this.i,this.l,I,null),ht(this,I);Fe==4&&Vs(this),this.o&&!this.K&&(Fe==4?Ta(this.j,this):(this.o=!1,_o(this)))}else tc(this.g),_==400&&I.indexOf("Unknown SID")>0?(this.m=3,lt(12)):(this.m=0,lt(13)),Vs(this),Eo(this)}}}catch{}finally{}};function ju(d){if(!Fu(d))return d.g.la();const _=Hu(d.g);if(_==="")return"";let I="";const A=_.length,K=ss(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Vs(d),Eo(d),"";d.h.i=new l.TextDecoder}for(let X=0;X<A;X++)d.h.h=!0,I+=d.h.i.decode(_[X],{stream:!(K&&X==A-1)});return _.length=0,d.h.g+=I,d.C=0,d.h.g}function Fu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Uu(d,_){var I=d.C,A=_.indexOf(`
`,I);return A==-1?zl:(I=Number(_.substring(I,A)),isNaN(I)?Vu:(A+=1,A+I>_.length?zl:(_=_.slice(A,A+I),d.C=A+I,_)))}hr.prototype.cancel=function(){this.K=!0,Vs(this)};function _o(d){d.T=Date.now()+d.H,Wl(d,d.H)}function Wl(d,_){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Yr(p(d.aa,d),_)}function fa(d){d.D&&(l.clearTimeout(d.D),d.D=null)}hr.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(un(this.i,this.B),this.M!=2&&(dr(),lt(17)),Vs(this),this.m=2,Eo(this)):Wl(this,this.T-d)};function Eo(d){d.j.I==0||d.K||Ta(d.j,d)}function Vs(d){fa(d);var _=d.O;_&&typeof _.dispose=="function"&&_.dispose(),d.O=null,Wn(d.V),d.g&&(_=d.g,d.g=null,_.abort(),_.dispose())}function ht(d,_){try{var I=d.j;if(I.I!=0&&(I.g==d||ql(I.h,d))){if(!d.L&&ql(I.h,d)&&I.I==3){try{var A=I.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var K=A;if(K[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<d.F)xa(I),Yn(I);else break e;as(I),lt(18)}}else I.xa=K[1],0<I.xa-I.K&&K[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=Yr(p(I.Va,I),6e3));xo(I.h)<=1&&I.ta&&(I.ta=void 0)}else Xn(I,11)}else if((d.L||I.g==d)&&xa(I),!O(_))for(K=I.Ba.g.parse(_),_=0;_<K.length;_++){let it=K[_];const Nt=it[0];if(!(Nt<=I.K))if(I.K=Nt,it=it[1],I.I==2)if(it[0]=="c"){I.M=it[1],I.ba=it[2];const Jn=it[3];Jn!=null&&(I.ka=Jn,I.j.info("VER="+I.ka));const $s=it[4];$s!=null&&(I.za=$s,I.j.info("SVER="+I.za));const ls=it[5];ls!=null&&typeof ls=="number"&&ls>0&&(A=1.5*ls,I.O=A,I.j.info("backChannelRequestTimeoutMs_="+A)),A=I;const cs=d.g;if(cs){const Ia=cs.g?cs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ia){var X=A.h;X.g||Ia.indexOf("spdy")==-1&&Ia.indexOf("quic")==-1&&Ia.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ma(X,X.h),X.h=null))}if(A.G){const sc=cs.g?cs.g.getResponseHeader("X-HTTP-Session-Id"):null;sc&&(A.wa=sc,tt(A.J,A.G,sc))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-d.F,I.j.info("Handshake RTT: "+I.T+"ms")),A=I;var fe=d;if(A.na=rc(A,A.L?A.ba:null,A.W),fe.L){To(A.h,fe);var Fe=fe,Ct=A.O;Ct&&(Fe.H=Ct),Fe.D&&(fa(Fe),_o(Fe)),A.g=fe}else fn(A);I.i.length>0&&zs(I)}else it[0]!="stop"&&it[0]!="close"||Xn(I,7);else I.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Xn(I,7):_a(I):it[0]!="noop"&&I.l&&I.l.qa(it),I.A=0)}}dr(4)}catch{}}var Xf=class{constructor(d,_){this.g=d,this.map=_}};function pa(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Hl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function xo(d){return d.h?1:d.g?d.g.size:0}function ql(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function ma(d,_){d.g?d.g.add(_):d.h=_}function To(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}pa.prototype.cancel=function(){if(this.i=Kn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Kn(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const I of d.g.values())_=_.concat(I.G);return _}return x(d.i)}var Bu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gn(d,_){if(d){d=d.split("&");for(let I=0;I<d.length;I++){const A=d[I].indexOf("=");let K,X=null;A>=0?(K=d[I].substring(0,A),X=d[I].substring(A+1)):K=d[I],_(K,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Jr(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;d instanceof Jr?(this.l=d.l,bo(this,d.j),this.o=d.o,this.g=d.g,Zr(this,d.u),this.h=d.h,yi(this,ec(d.i)),this.m=d.m):d&&(_=String(d).match(Bu))?(this.l=!1,bo(this,_[1]||"",!0),this.o=So(_[2]||""),this.g=So(_[3]||"",!0),Zr(this,_[4]),this.h=So(_[5]||"",!0),yi(this,_[6]||"",!0),this.m=So(_[7]||"")):(this.l=!1,this.i=new Ge(null,this.l))}Jr.prototype.toString=function(){const d=[];var _=this.j;_&&d.push(Io(_,Gl,!0),":");var I=this.g;return(I||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Io(_,Gl,!0),"@"),d.push(Xr(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&d.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&d.push("/"),d.push(Io(I,I.charAt(0)=="/"?Co:Ql,!0))),(I=this.i.toString())&&d.push("?",I),(I=this.m)&&d.push("#",Io(I,Yl)),d.join("")},Jr.prototype.resolve=function(d){const _=fr(this);let I=!!d.j;I?bo(_,d.j):I=!!d.o,I?_.o=d.o:I=!!d.g,I?_.g=d.g:I=d.u!=null;var A=d.h;if(I)Zr(_,d.u);else if(I=!!d.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var K=_.h.lastIndexOf("/");K!=-1&&(A=_.h.slice(0,K+1)+A)}if(K=A,K==".."||K==".")A="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){A=K.lastIndexOf("/",0)==0,K=K.split("/");const X=[];for(let fe=0;fe<K.length;){const Fe=K[fe++];Fe=="."?A&&fe==K.length&&X.push(""):Fe==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),A&&fe==K.length&&X.push("")):(X.push(Fe),A=!0)}A=X.join("/")}else A=K}return I?_.h=A:I=d.i.toString()!=="",I?yi(_,ec(d.i)):I=!!d.m,I&&(_.m=d.m),_};function fr(d){return new Jr(d)}function bo(d,_,I){d.j=I?So(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Zr(d,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);d.u=_}else d.u=null}function yi(d,_,I){_ instanceof Ge?(d.i=_,ya(d.i,d.l)):(I||(_=Io(_,Jf)),d.i=new Ge(_,d.l))}function tt(d,_,I){d.i.set(_,I)}function js(d){return tt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function So(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Io(d,_,I){return typeof d=="string"?(d=encodeURI(d).replace(_,Kl),I&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Kl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Gl=/[#\/\?@]/g,Ql=/[#\?:]/g,Co=/[#\?]/g,Jf=/[#\?@]/g,Yl=/#/g;function Ge(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function es(d){d.g||(d.g=new Map,d.h=0,d.i&&Gn(d.i,function(_,I){d.add(decodeURIComponent(_.replace(/\+/g," ")),I)}))}t=Ge.prototype,t.add=function(d,_){es(this),this.i=null,d=ts(this,d);let I=this.g.get(d);return I||this.g.set(d,I=[]),I.push(_),this.h+=1,this};function Xl(d,_){es(d),_=ts(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function ga(d,_){return es(d),_=ts(d,_),d.g.has(_)}t.forEach=function(d,_){es(this),this.g.forEach(function(I,A){I.forEach(function(K){d.call(_,K,A,this)},this)},this)};function Jl(d,_){es(d);let I=[];if(typeof _=="string")ga(d,_)&&(I=I.concat(d.g.get(ts(d,_))));else for(d=Array.from(d.g.values()),_=0;_<d.length;_++)I=I.concat(d[_]);return I}t.set=function(d,_){return es(this),this.i=null,d=ts(this,d),ga(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=Jl(this,d),d.length>0?String(d[0]):_):_};function Zl(d,_,I){Xl(d,_),I.length>0&&(d.i=null,d.g.set(ts(d,_),x(I)),d.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var I=_[A];const K=Xr(I);I=Jl(this,I);for(let X=0;X<I.length;X++){let fe=K;I[X]!==""&&(fe+="="+Xr(I[X])),d.push(fe)}}return this.i=d.join("&")};function ec(d){const _=new Ge;return _.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),_}function ts(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function ya(d,_){_&&!d.j&&(es(d),d.i=null,d.g.forEach(function(I,A){const K=A.toLowerCase();A!=K&&(Xl(this,A),Zl(this,K,I))},d)),d.j=_}function ns(d,_){const I=new Ce;if(l.Image){const A=new Image;A.onload=m(en,I,"TestLoadImage: loaded",!0,_,A),A.onerror=m(en,I,"TestLoadImage: error",!1,_,A),A.onabort=m(en,I,"TestLoadImage: abort",!1,_,A),A.ontimeout=m(en,I,"TestLoadImage: timeout",!1,_,A),l.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else _(!1)}function rs(d,_){const I=new Ce,A=new AbortController,K=setTimeout(()=>{A.abort(),en(I,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:A.signal}).then(X=>{clearTimeout(K),X.ok?en(I,"TestPingServer: ok",!0,_):en(I,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),en(I,"TestPingServer: error",!1,_)})}function en(d,_,I,A,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),A(I)}catch{}}function Po(){this.g=new cr}function Fs(d){this.i=d.Sb||null,this.h=d.ab||!1}v(Fs,Gr),Fs.prototype.g=function(){return new Qn(this.i,this.h)};function Qn(d,_){bt.call(this),this.H=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Qn,bt),t=Qn.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=_,this.readyState=1,br(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(_.body=d),(this.H||l).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vi(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,br(this)),this.g&&(this.readyState=3,br(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zu(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function zu(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?vi(this):br(this),this.readyState==3&&zu(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,vi(this))},t.Na=function(d){this.g&&(this.response=d,vi(this))},t.ga=function(){this.g&&vi(this)};function vi(d){d.readyState=4,d.l=null,d.j=null,d.B=null,br(d)}t.setRequestHeader=function(d,_){this.A.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var I=_.next();!I.done;)I=I.value,d.push(I[0]+": "+I[1]),I=_.next();return d.join(`\r
`)};function br(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Qn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function $u(d){let _="";return Z(d,function(I,A){_+=A,_+=":",_+=I,_+=`\r
`}),_}function va(d,_,I){e:{for(A in I){var A=!1;break e}A=!0}A||(I=$u(I),typeof d=="string"?I!=null&&Xr(I):tt(d,_,I))}function at(d){bt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(at,bt);var Wu=/^https?$/i,Zf=["POST","PUT"];t=at.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,_,I,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qn.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(X){wi(this,X);return}if(d=I||"",I=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var K in A)I.set(K,A[K]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())I.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(I.keys()).find(X=>X.toLowerCase()=="content-type"),K=l.FormData&&d instanceof l.FormData,!(Array.prototype.indexOf.call(Zf,_,void 0)>=0)||A||K||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,fe]of I)this.g.setRequestHeader(X,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(X){wi(this,X)}};function wi(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.o=5,_i(d),Bs(d)}function _i(d){d.A||(d.A=!0,wt(d,"complete"),wt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,wt(this,"complete"),wt(this,"abort"),Bs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bs(this,!0)),at.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Us(this):this.Xa())},t.Xa=function(){Us(this)};function Us(d){if(d.h&&typeof a<"u"){if(d.v&&ss(d)==4)setTimeout(d.Ca.bind(d),0);else if(wt(d,"readystatechange"),ss(d)==4){d.h=!1;try{const X=d.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var I;if(!(I=_)){var A;if(A=X===0){let fe=String(d.D).match(Bu)[1]||null;!fe&&l.self&&l.self.location&&(fe=l.self.location.protocol.slice(0,-1)),A=!Wu.test(fe?fe.toLowerCase():"")}I=A}if(I)wt(d,"complete"),wt(d,"success");else{d.o=6;try{var K=ss(d)>2?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.ca()+"]",_i(d)}}finally{Bs(d)}}}}function Bs(d,_){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const I=d.g;d.g=null,_||wt(d,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ss(d){return d.g?d.g.readyState:0}t.ca=function(){try{return ss(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),da(_)}};function Hu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function tc(d){const _={};d=(d.g&&ss(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(O(d[A]))continue;var I=ha(d[A]);const K=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const X=_[K]||[];_[K]=X,X.push(I)}ie(_,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(d,_,I){return I&&I.internalChannelParams&&I.internalChannelParams[d]||_}function wa(d){this.za=0,this.i=[],this.j=new Ce,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=is("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=is("baseRetryDelayMs",5e3,d),this.Za=is("retryDelaySeedMs",1e4,d),this.Ta=is("forwardChannelMaxRetries",2,d),this.va=is("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new pa(d&&d.concurrentRequestLimit),this.Ba=new Po,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=wa.prototype,t.ka=8,t.I=1,t.connect=function(d,_,I,A){lt(0),this.W=d,this.H=_||{},I&&A!==void 0&&(this.H.OSID=I,this.H.OAID=A),this.F=this.X,this.J=rc(this,null,this.W),zs(this)};function _a(d){if(Ea(d),d.I==3){var _=d.V++,I=fr(d.J);if(tt(I,"SID",d.M),tt(I,"RID",_),tt(I,"TYPE","terminate"),os(d,I),_=new hr(d,d.j,_),_.M=2,_.A=js(fr(I)),I=!1,l.navigator&&l.navigator.sendBeacon)try{I=l.navigator.sendBeacon(_.A.toString(),"")}catch{}!I&&l.Image&&(new Image().src=_.A,I=!0),I||(_.g=Ku(_.j,null),_.g.ea(_.A)),_.F=Date.now(),_o(_)}ko(d)}function Yn(d){d.g&&(Ao(d),d.g.cancel(),d.g=null)}function Ea(d){Yn(d),d.v&&(l.clearTimeout(d.v),d.v=null),xa(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&l.clearTimeout(d.m),d.m=null)}function zs(d){if(!Hl(d.h)&&!d.m){d.m=!0;var _=d.Ea;Q||R(),ee||(Q(),ee=!0),k.add(_,d),d.D=0}}function qu(d,_){return xo(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=_.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Yr(p(d.Ea,d,_),ba(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const K=new hr(this,this.j,d);let X=this.o;if(this.U&&(X?(X=z(X),pe(X,this.U)):X=this.U),this.u!==null||this.R||(K.J=X,X=null),this.S)e:{for(var _=0,I=0;I<this.i.length;I++){t:{var A=this.i[I];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=I;break e}if(_===4096||I===this.i.length-1){_=I+1;break e}}_=1e3}else _=1e3;_=nc(this,K,_),I=fr(this.J),tt(I,"RID",d),tt(I,"CVER",22),this.G&&tt(I,"X-HTTP-Session-Id",this.G),os(this,I),X&&(this.R?_="headers="+Xr($u(X))+"&"+_:this.u&&va(I,this.u,X)),ma(this.h,K),this.Ra&&tt(I,"TYPE","init"),this.S?(tt(I,"$req",_),tt(I,"SID","null"),K.U=!0,Tr(K,I,null)):Tr(K,I,_),this.I=2}}else this.I==3&&(d?Ro(this,d):this.i.length==0||Hl(this.h)||Ro(this))};function Ro(d,_){var I;_?I=_.l:I=d.V++;const A=fr(d.J);tt(A,"SID",d.M),tt(A,"RID",I),tt(A,"AID",d.K),os(d,A),d.u&&d.o&&va(A,d.u,d.o),I=new hr(d,d.j,I,d.D+1),d.u===null&&(I.J=d.o),_&&(d.i=_.G.concat(d.i)),_=nc(d,I,1e3),I.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),ma(d.h,I),Tr(I,A,_)}function os(d,_){d.H&&Z(d.H,function(I,A){tt(_,A,I)}),d.l&&Z({},function(I,A){tt(_,A,I)})}function nc(d,_,I){I=Math.min(d.i.length,I);const A=d.l?p(d.l.Ka,d.l,d):null;e:{var K=d.i;let Fe=-1;for(;;){const Ct=["count="+I];Fe==-1?I>0?(Fe=K[0].g,Ct.push("ofs="+Fe)):Fe=0:Ct.push("ofs="+Fe);let it=!0;for(let Nt=0;Nt<I;Nt++){var X=K[Nt].g;const Jn=K[Nt].map;if(X-=Fe,X<0)Fe=Math.max(0,K[Nt].g-100),it=!1;else try{X="req"+X+"_"||"";try{var fe=Jn instanceof Map?Jn:Object.entries(Jn);for(const[$s,ls]of fe){let cs=ls;u(ls)&&(cs=Kr(ls)),Ct.push(X+$s+"="+encodeURIComponent(cs))}}catch($s){throw Ct.push(X+"type="+encodeURIComponent("_badmap")),$s}}catch{A&&A(Jn)}}if(it){fe=Ct.join("&");break e}}fe=void 0}return d=d.i.splice(0,I),_.G=d,fe}function fn(d){if(!d.g&&!d.v){d.Y=1;var _=d.Da;Q||R(),ee||(Q(),ee=!0),k.add(_,d),d.A=0}}function as(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Yr(p(d.Da,d),ba(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,Ei(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Yr(p(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,lt(10),Yn(this),Ei(this))};function Ao(d){d.B!=null&&(l.clearTimeout(d.B),d.B=null)}function Ei(d){d.g=new hr(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var _=fr(d.na);tt(_,"RID","rpc"),tt(_,"SID",d.M),tt(_,"AID",d.K),tt(_,"CI",d.F?"0":"1"),!d.F&&d.ia&&tt(_,"TO",d.ia),tt(_,"TYPE","xmlhttp"),os(d,_),d.u&&d.o&&va(_,d.u,d.o),d.O&&(d.g.H=d.O);var I=d.g;d=d.ba,I.M=1,I.A=js(fr(_)),I.u=null,I.R=!0,$l(I,d)}t.Va=function(){this.C!=null&&(this.C=null,Yn(this),as(this),lt(19))};function xa(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function Ta(d,_){var I=null;if(d.g==_){xa(d),Ao(d),d.g=null;var A=2}else if(ql(d.h,_))I=_.G,To(d.h,_),A=1;else return;if(d.I!=0){if(_.o)if(A==1){I=_.u?_.u.length:0,_=Date.now()-_.F;var K=d.D;A=Qr(),wt(A,new Rn(A,I)),zs(d)}else fn(d);else if(K=_.m,K==3||K==0&&_.X>0||!(A==1&&qu(d,_)||A==2&&as(d)))switch(I&&I.length>0&&(_=d.h,_.i=_.i.concat(I)),K){case 1:Xn(d,5);break;case 4:Xn(d,10);break;case 3:Xn(d,6);break;default:Xn(d,2)}}}function ba(d,_){let I=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(I*=2),I*_}function Xn(d,_){if(d.j.info("Error code "+_),_==2){var I=p(d.bb,d),A=d.Ua;const K=!A;A=new Jr(A||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||bo(A,"https"),js(A),K?ns(A.toString(),I):rs(A.toString(),I)}else lt(2);d.I=0,d.l&&d.l.pa(_),ko(d),Ea(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function ko(d){if(d.I=0,d.ja=[],d.l){const _=Kn(d.h);(_.length!=0||d.i.length!=0)&&(P(d.ja,_),P(d.ja,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.oa()}}function rc(d,_,I){var A=I instanceof Jr?fr(I):new Jr(I);if(A.g!="")_&&(A.g=_+"."+A.g),Zr(A,A.u);else{var K=l.location;A=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;const X=new Jr(null);A&&bo(X,A),_&&(X.g=_),K&&Zr(X,K),I&&(X.h=I),A=X}return I=d.G,_=d.wa,I&&_&&tt(A,I,_),tt(A,"VER",d.ka),os(d,A),A}function Ku(d,_,I){if(_&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Aa&&!d.ma?new at(new Fs({ab:I})):new at(d.ma),_.Fa(d.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}t=Gu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Sa(){}Sa.prototype.g=function(d,_){return new tn(d,_)};function tn(d,_){bt.call(this),this.g=new wa(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(d?d["X-WebChannel-Client-Profile"]=_.sa:d={"X-WebChannel-Client-Profile":_.sa}),this.g.U=d,(d=_&&_.Qb)&&!O(d)&&(this.g.u=d),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!O(_)&&(this.g.G=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new xi(this)}v(tn,bt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){_a(this.g)},tn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var I={};I.__data__=d,d=I}else this.v&&(I={},I.__data__=Kr(d),d=I);_.i.push(new Xf(_.Ya++,d)),_.I==3&&zs(_)},tn.prototype.N=function(){this.g.l=null,delete this.j,_a(this.g),delete this.g,tn.Z.N.call(this)};function Qu(d){Hn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const I in _){d=I;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}v(Qu,Hn);function Yu(){mi.call(this),this.status=1}v(Yu,mi);function xi(d){this.g=d}v(xi,Gu),xi.prototype.ra=function(){wt(this.g,"a")},xi.prototype.qa=function(d){wt(this.g,new Qu(d))},xi.prototype.pa=function(d){wt(this.g,new Yu)},xi.prototype.oa=function(){wt(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,FS=function(){return new Sa},jS=function(){return Qr()},VS=qt,Dg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hn.NO_ERROR=0,hn.TIMEOUT=8,hn.HTTP_ERROR=6,fh=hn,kt.COMPLETE="complete",LS=kt,wo.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Lc=wo,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,MS=at}).apply(typeof Yd<"u"?Yd:typeof self<"u"?self:typeof window<"u"?window:{});const DE="@firebase/firestore",OE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new Oy("@firebase/firestore");function Xa(){return Zo.logLevel}function ve(t,...e){if(Zo.logLevel<=He.DEBUG){const n=e.map(Hy);Zo.debug(`Firestore (${Ol}): ${t}`,...n)}}function ci(t,...e){if(Zo.logLevel<=He.ERROR){const n=e.map(Hy);Zo.error(`Firestore (${Ol}): ${t}`,...n)}}function gl(t,...e){if(Zo.logLevel<=He.WARN){const n=e.map(Hy);Zo.warn(`Firestore (${Ol}): ${t}`,...n)}}function Hy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,US(t,r,n)}function US(t,e,n){let r=`FIRESTORE (${Ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ci(r),new Error(r)}function rt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||US(e,i,r)}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Ns{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class c4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(wn.UNAUTHENTICATED)))}shutdown(){}}class u4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class d4{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ri,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const h=a;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},u=h=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ri)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string",31837,{l:r}),new BS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new wn(e)}}class h4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class f4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new h4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ME{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rt(this.o===void 0,3512);const r=a=>{a.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ve("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ME(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ME(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=m4(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function qe(t,e){return t<e?-1:t>e?1:0}function Og(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Fm(i)===Fm(a)?qe(i,a):Fm(i)?1:-1}return qe(t.length,e.length)}const g4=55296,y4=57343;function Fm(t){const e=t.charCodeAt(0);return e>=g4&&e<=y4}function yl(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="__name__";class ps{constructor(e,n,r){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ps.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ps?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ps.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return qe(e.length,n.length)}static compareSegments(e,n){const r=ps.isNumericId(e),i=ps.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ps.extractNumericId(e).compare(ps.extractNumericId(n)):Og(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xi.fromString(e.substring(4,e.length-2))}}class ut extends ps{construct(e,n,r){return new ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const v4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends ps{construct(e,n,r){return new on(e,n,r)}static isValidIdentifier(e){return v4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LE}static keyField(){return new on([LE])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ge(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ge(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ge(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new ge(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(n)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(ut.fromString(e))}static fromName(e){return new Ie(ut.fromString(e).popFirst(5))}static empty(){return new Ie(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new ut(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t,e,n){if(!n)throw new ge(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function w4(t,e,n,r){if(e===!0&&r===!0)throw new ge(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function VE(t){if(!Ie.isDocumentKey(t))throw new ge(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jE(t){if(Ie.isDocumentKey(t))throw new ge(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $S(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function bf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe(12329,{type:typeof t})}function Cs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bf(t);throw new ge(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function _4(t,e){if(e<=0)throw new ge(ne.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t,e){const n={typeString:t};return e&&(n.value=e),n}function bu(t,e){if(!$S(t))throw new ge(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ge(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=-62135596800,UE=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*UE);return new gt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<FE)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UE}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-FE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Ft("string",gt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new gt(0,0))}static max(){return new je(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=-1;function E4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=je.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new no(i,Ie.empty(),e)}function x4(t){return new no(t.readTime,t.key,su)}class no{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new no(je.min(),Ie.empty(),su)}static max(){return new no(je.max(),Ie.empty(),su)}}function T4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==b4)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,r)=>{n(e)}))}static reject(e){return new re(((n,r)=>{r(e)}))}static waitFor(e){return new re(((n,r)=>{let i=0,a=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++a,l&&a===i&&n()}),(h=>r(h)))})),l=!0,a===i&&n()}))}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next((i=>i?re.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new re(((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const p=h;n(e[p]).next((m=>{l[p]=m,++u,u===a&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new re(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function I4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ll(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=-1;function If(t){return t==null}function Uh(t){return t===0&&1/t==-1/0}function C4(t){return typeof t=="number"&&Number.isInteger(t)&&!Uh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="";function P4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=BE(e)),e=R4(t.get(n),e);return BE(e)}function R4(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case WS:n+="";break;default:n+=a}}return n}function BE(t){return t+WS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xd(this.root,e,this.comparator,!0)}}class Xd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??sn.RED,this.left=i??sn.EMPTY,this.right=a??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new sn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return sn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $E(this.data.getIterator())}getIteratorFrom(e){return new $E(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class $E{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new ir([])}unionWith(e){let n=new Wt(on.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ir(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new qS("Invalid base64 string: "+a):a}})(e);return new ln(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const A4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ro(t){if(rt(!!t,39018),typeof t=="string"){let e=0;const n=A4.exec(t);if(rt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(t.seconds),nanos:Rt(t.nanos)}}function Rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function so(t){return typeof t=="string"?ln.fromBase64String(t):ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="server_timestamp",GS="__type__",QS="__previous_value__",YS="__local_write_time__";function Gy(t){return(t?.mapValue?.fields||{})[GS]?.stringValue===KS}function Cf(t){const e=t.mapValue.fields[QS];return Gy(e)?Cf(e):e}function iu(t){const e=ro(t.mapValue.fields[YS].timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,n,r,i,a,l,u,h,p,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=m}}const Bh="(default)";class ou{constructor(e,n){this.projectId=e,this.database=n||Bh}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===Bh}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="__type__",N4="__max__",Jd={mapValue:{}},JS="__vector__",zh="value";function io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gy(t)?4:O4(t)?9007199254740991:D4(t)?10:11:Oe(28295,{value:t})}function Ps(t,e){if(t===e)return!0;const n=io(t);if(n!==io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return iu(t).isEqual(iu(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=ro(i.timestampValue),u=ro(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return so(i.bytesValue).isEqual(so(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Rt(i.geoPointValue.latitude)===Rt(a.geoPointValue.latitude)&&Rt(i.geoPointValue.longitude)===Rt(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Rt(i.integerValue)===Rt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Rt(i.doubleValue),u=Rt(a.doubleValue);return l===u?Uh(l)===Uh(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return yl(t.arrayValue.values||[],e.arrayValue.values||[],Ps);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(zE(l)!==zE(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Ps(l[h],u[h])))return!1;return!0})(t,e);default:return Oe(52216,{left:t})}}function au(t,e){return(t.values||[]).find((n=>Ps(n,e)))!==void 0}function vl(t,e){if(t===e)return 0;const n=io(t),r=io(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=Rt(a.integerValue||a.doubleValue),h=Rt(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(t,e);case 3:return WE(t.timestampValue,e.timestampValue);case 4:return WE(iu(t),iu(e));case 5:return Og(t.stringValue,e.stringValue);case 6:return(function(a,l){const u=so(a),h=so(l);return u.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),h=l.split("/");for(let p=0;p<u.length&&p<h.length;p++){const m=qe(u[p],h[p]);if(m!==0)return m}return qe(u.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=qe(Rt(a.latitude),Rt(l.latitude));return u!==0?u:qe(Rt(a.longitude),Rt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return HE(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const u=a.fields||{},h=l.fields||{},p=u[zh]?.arrayValue,m=h[zh]?.arrayValue,v=qe(p?.values?.length||0,m?.values?.length||0);return v!==0?v:HE(p,m)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Jd.mapValue&&l===Jd.mapValue)return 0;if(a===Jd.mapValue)return 1;if(l===Jd.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),p=l.fields||{},m=Object.keys(p);h.sort(),m.sort();for(let v=0;v<h.length&&v<m.length;++v){const E=Og(h[v],m[v]);if(E!==0)return E;const x=vl(u[h[v]],p[m[v]]);if(x!==0)return x}return qe(h.length,m.length)})(t.mapValue,e.mapValue);default:throw Oe(23264,{he:n})}}function WE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=ro(t),r=ro(e),i=qe(n.seconds,r.seconds);return i!==0?i:qe(n.nanos,r.nanos)}function HE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=vl(n[i],r[i]);if(a)return a}return qe(n.length,r.length)}function wl(t){return Mg(t)}function Mg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ro(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return so(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Mg(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Mg(n.fields[l])}`;return i+"}"})(t.mapValue):Oe(61005,{value:t})}function ph(t){switch(io(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cf(t);return e?16+ph(e):16;case 5:return 2*t.stringValue.length;case 6:return so(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+ph(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return fo(r.fields,((a,l)=>{i+=a.length+ph(l)})),i})(t.mapValue);default:throw Oe(13486,{value:t})}}function qE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Lg(t){return!!t&&"integerValue"in t}function Qy(t){return!!t&&"arrayValue"in t}function KE(t){return!!t&&"nullValue"in t}function GE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mh(t){return!!t&&"mapValue"in t}function D4(t){return(t?.mapValue?.fields||{})[XS]?.stringValue===JS}function Wc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return fo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Wc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wc(t.arrayValue.values[n]);return e}return{...t}}function O4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===N4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wc(n)}setAll(e){let n=on.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=Wc(l):i.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];mh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fo(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new jn(Wc(this.value))}}function ZS(t){const e=[];return fo(t.fields,((n,r)=>{const i=new on([n]);if(mh(r)){const a=ZS(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,r,i,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new _n(e,0,je.min(),je.min(),je.min(),jn.empty(),0)}static newFoundDocument(e,n,r,i){return new _n(e,1,n,je.min(),r,i,0)}static newNoDocument(e,n){return new _n(e,2,n,je.min(),je.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,je.min(),je.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n){this.position=e,this.inclusive=n}}function QE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=Ie.comparator(Ie.fromName(l.referenceValue),n.key):r=vl(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function YE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ps(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n="asc"){this.field=e,this.dir=n}}function M4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{}class Vt extends e1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new V4(e,n,r):n==="array-contains"?new U4(e,r):n==="in"?new B4(e,r):n==="not-in"?new z4(e,r):n==="array-contains-any"?new $4(e,r):new Vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new j4(e,r):new F4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vl(n,this.value)):n!==null&&io(this.value)===io(n)&&this.matchesComparison(vl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zr extends e1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new zr(e,n)}matches(e){return t1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function t1(t){return t.op==="and"}function n1(t){return L4(t)&&t1(t)}function L4(t){for(const e of t.filters)if(e instanceof zr)return!1;return!0}function Vg(t){if(t instanceof Vt)return t.field.canonicalString()+t.op.toString()+wl(t.value);if(n1(t))return t.filters.map((e=>Vg(e))).join(",");{const e=t.filters.map((n=>Vg(n))).join(",");return`${t.op}(${e})`}}function r1(t,e){return t instanceof Vt?(function(r,i){return i instanceof Vt&&r.op===i.op&&r.field.isEqual(i.field)&&Ps(r.value,i.value)})(t,e):t instanceof zr?(function(r,i){return i instanceof zr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,u)=>a&&r1(l,i.filters[u])),!0):!1})(t,e):void Oe(19439)}function s1(t){return t instanceof Vt?(function(n){return`${n.field.canonicalString()} ${n.op} ${wl(n.value)}`})(t):t instanceof zr?(function(n){return n.op.toString()+" {"+n.getFilters().map(s1).join(" ,")+"}"})(t):"Filter"}class V4 extends Vt{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class j4 extends Vt{constructor(e,n){super(e,"in",n),this.keys=i1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class F4 extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=i1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function i1(t,e){return(e.arrayValue?.values||[]).map((n=>Ie.fromName(n.referenceValue)))}class U4 extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qy(n)&&au(n.arrayValue,this.value)}}class B4 extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class z4 extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!au(this.value.arrayValue,n)}}class $4 extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>au(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function XE(t,e=null,n=[],r=[],i=null,a=null,l=null){return new W4(t,e,n,r,i,a,l)}function Yy(t){const e=Ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Vg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),If(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>wl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>wl(r))).join(",")),e.Te=n}return e.Te}function Xy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!M4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!r1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YE(t.startAt,e.startAt)&&YE(t.endAt,e.endAt)}function jg(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n=null,r=[],i=[],a=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function H4(t,e,n,r,i,a,l,u){return new Vl(t,e,n,r,i,a,l,u)}function Jy(t){return new Vl(t)}function JE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function o1(t){return t.collectionGroup!==null}function Hc(t){const e=Ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Wt(on.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new lu(a,r))})),n.has(on.keyField().canonicalString())||e.Ie.push(new lu(on.keyField(),r))}return e.Ie}function xs(t){const e=Ue(t);return e.Ee||(e.Ee=q4(e,Hc(t))),e.Ee}function q4(t,e){if(t.limitType==="F")return XE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new lu(i.field,a)}));const n=t.endAt?new $h(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $h(t.startAt.position,t.startAt.inclusive):null;return XE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fg(t,e){const n=t.filters.concat([e]);return new Vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wh(t,e,n){return new Vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pf(t,e){return Xy(xs(t),xs(e))&&t.limitType===e.limitType}function a1(t){return`${Yy(xs(t))}|lt:${t.limitType}`}function Ja(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>s1(i))).join(", ")}]`),If(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>wl(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>wl(i))).join(",")),`Target(${r})`})(xs(t))}; limitType=${t.limitType})`}function Rf(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ie.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Hc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,h){const p=QE(l,u,h);return l.inclusive?p<=0:p<0})(r.startAt,Hc(r),i)||r.endAt&&!(function(l,u,h){const p=QE(l,u,h);return l.inclusive?p>=0:p>0})(r.endAt,Hc(r),i))})(t,e)}function K4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function l1(t){return(e,n)=>{let r=!1;for(const i of Hc(t)){const a=G4(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function G4(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(a,l,u){const h=l.data.field(a),p=u.data.field(a);return h!==null&&p!==null?vl(h,p):Oe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fo(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return HS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=new Tt(Ie.comparator);function ui(){return Q4}const c1=new Tt(Ie.comparator);function Vc(...t){let e=c1;for(const n of t)e=e.insert(n.key,n);return e}function u1(t){let e=c1;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function qo(){return qc()}function d1(){return qc()}function qc(){return new la((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Y4=new Tt(Ie.comparator),X4=new Wt(Ie.comparator);function Ke(...t){let e=X4;for(const n of t)e=e.add(n);return e}const J4=new Wt(qe);function Z4(){return J4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uh(e)?"-0":e}}function h1(t){return{integerValue:""+t}}function ej(t,e){return C4(e)?h1(e):Zy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(){this._=void 0}}function tj(t,e,n){return t instanceof cu?(function(i,a){const l={fields:{[GS]:{stringValue:KS},[YS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Gy(a)&&(a=Cf(a)),a&&(l.fields[QS]=a),{mapValue:l}})(n,e):t instanceof uu?p1(t,e):t instanceof du?m1(t,e):(function(i,a){const l=f1(i,a),u=ZE(l)+ZE(i.Ae);return Lg(l)&&Lg(i.Ae)?h1(u):Zy(i.serializer,u)})(t,e)}function nj(t,e,n){return t instanceof uu?p1(t,e):t instanceof du?m1(t,e):n}function f1(t,e){return t instanceof Hh?(function(r){return Lg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class cu extends Af{}class uu extends Af{constructor(e){super(),this.elements=e}}function p1(t,e){const n=g1(e);for(const r of t.elements)n.some((i=>Ps(i,r)))||n.push(r);return{arrayValue:{values:n}}}class du extends Af{constructor(e){super(),this.elements=e}}function m1(t,e){let n=g1(e);for(const r of t.elements)n=n.filter((i=>!Ps(i,r)));return{arrayValue:{values:n}}}class Hh extends Af{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ZE(t){return Rt(t.integerValue||t.doubleValue)}function g1(t){return Qy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,n){this.field=e,this.transform=n}}function sj(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof uu&&i instanceof uu||r instanceof du&&i instanceof du?yl(r.elements,i.elements,Ps):r instanceof Hh&&i instanceof Hh?Ps(r.Ae,i.Ae):r instanceof cu&&i instanceof cu})(t.transform,e.transform)}class ij{constructor(e,n){this.version=e,this.transformResults=n}}class Vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vr}static exists(e){return new Vr(void 0,e)}static updateTime(e){return new Vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kf{}function y1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new w1(t.key,Vr.none()):new Su(t.key,t.data,Vr.none());{const n=t.data,r=jn.empty();let i=new Wt(on.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new po(t.key,r,new ir(i.toArray()),Vr.none())}}function oj(t,e,n){t instanceof Su?(function(i,a,l){const u=i.value.clone(),h=tx(i.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof po?(function(i,a,l){if(!gh(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=tx(i.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(v1(i)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Kc(t,e,n,r){return t instanceof Su?(function(a,l,u,h){if(!gh(a.precondition,l))return u;const p=a.value.clone(),m=nx(a.fieldTransforms,h,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof po?(function(a,l,u,h){if(!gh(a.precondition,l))return u;const p=nx(a.fieldTransforms,h,l),m=l.data;return m.setAll(v1(a)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(a,l,u){return gh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function aj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=f1(r.transform,i||null);a!=null&&(n===null&&(n=jn.empty()),n.set(r.field,a))}return n||null}function ex(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&yl(r,i,((a,l)=>sj(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Su extends kf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class po extends kf{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function v1(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function tx(t,e,n){const r=new Map;rt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,nj(l,u,n[i]))}return r}function nx(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,tj(a,l,e))}return r}class w1 extends kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lj extends kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&oj(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Kc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Kc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=d1();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(i.key)?null:u;const h=y1(l,u);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(je.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,((n,r)=>ex(n,r)))&&yl(this.baseMutations,e.baseMutations,((n,r)=>ex(n,r)))}}class ev{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){rt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Y4})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new ev(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,Qe;function hj(t){switch(t){case ne.OK:return Oe(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Oe(15467,{code:t})}}function _1(t){if(t===void 0)return ci("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Ot.OK:return ne.OK;case Ot.CANCELLED:return ne.CANCELLED;case Ot.UNKNOWN:return ne.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ne.INTERNAL;case Ot.UNAVAILABLE:return ne.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ne.NOT_FOUND;case Ot.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ot.ABORTED:return ne.ABORTED;case Ot.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ot.DATA_LOSS:return ne.DATA_LOSS;default:return Oe(39323,{code:t})}}(Qe=Ot||(Ot={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=new Xi([4294967295,4294967295],0);function rx(t){const e=fj().encode(t),n=new OS;return n.update(e),new Uint8Array(n.digest())}function sx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Xi([n,r],0),new Xi([i,a],0)]}class tv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jc(`Invalid padding: ${n}`);if(r<0)throw new jc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new jc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Xi.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Xi.fromNumber(r)));return i.compare(pj)===1&&(i=new Xi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=rx(e),[r,i]=sx(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new tv(a,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=rx(e),[r,i]=sx(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Nf(je.min(),i,new Tt(qe),ui(),Ke())}}class Iu{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Iu(r,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class E1{constructor(e,n){this.targetId=e,this.Ce=n}}class x1{constructor(e,n,r=ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ix{constructor(){this.ve=0,this.Fe=ox(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),n=Ke(),r=Ke();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Oe(38017,{changeType:a})}})),new Iu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=ox()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mj{constructor(e){this.Ge=e,this.ze=new Map,this.je=ui(),this.Je=Zd(),this.He=Zd(),this.Ye=new Tt(qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(jg(a))if(r===0){const l=new Ie(a.path);this.et(n,l,_n.newNoDocument(l,je.min()))}else rt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,u;try{l=so(r).toUint8Array()}catch(h){if(h instanceof qS)return gl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new tv(l,i,a)}catch(h){return gl(h instanceof jc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const u=this.ot(l);if(u){if(a.current&&jg(u.target)){const h=new Ie(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,_n.newNoDocument(h,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=Ke();this.He.forEach(((a,l)=>{let u=!0;l.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new Nf(e,n,this.Ye,this.je,r);return this.je=ui(),this.Je=Zd(),this.He=Zd(),this.Ye=new Tt(qe),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new ix,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Wt(qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Wt(qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ix),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Zd(){return new Tt(Ie.comparator)}function ox(){return new Tt(Ie.comparator)}const gj={asc:"ASCENDING",desc:"DESCENDING"},yj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vj={and:"AND",or:"OR"};class wj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ug(t,e){return t.useProto3Json||If(e)?e:{value:e}}function qh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function T1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _j(t,e){return qh(t,e.toTimestamp())}function Ts(t){return rt(!!t,49232),je.fromTimestamp((function(n){const r=ro(n);return new gt(r.seconds,r.nanos)})(t))}function nv(t,e){return Bg(t,e).canonicalString()}function Bg(t,e){const n=(function(i){return new ut(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function b1(t){const e=ut.fromString(t);return rt(R1(e),10190,{key:e.toString()}),e}function zg(t,e){return nv(t.databaseId,e.path)}function Um(t,e){const n=b1(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(I1(n))}function S1(t,e){return nv(t.databaseId,e)}function Ej(t){const e=b1(t);return e.length===4?ut.emptyPath():I1(e)}function $g(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function I1(t){return rt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ax(t,e,n){return{name:zg(t,e),fields:n.value.mapValue.fields}}function xj(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Oe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(p,m){return p.useProto3Json?(rt(m===void 0||typeof m=="string",58123),ln.fromBase64String(m||"")):(rt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),ln.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(p){const m=p.code===void 0?ne.UNKNOWN:_1(p.code);return new ge(m,p.message||"")})(l);n=new x1(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Um(t,r.document.name),a=Ts(r.document.updateTime),l=r.document.createTime?Ts(r.document.createTime):je.min(),u=new jn({mapValue:{fields:r.document.fields}}),h=_n.newFoundDocument(i,a,l,u),p=r.targetIds||[],m=r.removedTargetIds||[];n=new yh(p,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Um(t,r.document),a=r.readTime?Ts(r.readTime):je.min(),l=_n.newNoDocument(i,a),u=r.removedTargetIds||[];n=new yh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Um(t,r.document),a=r.removedTargetIds||[];n=new yh([],a,i,null)}else{if(!("filter"in e))return Oe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new dj(i,a),u=r.targetId;n=new E1(u,l)}}return n}function Tj(t,e){let n;if(e instanceof Su)n={update:ax(t,e.key,e.value)};else if(e instanceof w1)n={delete:zg(t,e.key)};else if(e instanceof po)n={update:ax(t,e.key,e.data),updateMask:Nj(e.fieldMask)};else{if(!(e instanceof lj))return Oe(16599,{Vt:e.type});n={verify:zg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const u=l.transform;if(u instanceof cu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof uu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof du)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Hh)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Oe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:_j(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe(27497)})(t,e.precondition)),n}function bj(t,e){return t&&t.length>0?(rt(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?Ts(i.updateTime):Ts(a);return l.isEqual(je.min())&&(l=Ts(a)),new ij(l,i.transformResults||[])})(n,e)))):[]}function Sj(t,e){return{documents:[S1(t,e.path)]}}function Ij(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=S1(t,i);const a=(function(p){if(p.length!==0)return P1(zr.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((m=>(function(E){return{field:Za(E.field),direction:Rj(E.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=Ug(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:i}}function Cj(t){let e=Ej(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){rt(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(v){const E=C1(v);return E instanceof zr&&n1(E)?E.getFilters():[E]})(n.where));let l=[];n.orderBy&&(l=(function(v){return v.map((E=>(function(P){return new lu(el(P.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(E)))})(n.orderBy));let u=null;n.limit&&(u=(function(v){let E;return E=typeof v=="object"?v.value:v,If(E)?null:E})(n.limit));let h=null;n.startAt&&(h=(function(v){const E=!!v.before,x=v.values||[];return new $h(x,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const E=!v.before,x=v.values||[];return new $h(x,E)})(n.endAt)),H4(e,i,l,a,u,"F",h,p)}function Pj(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function C1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=el(n.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=el(n.unaryFilter.field);return Vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=el(n.unaryFilter.field);return Vt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=el(n.unaryFilter.field);return Vt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Vt.create(el(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return zr.create(n.compositeFilter.filters.map((r=>C1(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(n.compositeFilter.op))})(t):Oe(30097,{filter:t})}function Rj(t){return gj[t]}function Aj(t){return yj[t]}function kj(t){return vj[t]}function Za(t){return{fieldPath:t.canonicalString()}}function el(t){return on.fromServerFormat(t.fieldPath)}function P1(t){return t instanceof Vt?(function(n){if(n.op==="=="){if(GE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(KE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(GE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(KE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:Aj(n.op),value:n.value}}})(t):t instanceof zr?(function(n){const r=n.getFilters().map((i=>P1(i)));return r.length===1?r[0]:{compositeFilter:{op:kj(n.op),filters:r}}})(t):Oe(54877,{filter:t})}function Nj(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function R1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,r,i,a=je.min(),l=je.min(),u=ln.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e){this.yt=e}}function Oj(t){const e=Cj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(){this.Cn=new Lj}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(no.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(no.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class Lj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Wt(ut.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},A1=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(A1,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _l(0)}static cr(){return new _l(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="LruGarbageCollector",Vj=1048576;function ux([t,e],[n,r]){const i=qe(t,n);return i===0?qe(e,r):i}class jj{constructor(e){this.Ir=e,this.buffer=new Wt(ux),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ux(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Fj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(cx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ll(n)?ve(cx,"Ignoring IndexedDB error during garbage collection: ",n):await Ml(n)}await this.Vr(3e5)}))}}class Uj{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Sf.ce);const r=new jj(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(lx)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lx):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,u,h,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i)))).next((v=>(r=v,u=Date.now(),this.removeTargets(e,r,n)))).next((v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(p=Date.now(),Xa()<=He.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${v} documents in `+(p-h)+`ms
Total Duration: ${p-m}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:v}))))}}function Bj(t,e){return new Uj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(){this.changes=new la((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Kc(r.mutation,i,ir.empty(),gt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ke()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ke()){const i=qo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=Vc();return a.forEach(((u,h)=>{l=l.insert(u,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=qo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ke())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let a=ui();const l=qc(),u=(function(){return qc()})();return n.forEach(((h,p)=>{const m=r.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof po)?a=a.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),Kc(m.mutation,p,m.mutation.getFieldMask(),gt.now())):l.set(p.key,ir.empty())})),this.recalculateAndSaveOverlays(e,a).next((h=>(h.forEach(((p,m)=>l.set(p,m))),n.forEach(((p,m)=>u.set(p,new $j(m,l.get(p)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=qc();let i=new Tt(((l,u)=>l-u)),a=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((h=>{const p=n.get(h);if(p===null)return;let m=r.get(h)||ir.empty();m=u.applyToLocalView(p,m),r.set(h,m);const v=(i.get(u.batchId)||Ke()).add(h);i=i.insert(u.batchId,v)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,m=h.value,v=d1();m.forEach((E=>{if(!a.has(E)){const x=y1(n.get(E),r.get(E));x!==null&&v.set(E,x),a=a.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return re.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Ie.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):o1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):re.resolve(qo());let u=su,h=a;return l.next((p=>re.forEach(p,((m,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),a.get(m)?re.resolve():this.remoteDocumentCache.getEntry(e,m).next((E=>{h=h.insert(m,E)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,h,p,Ke()))).next((m=>({batchId:u,changes:u1(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((r=>{let i=Vc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=Vc();return this.indexManager.getCollectionParents(e,a).next((u=>re.forEach(u,(h=>{const p=(function(v,E){return new Vl(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((m=>{m.forEach(((v,E)=>{l=l.insert(v,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((h,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,_n.newInvalidDocument(m)))}));let u=Vc();return l.forEach(((h,p)=>{const m=a.get(h);m!==void 0&&Kc(m.mutation,p,ir.empty(),gt.now()),Rf(n,p)&&(u=u.insert(h,p))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ts(i.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:Oj(i.bundledQuery),readTime:Ts(i.readTime)}})(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(){this.overlays=new Tt(Ie.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qo();return re.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),re.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const i=qo(),a=n.length+1,l=new Ie(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&i.set(h.getKey(),h)}return re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Tt(((p,m)=>p-m));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let m=a.get(p.largestBatchId);m===null&&(m=qo(),a=a.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const u=qo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,m)=>u.set(p,m))),!(u.size()>=i)););return re.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new uj(n,r));let a=this.qr.get(n);a===void 0&&(a=Ke(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.Qr=new Wt(Xt.$r),this.Ur=new Wt(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Xt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Xt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ie(new ut([])),r=new Xt(n,e),i=new Xt(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ie(new ut([])),r=new Xt(n,e),i=new Xt(n,e+1);let a=Ke();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Xt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ie.comparator(e.key,n.key)||qe(e.Yr,n.Yr)}static Kr(e,n){return qe(e.Yr,n.Yr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Wt(Xt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new cj(a,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new Xt(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return re.resolve(l)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Ky:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xt(n,0),i=new Xt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);a.push(u)})),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(qe);return n.forEach((i=>{const a=new Xt(i,0),l=new Xt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(u=>{r=r.add(u.Yr)}))})),re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Ie.isDocumentKey(a)||(a=a.child(""));const l=new Xt(new Ie(a),0);let u=new Wt(qe);return this.Zr.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(u=u.add(h.Yr)),!0)}),l),re.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){rt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return re.forEach(n.mutations,(i=>{const a=new Xt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Xt(n,0),i=this.Zr.firstAfterOrEqual(r);return re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.ri=e,this.docs=(function(){return new Tt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let r=ui();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():_n.newInvalidDocument(i))})),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=ui();const l=n.path,u=new Ie(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:m}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||T4(x4(m),r)<=0||(i.has(m.key)||Rf(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Oe(9500)}ii(e,n){return re.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Yj(this)}getSize(e){return re.resolve(this.size)}}class Yj extends zj{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.persistence=e,this.si=new la((n=>Yy(n)),Xy),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.oi=0,this._i=new rv,this.targetCount=0,this.ai=_l.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new _l(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),re.waitFor(a).next((()=>i))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),re.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n){this.ui={},this.overlays={},this.ci=new Sf(0),this.li=!1,this.li=!0,this.hi=new Kj,this.referenceDelegate=e(this),this.Pi=new Xj(this),this.indexManager=new Mj,this.remoteDocumentCache=(function(i){return new Qj(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Dj(n),this.Ii=new Hj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Gj(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const i=new Jj(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return re.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Jj extends S4{constructor(e){super(),this.currentSequenceNumber=e}}class sv{constructor(e){this.persistence=e,this.Ri=new rv,this.Vi=null}static mi(e){return new sv(e)}get fi(){if(this.Vi)return this.Vi;throw Oe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(r=>{const i=Ie.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,je.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Kh{constructor(e,n){this.persistence=e,this.pi=new la((r=>P4(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Bj(this,n)}static mi(e,n){return new Kh(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?re.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,a.removeEntry(l,je.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ph(e.data.value)),n}br(e,n,r){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return re.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ke(),i=Ke();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new iv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return R2()?8:I4(xn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new Zj;return this.Ss(e,n,l).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Xa()<=He.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Xa()<=He.DEBUG&&ve("QueryEngine","Query:",Ja(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Xa()<=He.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xs(n))):re.resolve())}ys(e,n){if(JE(n))return re.resolve(null);let r=xs(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Wh(n,null,"F"),r=xs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Ke(...a);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.Ds(n,u);return this.Cs(n,p,l,h.readTime)?this.ys(e,Wh(n,null,"F")):this.vs(e,p,n,h)}))))})))))}ws(e,n,r,i){return JE(n)||i.isEqual(je.min())?re.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?re.resolve(null):(Xa()<=He.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ja(n)),this.vs(e,l,n,E4(i,su)).next((u=>u)))}))}Ds(e,n){let r=new Wt(l1(e));return n.forEach(((i,a)=>{Rf(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Xa()<=He.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Ja(n)),this.ps.getDocumentsMatchingQuery(e,n,no.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="LocalStore",tF=3e8;class nF{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Tt(qe),this.xs=new la((a=>Yy(a)),Xy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function rF(t,e,n,r){return new nF(t,e,n,r)}async function N1(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],u=[];let h=Ke();for(const p of i){l.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}for(const p of a){u.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:u})))}))}))}function sF(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,h,p,m){const v=p.batch,E=v.keys();let x=re.resolve();return E.forEach((P=>{x=x.next((()=>m.getEntry(h,P))).next((b=>{const S=p.docVersions.get(P);rt(S!==null,48541),b.version.compareTo(S)<0&&(v.applyToRemoteDocument(b,p),b.isValidDocument()&&(b.setReadTime(p.commitVersion),m.addEntry(b)))}))})),x.next((()=>u.mutationQueue.removeMutationBatch(h,v)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=Ke();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function D1(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function iF(t,e){const n=Ue(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((m,v)=>{const E=i.get(v);if(!E)return;u.push(n.Pi.removeMatchingKeys(a,m.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(a,m.addedDocuments,v))));let x=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?x=x.withResumeToken(ln.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,r)),i=i.insert(v,x),(function(b,S,N){return b.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=tF?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(E,x,m)&&u.push(n.Pi.updateTargetData(a,x))}));let h=ui(),p=Ke();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),u.push(oF(a,l,e.documentUpdates).next((m=>{h=m.ks,p=m.qs}))),!r.isEqual(je.min())){const m=n.Pi.getLastRemoteSnapshotVersion(a).next((v=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(m)}return re.waitFor(u).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,h,p))).next((()=>h))})).then((a=>(n.Ms=i,a)))}function oF(t,e,n){let r=Ke(),i=Ke();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=ui();return n.forEach(((u,h)=>{const p=a.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(je.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):ve(ov,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)})),{ks:l,qs:i}}))}function aF(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ky),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function lF(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,re.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Ki(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Wg(t,e,n){const r=Ue(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Ll(l))throw l;ve(ov,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function dx(t,e,n){const r=Ue(t);let i=je.min(),a=Ke();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,p,m){const v=Ue(h),E=v.xs.get(m);return E!==void 0?re.resolve(v.Ms.get(E)):v.Pi.getTargetData(p,m)})(r,l,xs(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((h=>{a=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:je.min(),n?a:Ke()))).next((u=>(cF(r,K4(e),u),{documents:u,Qs:a})))))}function cF(t,e,n){let r=t.Os.get(e)||je.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class hx{constructor(){this.activeTargetIds=Z4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uF{constructor(){this.Mo=new hx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="ConnectivityMonitor";class px{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(fx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(fx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh=null;function Hg(){return eh===null?eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():eh++,"0x"+eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="RestConnection",hF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Bh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=Hg(),u=this.zo(e,n.toUriEncodedString());ve(Bm,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,a);const{host:p}=new URL(u),m=ia(p);return this.Jo(e,u,h,r,m).then((v=>(ve(Bm,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw gl(Bm,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",r),v}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ol})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=hF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class mF extends fF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=Hg();return new Promise(((u,h)=>{const p=new MS;p.setWithCredentials(!0),p.listenOnce(LS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case fh.NO_ERROR:const v=p.getResponseJson();ve(vn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case fh.TIMEOUT:ve(vn,`RPC '${e}' ${l} timed out`),h(new ge(ne.DEADLINE_EXCEEDED,"Request time out"));break;case fh.HTTP_ERROR:const E=p.getStatus();if(ve(vn,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const P=x?.error;if(P&&P.status&&P.message){const b=(function(N){const D=N.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(D)>=0?D:ne.UNKNOWN})(P.status);h(new ge(b,P.message))}else h(new ge(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new ge(ne.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ve(vn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);ve(vn,`RPC '${e}' ${l} sending request:`,i),p.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=Hg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=FS(),u=jS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=a.join("");ve(vn,`Creating RPC '${e}' stream ${i}: ${m}`,h);const v=l.createWebChannel(m,h);this.I_(v);let E=!1,x=!1;const P=new pF({Yo:S=>{x?ve(vn,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(E||(ve(vn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),E=!0),ve(vn,`RPC '${e}' stream ${i} sending:`,S),v.send(S))},Zo:()=>v.close()}),b=(S,N,D)=>{S.listen(N,(L=>{try{D(L)}catch(H){setTimeout((()=>{throw H}),0)}}))};return b(v,Lc.EventType.OPEN,(()=>{x||(ve(vn,`RPC '${e}' stream ${i} transport opened.`),P.o_())})),b(v,Lc.EventType.CLOSE,(()=>{x||(x=!0,ve(vn,`RPC '${e}' stream ${i} transport closed`),P.a_(),this.E_(v))})),b(v,Lc.EventType.ERROR,(S=>{x||(x=!0,gl(vn,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),P.a_(new ge(ne.UNAVAILABLE,"The operation could not be completed")))})),b(v,Lc.EventType.MESSAGE,(S=>{if(!x){const N=S.data[0];rt(!!N,16349);const D=N,L=D?.error||D[0]?.error;if(L){ve(vn,`RPC '${e}' stream ${i} received error:`,L);const H=L.status;let Q=(function(R){const M=Ot[R];if(M!==void 0)return _1(M)})(H),ee=L.message;Q===void 0&&(Q=ne.INTERNAL,ee="Unknown error status: "+H+" with message "+L.message),x=!0,P.a_(new ge(Q,ee)),v.close()}else ve(vn,`RPC '${e}' stream ${i} received:`,N),P.u_(N)}})),b(u,VS.STAT_EVENT,(S=>{S.stat===Dg.PROXY?ve(vn,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Dg.NOPROXY&&ve(vn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t){return new wj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="PersistentStream";class M1{constructor(e,n,r,i,a,l,u,h){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new O1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ge(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(mx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ve(mx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gF extends M1{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=xj(this.serializer,e),r=(function(a){if(!("targetChange"in a))return je.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?je.min():l.readTime?Ts(l.readTime):je.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=$g(this.serializer),n.addTarget=(function(a,l){let u;const h=l.target;if(u=jg(h)?{documents:Sj(a,h)}:{query:Ij(a,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=T1(a,l.resumeToken);const p=Ug(a,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(je.min())>0){u.readTime=qh(a,l.snapshotVersion.toTimestamp());const p=Ug(a,l.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const r=Pj(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=$g(this.serializer),n.removeTarget=e,this.q_(n)}}class yF extends M1{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=bj(e.writeResults,e.commitTime),r=Ts(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=$g(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Tj(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{}class wF extends vF{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,Bg(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ge(ne.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Bg(n,r),i,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(ne.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _F{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ci(n),this.aa=!1):ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="RemoteStore";class EF{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{ca(this)&&(ve(ea,"Restarting streams for network reachability change."),await(async function(h){const p=Ue(h);p.Ea.add(4),await Cu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Of(p)})(this))}))})),this.Ra=new _F(r,i)}}async function Of(t){if(ca(t))for(const e of t.da)await e(!0)}async function Cu(t){for(const e of t.da)await e(!1)}function L1(t,e){const n=Ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),uv(n)?cv(n):jl(n).O_()&&lv(n,e))}function av(t,e){const n=Ue(t),r=jl(n);n.Ia.delete(e),r.O_()&&V1(n,e),n.Ia.size===0&&(r.O_()?r.L_():ca(n)&&n.Ra.set("Unknown"))}function lv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jl(t).Y_(e)}function V1(t,e){t.Va.Ue(e),jl(t).Z_(e)}function cv(t){t.Va=new mj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),jl(t).start(),t.Ra.ua()}function uv(t){return ca(t)&&!jl(t).x_()&&t.Ia.size>0}function ca(t){return Ue(t).Ea.size===0}function j1(t){t.Va=void 0}async function xF(t){t.Ra.set("Online")}async function TF(t){t.Ia.forEach(((e,n)=>{lv(t,e)}))}async function bF(t,e){j1(t),uv(t)?(t.Ra.ha(e),cv(t)):t.Ra.set("Unknown")}async function SF(t,e,n){if(t.Ra.set("Online"),e instanceof x1&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){ve(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gh(t,r)}else if(e instanceof yh?t.Va.Ze(e):e instanceof E1?t.Va.st(e):t.Va.tt(e),!n.isEqual(je.min()))try{const r=await D1(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const m=a.Ia.get(p);m&&a.Ia.set(p,m.withResumeToken(h.resumeToken,l))}})),u.targetMismatches.forEach(((h,p)=>{const m=a.Ia.get(h);if(!m)return;a.Ia.set(h,m.withResumeToken(ln.EMPTY_BYTE_STRING,m.snapshotVersion)),V1(a,h);const v=new Ki(m.target,h,p,m.sequenceNumber);lv(a,v)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){ve(ea,"Failed to raise snapshot:",r),await Gh(t,r)}}async function Gh(t,e,n){if(!Ll(e))throw e;t.Ea.add(1),await Cu(t),t.Ra.set("Offline"),n||(n=()=>D1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ve(ea,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Of(t)}))}function F1(t,e){return e().catch((n=>Gh(t,n,e)))}async function Mf(t){const e=Ue(t),n=oo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ky;for(;IF(e);)try{const i=await aF(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,CF(e,i)}catch(i){await Gh(e,i)}U1(e)&&B1(e)}function IF(t){return ca(t)&&t.Ta.length<10}function CF(t,e){t.Ta.push(e);const n=oo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function U1(t){return ca(t)&&!oo(t).x_()&&t.Ta.length>0}function B1(t){oo(t).start()}async function PF(t){oo(t).ra()}async function RF(t){const e=oo(t);for(const n of t.Ta)e.ea(n.mutations)}async function AF(t,e,n){const r=t.Ta.shift(),i=ev.from(r,e,n);await F1(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Mf(t)}async function kF(t,e){e&&oo(t).X_&&await(async function(r,i){if((function(l){return hj(l)&&l!==ne.ABORTED})(i.code)){const a=r.Ta.shift();oo(r).B_(),await F1(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Mf(r)}})(t,e),U1(t)&&B1(t)}async function gx(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),ve(ea,"RemoteStore received new credentials");const r=ca(n);n.Ea.add(3),await Cu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Of(n)}async function NF(t,e){const n=Ue(t);e?(n.Ea.delete(2),await Of(n)):e||(n.Ea.add(2),await Cu(n),n.Ra.set("Unknown"))}function jl(t){return t.ma||(t.ma=(function(n,r,i){const a=Ue(n);return a.sa(),new gF(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:xF.bind(null,t),t_:TF.bind(null,t),r_:bF.bind(null,t),H_:SF.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),uv(t)?cv(t):t.Ra.set("Unknown")):(await t.ma.stop(),j1(t))}))),t.ma}function oo(t){return t.fa||(t.fa=(function(n,r,i){const a=Ue(n);return a.sa(),new yF(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:PF.bind(null,t),r_:kF.bind(null,t),ta:RF.bind(null,t),na:AF.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Mf(t)):(await t.fa.stop(),t.Ta.length>0&&(ve(ea,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,u=new dv(e,n,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hv(t,e){if(ci("AsyncQueue",`${e}: ${t}`),Ll(t))return new ge(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{static emptySet(e){return new al(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Vc(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof al)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new al;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.ga=new Tt(Ie.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Oe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class El{constructor(e,n,r,i,a,l,u,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new El(e,n,al.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class OF{constructor(){this.queries=vx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ue(n),a=i.queries;i.queries=vx(),a.forEach(((l,u)=>{for(const h of u.Sa)h.onError(r)}))})(this,new ge(ne.ABORTED,"Firestore shutting down"))}}function vx(){return new la((t=>a1(t)),Pf)}async function z1(t,e){const n=Ue(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new DF,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=hv(l,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&fv(n)}async function $1(t,e){const n=Ue(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function MF(t,e){const n=Ue(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&fv(n)}function LF(t,e,n){const r=Ue(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function fv(t){t.Ca.forEach((e=>{e.next()}))}var qg,wx;(wx=qg||(qg={})).Ma="default",wx.Cache="cache";class W1{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new El(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.key=e}}class q1{constructor(e){this.key=e}}class VF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=l1(e),this.tu=new al(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new yx,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,v)=>{const E=i.get(m),x=Rf(this.query,v)?v:null,P=!!E&&this.mutatedKeys.has(E.key),b=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let S=!1;E&&x?E.data.isEqual(x.data)?P!==b&&(r.track({type:3,doc:x}),S=!0):this.su(E,x)||(r.track({type:2,doc:x}),S=!0,(h&&this.eu(x,h)>0||p&&this.eu(x,p)<0)&&(u=!0)):!E&&x?(r.track({type:0,doc:x}),S=!0):E&&!x&&(r.track({type:1,doc:E}),S=!0,(h||p)&&(u=!0)),S&&(x?(l=l.add(x),a=b?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,v)=>(function(x,P){const b=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Rt:S})}};return b(x)-b(P)})(m.type,v.type)||this.eu(m.doc,v.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,p=h!==this.Za;return this.Za=h,l.length!==0||p?{snapshot:new El(this.query,e.tu,a,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new q1(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new H1(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return El.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const pv="SyncEngine";class jF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class FF{constructor(e){this.key=e,this.hu=!1}}class UF{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new la((u=>a1(u)),Pf),this.Iu=new Map,this.Eu=new Set,this.du=new Tt(Ie.comparator),this.Au=new Map,this.Ru=new rv,this.Vu={},this.mu=new Map,this.fu=_l.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BF(t,e,n=!0){const r=J1(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await K1(r,e,n,!0),i}async function zF(t,e){const n=J1(t);await K1(n,e,!0,!1)}async function K1(t,e,n,r){const i=await lF(t.localStore,xs(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await $F(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&L1(t.remoteStore,i),u}async function $F(t,e,n,r,i){t.pu=(v,E,x)=>(async function(b,S,N,D){let L=S.view.ru(N);L.Cs&&(L=await dx(b.localStore,S.query,!1).then((({documents:k})=>S.view.ru(k,L))));const H=D&&D.targetChanges.get(S.targetId),Q=D&&D.targetMismatches.get(S.targetId)!=null,ee=S.view.applyChanges(L,b.isPrimaryClient,H,Q);return Ex(b,S.targetId,ee.au),ee.snapshot})(t,v,E,x);const a=await dx(t.localStore,e,!0),l=new VF(e,a.Qs),u=l.ru(a.documents),h=Iu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=l.applyChanges(u,t.isPrimaryClient,h);Ex(t,n,p.au);const m=new jF(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function WF(t,e,n){const r=Ue(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!Pf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Wg(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&av(r.remoteStore,i.targetId),Kg(r,i.targetId)})).catch(Ml)):(Kg(r,i.targetId),await Wg(r.localStore,i.targetId,!0))}async function HF(t,e){const n=Ue(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),av(n.remoteStore,r.targetId))}async function qF(t,e,n){const r=ZF(t);try{const i=await(function(l,u){const h=Ue(l),p=gt.now(),m=u.reduce(((x,P)=>x.add(P.key)),Ke());let v,E;return h.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let P=ui(),b=Ke();return h.Ns.getEntries(x,m).next((S=>{P=S,P.forEach(((N,D)=>{D.isValidDocument()||(b=b.add(N))}))})).next((()=>h.localDocuments.getOverlayedDocuments(x,P))).next((S=>{v=S;const N=[];for(const D of u){const L=aj(D,v.get(D.key).overlayedDocument);L!=null&&N.push(new po(D.key,L,ZS(L.value.mapValue),Vr.exists(!0)))}return h.mutationQueue.addMutationBatch(x,p,N,u)})).next((S=>{E=S;const N=S.applyToLocalDocumentSet(v,b);return h.documentOverlayCache.saveOverlays(x,S.batchId,N)}))})).then((()=>({batchId:E.batchId,changes:u1(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,h){let p=l.Vu[l.currentUser.toKey()];p||(p=new Tt(qe)),p=p.insert(u,h),l.Vu[l.currentUser.toKey()]=p})(r,i.batchId,n),await Pu(r,i.changes),await Mf(r.remoteStore)}catch(i){const a=hv(i,"Failed to persist write");n.reject(a)}}async function G1(t,e){const n=Ue(t);try{const r=await iF(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&(rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?rt(l.hu,14607):i.removedDocuments.size>0&&(rt(l.hu,42227),l.hu=!1))})),await Pu(n,r,e)}catch(r){await Ml(r)}}function _x(t,e,n){const r=Ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const h=Ue(l);h.onlineState=u;let p=!1;h.queries.forEach(((m,v)=>{for(const E of v.Sa)E.va(u)&&(p=!0)})),p&&fv(h)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function KF(t,e,n){const r=Ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new Tt(Ie.comparator);l=l.insert(a,_n.newNoDocument(a,je.min()));const u=Ke().add(a),h=new Nf(je.min(),new Map,new Tt(qe),l,u);await G1(r,h),r.du=r.du.remove(a),r.Au.delete(e),mv(r)}else await Wg(r.localStore,e,!1).then((()=>Kg(r,e,n))).catch(Ml)}async function GF(t,e){const n=Ue(t),r=e.batch.batchId;try{const i=await sF(n.localStore,e);Y1(n,r,null),Q1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pu(n,i)}catch(i){await Ml(i)}}async function QF(t,e,n){const r=Ue(t);try{const i=await(function(l,u){const h=Ue(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let m;return h.mutationQueue.lookupMutationBatch(p,u).next((v=>(rt(v!==null,37113),m=v.keys(),h.mutationQueue.removeMutationBatch(p,v)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,m,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m))).next((()=>h.localDocuments.getDocuments(p,m)))}))})(r.localStore,e);Y1(r,e,n),Q1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pu(r,i)}catch(i){await Ml(i)}}function Q1(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Y1(t,e,n){const r=Ue(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Kg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||X1(t,r)}))}function X1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(av(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),mv(t))}function Ex(t,e,n){for(const r of n)r instanceof H1?(t.Ru.addReference(r.key,e),YF(t,r)):r instanceof q1?(ve(pv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||X1(t,r.key)):Oe(19791,{wu:r})}function YF(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ve(pv,"New document in limbo: "+n),t.Eu.add(r),mv(t))}function mv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ie(ut.fromString(e)),r=t.fu.next();t.Au.set(r,new FF(n)),t.du=t.du.insert(n,r),L1(t.remoteStore,new Ki(xs(Jy(n.path)),r,"TargetPurposeLimboResolution",Sf.ce))}}async function Pu(t,e,n){const r=Ue(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,h)=>{l.push(r.pu(h,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const m=p?!p.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(p){i.push(p);const m=iv.As(h.targetId,p);a.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(h,p){const m=Ue(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>re.forEach(p,(E=>re.forEach(E.Es,(x=>m.persistence.referenceDelegate.addReference(v,E.targetId,x))).next((()=>re.forEach(E.ds,(x=>m.persistence.referenceDelegate.removeReference(v,E.targetId,x)))))))))}catch(v){if(!Ll(v))throw v;ve(ov,"Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const x=m.Ms.get(E),P=x.snapshotVersion,b=x.withLastLimboFreeSnapshotVersion(P);m.Ms=m.Ms.insert(E,b)}}})(r.localStore,a))}async function XF(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){ve(pv,"User change. New user:",e.toKey());const r=await N1(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((u=>{u.forEach((h=>{h.reject(new ge(ne.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pu(n,r.Ls)}}function JF(t,e){const n=Ue(t),r=n.Au.get(e);if(r&&r.hu)return Ke().add(r.key);{let i=Ke();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function J1(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=G1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KF.bind(null,e),e.Pu.H_=MF.bind(null,e.eventManager),e.Pu.yu=LF.bind(null,e.eventManager),e}function ZF(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QF.bind(null,e),e}class Qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Df(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return rF(this.persistence,new eF,e.initialUser,this.serializer)}Cu(e){return new k1(sv.mi,this.serializer)}Du(e){return new uF}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qh.provider={build:()=>new Qh};class e3 extends Qh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){rt(this.persistence.referenceDelegate instanceof Kh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Fj(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new k1((r=>Kh.mi(r,n)),this.serializer)}}class Gg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_x(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XF.bind(null,this.syncEngine),await NF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new OF})()}createDatastore(e){const n=Df(e.databaseInfo.databaseId),r=(function(a){return new mF(a)})(e.databaseInfo);return(function(a,l,u,h){return new wF(a,l,u,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,u){return new EF(r,i,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>_x(this.syncEngine,n,0)),(function(){return px.v()?new px:new dF})())}createSyncEngine(e,n){return(function(i,a,l,u,h,p,m){const v=new UF(i,a,l,u,h,p);return m&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ue(n);ve(ea,"RemoteStore shutting down."),r.Ea.add(5),await Cu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gg.provider={build:()=>new Gg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="FirestoreClient";class t3{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wn.UNAUTHENTICATED,this.clientId=qy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{ve(ao,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ve(ao,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function $m(t,e){t.asyncQueue.verifyOperationInProgress(),ve(ao,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await N1(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function xx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await n3(t);ve(ao,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>gx(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>gx(e.remoteStore,i))),t._onlineComponents=e}async function n3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(ao,"Using user provided OfflineComponentProvider");try{await $m(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;gl("Error using user provided cache. Falling back to memory cache: "+n),await $m(t,new Qh)}}else ve(ao,"Using default OfflineComponentProvider"),await $m(t,new e3(void 0));return t._offlineComponents}async function eI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(ao,"Using user provided OnlineComponentProvider"),await xx(t,t._uninitializedComponentsProvider._online)):(ve(ao,"Using default OnlineComponentProvider"),await xx(t,new Gg))),t._onlineComponents}function r3(t){return eI(t).then((e=>e.syncEngine))}async function tI(t){const e=await eI(t),n=e.eventManager;return n.onListen=BF.bind(null,e.syncEngine),n.onUnlisten=WF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=HF.bind(null,e.syncEngine),n}function s3(t,e,n={}){const r=new ri;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,h,p){const m=new Z1({next:E=>{m.Nu(),l.enqueueAndForget((()=>$1(a,v)));const x=E.docs.has(u);!x&&E.fromCache?p.reject(new ge(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&E.fromCache&&h&&h.source==="server"?p.reject(new ge(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new W1(Jy(u.path),m,{includeMetadataChanges:!0,qa:!0});return z1(a,v)})(await tI(t),t.asyncQueue,e,n,r))),r.promise}function i3(t,e,n={}){const r=new ri;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,h,p){const m=new Z1({next:E=>{m.Nu(),l.enqueueAndForget((()=>$1(a,v))),E.fromCache&&h.source==="server"?p.reject(new ge(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new W1(u,m,{includeMetadataChanges:!0,qa:!0});return z1(a,v)})(await tI(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="firestore.googleapis.com",bx=!0;class Sx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rI,this.ssl=bx}else this.host=e.host,this.ssl=e.ssl??bx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=A1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Vj)throw new ge(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}w4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new c4;switch(r.type){case"firstParty":return new f4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Tx.get(n);r&&(ve("ComponentProvider","Removing Datastore"),Tx.delete(n),r.terminate())})(this),Promise.resolve()}}function o3(t,e,n,r={}){t=Cs(t,Lf);const i=ia(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(Ny(`https://${u}`),Dy("Firestore",!0)),a.host!==rI&&a.host!==u&&gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:u,ssl:i,emulatorOptions:r};if(!Qo(h,l)&&(t._setSettings(h),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=wn.MOCK_USER;else{p=qb(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ge(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new wn(v)}t._authCredentials=new u4(new BS(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mo(this.firestore,e,this._query)}}class At{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bu(n,At._jsonSchema))return new At(e,r||null,new Ie(ut.fromString(n.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:Ft("string",At._jsonSchemaVersion),referencePath:Ft("string")};class Ji extends mo{constructor(e,n,r){super(e,n,Jy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new Ie(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function Fl(t,e,...n){if(t=Bt(t),zS("collection","path",e),t instanceof Lf){const r=ut.fromString(e,...n);return jE(r),new Ji(t,null,r)}{if(!(t instanceof At||t instanceof Ji))throw new ge(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return jE(r),new Ji(t.firestore,null,r)}}function Yh(t,e,...n){if(t=Bt(t),arguments.length===1&&(e=qy.newId()),zS("doc","path",e),t instanceof Lf){const r=ut.fromString(e,...n);return VE(r),new At(t,null,new Ie(r))}{if(!(t instanceof At||t instanceof Ji))throw new ge(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return VE(r),new At(t.firestore,t instanceof Ji?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="AsyncQueue";class Cx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new O1(this,"async_queue_retry"),this._c=()=>{const r=zm();r&&ve(Ix,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=zm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ri;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ll(e))throw e;ve(Ix,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ci("INTERNAL UNHANDLED ERROR: ",Px(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=dv.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Oe(47125,{Pc:Px(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Px(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ul extends Lf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Cx,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cx(e),this._firestoreClient=void 0,await e}}}function a3(t,e){const n=typeof t=="object"?t:Ly(),r=typeof t=="string"?t:Bh,i=wf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=$b("firestore");a&&o3(i,...a)}return i}function gv(t){if(t._terminated)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||l3(t),t._firestoreClient}function l3(t){const e=t._freezeSettings(),n=(function(i,a,l,u){return new k4(i,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,nI(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new t3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _r(ln.fromBase64String(e))}catch(n){throw new ge(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _r(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_r._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,_r._jsonSchema))return _r.fromBase64String(e.bytes)}}_r._jsonSchemaVersion="firestore/bytes/1.0",_r._jsonSchema={type:Ft("string",_r._jsonSchemaVersion),bytes:Ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bs._jsonSchemaVersion}}static fromJSON(e){if(bu(e,bs._jsonSchema))return new bs(e.latitude,e.longitude)}}bs._jsonSchemaVersion="firestore/geoPoint/1.0",bs._jsonSchema={type:Ft("string",bs._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ss._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,Ss._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ss(e.vectorValues);throw new ge(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ss._jsonSchemaVersion="firestore/vectorValue/1.0",Ss._jsonSchema={type:Ft("string",Ss._jsonSchemaVersion),vectorValues:Ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=/^__.*__$/;class u3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new po(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}class sI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new po(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ac:t})}}class yv{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new yv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(iI(this.Ac)&&c3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class d3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Df(e)}Cc(e,n,r,i=!1){return new yv({Ac:e,methodName:n,Dc:r,path:on.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ff(t){const e=t._freezeSettings(),n=Df(t._databaseId);return new d3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oI(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);wv("Data must be an object, but it was:",l,r);const u=aI(r,l);let h,p;if(a.merge)h=new ir(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const v of a.mergeFields){const E=Qg(e,v,n);if(!l.contains(E))throw new ge(ne.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);cI(m,E)||m.push(E)}h=new ir(m),p=l.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,p=l.fieldTransforms;return new u3(new jn(u),h,p)}class Uf extends jf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uf}}class vv extends jf{_toFieldTransform(e){return new rj(e.path,new cu)}isEqual(e){return e instanceof vv}}function h3(t,e,n,r){const i=t.Cc(1,e,n);wv("Data must be an object, but it was:",i,r);const a=[],l=jn.empty();fo(r,((h,p)=>{const m=_v(e,h,n);p=Bt(p);const v=i.yc(m);if(p instanceof Uf)a.push(m);else{const E=Ru(p,v);E!=null&&(a.push(m),l.set(m,E))}}));const u=new ir(a);return new sI(l,u,i.fieldTransforms)}function f3(t,e,n,r,i,a){const l=t.Cc(1,e,n),u=[Qg(e,r,n)],h=[i];if(a.length%2!=0)throw new ge(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)u.push(Qg(e,a[E])),h.push(a[E+1]);const p=[],m=jn.empty();for(let E=u.length-1;E>=0;--E)if(!cI(p,u[E])){const x=u[E];let P=h[E];P=Bt(P);const b=l.yc(x);if(P instanceof Uf)p.push(x);else{const S=Ru(P,b);S!=null&&(p.push(x),m.set(x,S))}}const v=new ir(p);return new sI(m,v,l.fieldTransforms)}function p3(t,e,n,r=!1){return Ru(n,t.Cc(r?4:3,e))}function Ru(t,e){if(lI(t=Bt(t)))return wv("Unsupported field value:",e,t),aI(t,e);if(t instanceof jf)return(function(r,i){if(!iI(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const u of r){let h=Ru(u,i.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ej(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=gt.fromDate(r);return{timestampValue:qh(i.serializer,a)}}if(r instanceof gt){const a=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qh(i.serializer,a)}}if(r instanceof bs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _r)return{bytesValue:T1(i.serializer,r._byteString)};if(r instanceof At){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:nv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ss)return(function(l,u){return{mapValue:{fields:{[XS]:{stringValue:JS},[zh]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw u.Sc("VectorValues must only contain numeric values.");return Zy(u.serializer,p)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${bf(r)}`)})(t,e)}function aI(t,e){const n={};return HS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fo(t,((r,i)=>{const a=Ru(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function lI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof bs||t instanceof _r||t instanceof At||t instanceof jf||t instanceof Ss)}function wv(t,e,n){if(!lI(n)||!$S(n)){const r=bf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Qg(t,e,n){if((e=Bt(e))instanceof Vf)return e._internalPath;if(typeof e=="string")return _v(t,e);throw Xh("Field path arguments must be of type string or ",t,!1,void 0,n)}const m3=new RegExp("[~\\*/\\[\\]]");function _v(t,e,n){if(e.search(m3)>=0)throw Xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vf(...e.split("."))._internalPath}catch{throw Xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xh(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new ge(ne.INVALID_ARGUMENT,u+t+h)}function cI(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class g3 extends uI{data(){return super.data()}}function Bf(t,e){return typeof e=="string"?_v(t,e):e instanceof Vf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ev{}class xv extends Ev{}function Tv(t,e,...n){let r=[];e instanceof Ev&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((h=>h instanceof bv)).length,u=a.filter((h=>h instanceof zf)).length;if(l>1||l>0&&u>0)throw new ge(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class zf extends xv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zf(e,n,r)}_apply(e){const n=this._parse(e);return dI(e._query,n),new mo(e.firestore,e.converter,Fg(e._query,n))}_parse(e){const n=Ff(e.firestore);return(function(a,l,u,h,p,m,v){let E;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ge(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){Ax(v,m);const P=[];for(const b of v)P.push(Rx(h,a,b));E={arrayValue:{values:P}}}else E=Rx(h,a,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||Ax(v,m),E=p3(u,l,v,m==="in"||m==="not-in");return Vt.create(p,m,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function v3(t,e,n){const r=e,i=Bf("where",t);return zf._create(i,r,n)}class bv extends Ev{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bv(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:zr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const u=a.getFlattenedFilters();for(const h of u)dI(l,h),l=Fg(l,h)})(e._query,n),new mo(e.firestore,e.converter,Fg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sv extends xv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sv(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new ge(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ge(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lu(a,l)})(e._query,this._field,this._direction);return new mo(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new Vl(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Iv(t,e="asc"){const n=e,r=Bf("orderBy",t);return Sv._create(r,n)}class Cv extends xv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Cv(e,n,r)}_apply(e){return new mo(e.firestore,e.converter,Wh(e._query,this._limit,this._limitType))}}function Pv(t){return _4("limit",t),Cv._create("limit",t,"F")}function Rx(t,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new ge(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!o1(e)&&n.indexOf("/")!==-1)throw new ge(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ut.fromString(n));if(!Ie.isDocumentKey(r))throw new ge(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qE(t,new Ie(r))}if(n instanceof At)return qE(t,n._key);throw new ge(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bf(n)}.`)}function Ax(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dI(t,e){const n=(function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ge(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class w3{convertValue(e,n="none"){switch(io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(so(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fo(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[zh].arrayValue?.values?.map((r=>Rt(r.doubleValue)));return new Ss(n)}convertGeoPoint(e){return new bs(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=ro(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ut.fromString(e);rt(R1(r),9688,{name:e});const i=new ou(r.get(1),r.get(3)),a=new Ie(r.popFirst(5));return i.isEqual(n)||ci(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Fc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ko extends uI{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Bf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ko._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ko._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ko._jsonSchema={type:Ft("string",Ko._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class vh extends Ko{data(e={}){return super.data(e)}}class ll{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new vh(this._firestore,this._userDataWriter,r.key,r,new Fc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const h=new vh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Fc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const h=new vh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Fc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:_3(u.type),doc:h,oldIndex:p,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ll._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t){t=Cs(t,At);const e=Cs(t.firestore,Ul);return s3(gv(e),t._key).then((n=>T3(e,t,n)))}ll._jsonSchemaVersion="firestore/querySnapshot/1.0",ll._jsonSchema={type:Ft("string",ll._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class pI extends w3{constructor(e){super(),this.firestore=e}convertBytes(e){return new _r(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function Rv(t){t=Cs(t,mo);const e=Cs(t.firestore,Ul),n=gv(e),r=new pI(e);return y3(t._query),i3(n,t._query).then((i=>new ll(e,r,t,i)))}function E3(t,e,n){t=Cs(t,At);const r=Cs(t.firestore,Ul),i=hI(t.converter,e);return kv(r,[oI(Ff(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Vr.none())])}function x3(t,e,n,...r){t=Cs(t,At);const i=Cs(t.firestore,Ul),a=Ff(i);let l;return l=typeof(e=Bt(e))=="string"||e instanceof Vf?f3(a,"updateDoc",t._key,e,n,r):h3(a,"updateDoc",t._key,e),kv(i,[l.toMutation(t._key,Vr.exists(!0))])}function Av(t,e){const n=Cs(t.firestore,Ul),r=Yh(t),i=hI(t.converter,e);return kv(n,[oI(Ff(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Vr.exists(!1))]).then((()=>r))}function kv(t,e){return(function(r,i){const a=new ri;return r.asyncQueue.enqueueAndForget((async()=>qF(await r3(r),i,a))),a.promise})(gv(t),e)}function T3(t,e,n){const r=n.docs.get(e._key),i=new pI(t);return new Ko(t,i,e._key,r,new Fc(n.hasPendingWrites,n.fromCache),e.converter)}function cl(){return new vv("serverTimestamp")}(function(e,n=!0){(function(i){Ol=i})(oa),Yo(new to("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new Ul(new d4(r.getProvider("auth-internal")),new p4(l,r.getProvider("app-check-internal")),(function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ge(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(p.options.projectId,m)})(l,i),l);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),ws(DE,OE,e),ws(DE,OE,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="firebasestorage.googleapis.com",b3="storageBucket",S3=120*1e3,I3=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Ns{constructor(e,n,r=0){super(Wm(e),`Firebase Storage: ${n} (${Wm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ds.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rs||(Rs={}));function Wm(t){return"storage/"+t}function C3(){const t="An unknown error occurred, please check the error payload for server response.";return new Ds(Rs.UNKNOWN,t)}function P3(){return new Ds(Rs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function R3(){return new Ds(Rs.CANCELED,"User canceled the upload/download.")}function A3(t){return new Ds(Rs.INVALID_URL,"Invalid URL '"+t+"'.")}function k3(t){return new Ds(Rs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function kx(t){return new Ds(Rs.INVALID_ARGUMENT,t)}function gI(){return new Ds(Rs.APP_DELETED,"The Firebase app was deleted.")}function N3(t){return new Ds(Rs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Lr.makeFromUrl(e,n)}catch{return new Lr(e,"")}if(r.path==="")return r;throw k3(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+i+l,"i"),h={bucket:1,path:3};function p(H){H.path_=decodeURIComponent(H.path)}const m="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",x=new RegExp(`^https?://${v}/${m}/b/${i}/o${E}`,"i"),P={bucket:1,path:3},b=n===mI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",N=new RegExp(`^https?://${b}/${i}/${S}`,"i"),L=[{regex:u,indices:h,postModify:a},{regex:x,indices:P,postModify:p},{regex:N,indices:{bucket:1,path:2},postModify:p}];for(let H=0;H<L.length;H++){const Q=L[H],ee=Q.regex.exec(e);if(ee){const k=ee[Q.indices.bucket];let R=ee[Q.indices.path];R||(R=""),r=new Lr(k,R),Q.postModify(r);break}}if(r==null)throw A3(e);return r}}class D3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t,e,n){let r=1,i=null,a=null,l=!1,u=0;function h(){return u===2}let p=!1;function m(...S){p||(p=!0,e.apply(null,S))}function v(S){i=setTimeout(()=>{i=null,t(x,h())},S)}function E(){a&&clearTimeout(a)}function x(S,...N){if(p){E();return}if(S){E(),m.call(null,S,...N);return}if(h()||l){E(),m.call(null,S,...N);return}r<64&&(r*=2);let L;u===1?(u=2,L=0):L=(r+Math.random())*1e3,v(L)}let P=!1;function b(S){P||(P=!0,E(),!p&&(i!==null?(S||(u=2),clearTimeout(i),v(0)):S||(u=1)))}return v(0),a=setTimeout(()=>{l=!0,b(!0)},n),b}function M3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t){return t!==void 0}function Nx(t,e,n,r){if(r<e)throw kx(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw kx(`Invalid value for '${t}'. Expected ${n} or less.`)}function V3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Jh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Jh||(Jh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n,r,i,a,l,u,h,p,m,v,E=!0,x=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=m,this.connectionFactory_=v,this.retry=E,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,b)=>{this.resolve_=P,this.reject_=b,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new th(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const h=u.loaded,p=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===Jh.NO_ERROR,h=a.getStatus();if(!u||j3(h,this.additionalRetryCodes_)&&this.retry){const m=a.getErrorCode()===Jh.ABORT;r(!1,new th(!1,null,m));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new th(p,a))})},n=(r,i)=>{const a=this.resolve_,l=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());L3(h)?a(h):a()}catch(h){l(h)}else if(u!==null){const h=C3();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(i.canceled){const h=this.appDelete_?gI():R3();l(h)}else{const h=P3();l(h)}};this.canceled_?n(!1,new th(!1,null,!0)):this.backoffId_=O3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&M3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class th{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function U3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function B3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function z3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function $3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function W3(t,e,n,r,i,a,l=!0,u=!1){const h=V3(t.urlParams),p=t.url+h,m=Object.assign({},t.headers);return z3(m,e),U3(m,n),B3(m,a),$3(m,r),new F3(p,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function q3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this._service=e,n instanceof Lr?this._location=n:this._location=Lr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Zh(e,n)}get root(){const e=new Lr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return q3(this._location.path)}get storage(){return this._service}get parent(){const e=H3(this._location.path);if(e===null)return null;const n=new Lr(this._location.bucket,e);return new Zh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw N3(e)}}function Dx(t,e){const n=e?.[b3];return n==null?null:Lr.makeFromBucketSpec(n,t)}function K3(t,e,n,r={}){t.host=`${e}:${n}`;const i=ia(e);i&&(Ny(`https://${t.host}/b`),Dy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:qb(a,t.app.options.projectId))}class G3{constructor(e,n,r,i,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=mI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=S3,this._maxUploadRetryTime=I3,this._requests=new Set,i!=null?this._bucket=Lr.makeFromBucketSpec(i,this._host):this._bucket=Dx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Lr.makeFromBucketSpec(this._url,e):this._bucket=Dx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Nx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Nx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zh(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new D3(gI());{const l=W3(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Ox="@firebase/storage",Mx="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="storage";function Q3(t=Ly(),e){t=Bt(t);const r=wf(t,yI).getImmediate({identifier:e}),i=$b("storage");return i&&Y3(r,...i),r}function Y3(t,e,n,r={}){K3(t,e,n,r)}function X3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new G3(n,r,i,e,oa)}function J3(){Yo(new to(yI,X3,"PUBLIC").setMultipleInstances(!0)),ws(Ox,Mx,""),ws(Ox,Mx,"esm2020")}J3();const Z3={apiKey:"AIzaSyBJRLgfn2KjNjxOGCEjQxyievIlCdkqVa0",authDomain:"hive-demo-prac.firebaseapp.com",projectId:"hive-demo-prac",storageBucket:"hive-demo-prac.firebasestorage.app",messagingSenderId:"653698902421",appId:"1:653698902421:web:44ce02b13941951c106e9c"},Nv=Qb(Z3),si=DS(Nv),di=a3(Nv);Q3(Nv);function lo(){const t=Nl(),[e,n]=T.useState(si.currentUser);T.useEffect(()=>{const i=Ef(si,a=>n(a));return()=>i()},[]);const r=async()=>{await QL(si),t("/")};return y.jsx("nav",{className:"sticky top-0 z-40 w-full border-b bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:y.jsxs("div",{className:"container mx-auto flex h-14 items-center justify-between px-4",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(nr,{to:"/",className:"font-bold",children:"Hiver"}),y.jsxs("div",{className:"hidden gap-3 sm:flex",children:[y.jsx(nr,{to:"/discover",className:"text-sm opacity-80 hover:opacity-100",children:"Discover"}),y.jsx(nr,{to:"/connections",className:"text-sm opacity-80 hover:opacity-100",children:"Connections"}),y.jsx(nr,{to:"/feed",className:"text-sm opacity-80 hover:opacity-100",children:"Feed"})]})]}),y.jsx("div",{className:"flex items-center gap-2",children:e?y.jsxs(y.Fragment,{children:[y.jsx(nr,{to:"/create-hive",children:y.jsx(jt,{size:"sm",className:"bg-primary text-primary-foreground hover:bg-primary/90",children:"Create Hive"})}),y.jsx(nr,{to:"/profile",children:y.jsx(jt,{variant:"outline",size:"sm",children:"Profile"})}),y.jsx(jt,{variant:"ghost",size:"sm",onClick:r,children:"Sign out"})]}):y.jsx(nr,{to:"/auth",children:y.jsx(jt,{size:"sm",className:"bg-primary text-primary-foreground hover:bg-primary/90",children:"Sign in"})})})]})})}async function Dv(){const t=DS(),e=t.currentUser;return e?{user:{id:e.uid,email:e.email}}:new Promise(n=>{const r=Ef(t,i=>{r(),n(i?{user:{id:i.uid,email:i.email}}:{user:null})})})}async function e6(t){const e=Fl(di,"hives"),n={...t,created_at:cl()};return{id:(await Av(e,n)).id}}async function t6(t){const e=Fl(di,"buzz"),n={...t,created_at:cl()};return{id:(await Av(e,n)).id}}async function n6(t){const e=Fl(di,"hive_attendees"),n={...t,created_at:cl()};return{id:(await Av(e,n)).id}}async function r6(t=20){const e=Tv(Fl(di,"hives"),Iv("created_at","desc"),Pv(t));return(await Rv(e)).docs.map(r=>({id:r.id,...r.data()}))}async function s6(t=50){const e=Tv(Fl(di,"buzz"),Iv("created_at","desc"),Pv(t));return(await Rv(e)).docs.map(r=>({id:r.id,...r.data()}))}const Jt=T.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:Ye("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Jt.displayName="Card";const jr=T.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:Ye("flex flex-col space-y-1.5 p-6",t),...e}));jr.displayName="CardHeader";const fi=T.forwardRef(({className:t,...e},n)=>y.jsx("h3",{ref:n,className:Ye("text-2xl font-semibold leading-none tracking-tight",t),...e}));fi.displayName="CardTitle";const $f=T.forwardRef(({className:t,...e},n)=>y.jsx("p",{ref:n,className:Ye("text-sm text-muted-foreground",t),...e}));$f.displayName="CardDescription";const En=T.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:Ye("p-6 pt-0",t),...e}));En.displayName="CardContent";const i6=T.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:Ye("flex items-center p-6 pt-0",t),...e}));i6.displayName="CardFooter";const o6=af("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function wh({className:t,variant:e,...n}){return y.jsx("div",{className:Ye(o6({variant:e}),t),...n})}function Ze(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ar(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Sn(t,e){const n=Ze(t);return isNaN(e)?ar(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function $r(t,e){const n=Ze(t);if(isNaN(e))return ar(t,NaN);if(!e)return n;const r=n.getDate(),i=ar(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const Ov=6048e5,a6=864e5;let l6={};function Au(){return l6}function As(t,e){const n=Au(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Ze(t),a=i.getDay(),l=(a<r?7:0)+a-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function ta(t){return As(t,{weekStartsOn:1})}function vI(t){const e=Ze(t),n=e.getFullYear(),r=ar(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=ta(r),a=ar(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const l=ta(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=l.getTime()?n:n-1}function xl(t){const e=Ze(t);return e.setHours(0,0,0,0),e}function ef(t){const e=Ze(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ys(t,e){const n=xl(t),r=xl(e),i=+n-ef(n),a=+r-ef(r);return Math.round((i-a)/a6)}function c6(t){const e=vI(t),n=ar(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ta(n)}function Yg(t,e){const n=e*7;return Sn(t,n)}function u6(t,e){return $r(t,e*12)}function d6(t){let e;return t.forEach(function(n){const r=Ze(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function h6(t){let e;return t.forEach(n=>{const r=Ze(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Fn(t,e){const n=xl(t),r=xl(e);return+n==+r}function Mv(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function f6(t){if(!Mv(t)&&typeof t!="number")return!1;const e=Ze(t);return!isNaN(Number(e))}function hu(t,e){const n=Ze(t),r=Ze(e),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function p6(t,e,n){const r=As(t,n),i=As(e,n),a=+r-ef(r),l=+i-ef(i);return Math.round((a-l)/Ov)}function Lv(t){const e=Ze(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Un(t){const e=Ze(t);return e.setDate(1),e.setHours(0,0,0,0),e}function wI(t){const e=Ze(t),n=ar(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Vv(t,e){const n=Au(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Ze(t),a=i.getDay(),l=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}function _I(t){return Vv(t,{weekStartsOn:1})}const m6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},g6=(t,e,n)=>{let r;const i=m6[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Hm(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const y6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},v6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},w6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_6={date:Hm({formats:y6,defaultWidth:"full"}),time:Hm({formats:v6,defaultWidth:"full"}),dateTime:Hm({formats:w6,defaultWidth:"full"})},E6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},x6=(t,e,n,r)=>E6[t];function Nc(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,u=n?.width?String(n.width):l;i=t.formattingValues[u]||t.formattingValues[l]}else{const l=t.defaultWidth,u=n?.width?String(n.width):t.defaultWidth;i=t.values[u]||t.values[l]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const T6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},b6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},S6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},I6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},C6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},P6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},R6=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},A6={ordinalNumber:R6,era:Nc({values:T6,defaultWidth:"wide"}),quarter:Nc({values:b6,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Nc({values:S6,defaultWidth:"wide"}),day:Nc({values:I6,defaultWidth:"wide"}),dayPeriod:Nc({values:C6,defaultWidth:"wide",formattingValues:P6,defaultFormattingWidth:"wide"})};function Dc(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const l=a[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(u)?N6(u,v=>v.test(l)):k6(u,v=>v.test(l));let p;p=t.valueCallback?t.valueCallback(h):h,p=n.valueCallback?n.valueCallback(p):p;const m=e.slice(l.length);return{value:p,rest:m}}}function k6(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function N6(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function D6(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let l=t.valueCallback?t.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;const u=e.slice(i.length);return{value:l,rest:u}}}const O6=/^(\d+)(th|st|nd|rd)?/i,M6=/\d+/i,L6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},V6={any:[/^b/i,/^(a|c)/i]},j6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},F6={any:[/1/i,/2/i,/3/i,/4/i]},U6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},B6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},z6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},W6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},H6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},q6={ordinalNumber:D6({matchPattern:O6,parsePattern:M6,valueCallback:t=>parseInt(t,10)}),era:Dc({matchPatterns:L6,defaultMatchWidth:"wide",parsePatterns:V6,defaultParseWidth:"any"}),quarter:Dc({matchPatterns:j6,defaultMatchWidth:"wide",parsePatterns:F6,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Dc({matchPatterns:U6,defaultMatchWidth:"wide",parsePatterns:B6,defaultParseWidth:"any"}),day:Dc({matchPatterns:z6,defaultMatchWidth:"wide",parsePatterns:$6,defaultParseWidth:"any"}),dayPeriod:Dc({matchPatterns:W6,defaultMatchWidth:"any",parsePatterns:H6,defaultParseWidth:"any"})},EI={code:"en-US",formatDistance:g6,formatLong:_6,formatRelative:x6,localize:A6,match:q6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function K6(t){const e=Ze(t);return ys(e,wI(e))+1}function xI(t){const e=Ze(t),n=+ta(e)-+c6(e);return Math.round(n/Ov)+1}function TI(t,e){const n=Ze(t),r=n.getFullYear(),i=Au(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=ar(t,0);l.setFullYear(r+1,0,a),l.setHours(0,0,0,0);const u=As(l,e),h=ar(t,0);h.setFullYear(r,0,a),h.setHours(0,0,0,0);const p=As(h,e);return n.getTime()>=u.getTime()?r+1:n.getTime()>=p.getTime()?r:r-1}function G6(t,e){const n=Au(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=TI(t,e),a=ar(t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),As(a,e)}function bI(t,e){const n=Ze(t),r=+As(n,e)-+G6(n,e);return Math.round(r/Ov)+1}function ot(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ui={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ot(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ot(n+1,2)},d(t,e){return ot(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ot(t.getHours()%12||12,e.length)},H(t,e){return ot(t.getHours(),e.length)},m(t,e){return ot(t.getMinutes(),e.length)},s(t,e){return ot(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return ot(i,e.length)}},Ka={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Lx={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ui.y(t,e)},Y:function(t,e,n,r){const i=TI(t,r),a=i>0?i:1-i;if(e==="YY"){const l=a%100;return ot(l,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):ot(a,e.length)},R:function(t,e){const n=vI(t);return ot(n,e.length)},u:function(t,e){const n=t.getFullYear();return ot(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ot(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ot(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ui.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ot(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=bI(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):ot(i,e.length)},I:function(t,e,n){const r=xI(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ot(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ui.d(t,e)},D:function(t,e,n){const r=K6(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ot(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return ot(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return ot(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return ot(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Ka.noon:r===0?i=Ka.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Ka.evening:r>=12?i=Ka.afternoon:r>=4?i=Ka.morning:i=Ka.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ui.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ui.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ot(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ot(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ui.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ui.s(t,e)},S:function(t,e){return Ui.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return jx(r);case"XXXX":case"XX":return Ho(r);case"XXXXX":case"XXX":default:return Ho(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return jx(r);case"xxxx":case"xx":return Ho(r);case"xxxxx":case"xxx":default:return Ho(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Vx(r,":");case"OOOO":default:return"GMT"+Ho(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Vx(r,":");case"zzzz":default:return"GMT"+Ho(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return ot(r,e.length)},T:function(t,e,n){const r=t.getTime();return ot(r,e.length)}};function Vx(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+ot(a,2)}function jx(t,e){return t%60===0?(t>0?"-":"+")+ot(Math.abs(t)/60,2):Ho(t,e)}function Ho(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=ot(Math.trunc(r/60),2),a=ot(r%60,2);return n+i+e+a}const Fx=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},SI=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Q6=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Fx(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",Fx(r,e)).replace("{{time}}",SI(i,e))},Y6={p:SI,P:Q6},X6=/^D+$/,J6=/^Y+$/,Z6=["D","DD","YY","YYYY"];function e5(t){return X6.test(t)}function t5(t){return J6.test(t)}function n5(t,e,n){const r=r5(t,e,n);if(console.warn(r),Z6.includes(t))throw new RangeError(r)}function r5(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const s5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,i5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,o5=/^'([^]*?)'?$/,a5=/''/g,l5=/[a-zA-Z]/;function lr(t,e,n){const r=Au(),i=n?.locale??r.locale??EI,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,u=Ze(t);if(!f6(u))throw new RangeError("Invalid time value");let h=e.match(i5).map(m=>{const v=m[0];if(v==="p"||v==="P"){const E=Y6[v];return E(m,i.formatLong)}return m}).join("").match(s5).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const v=m[0];if(v==="'")return{isToken:!1,value:c5(m)};if(Lx[v])return{isToken:!0,value:m};if(v.match(l5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(h=i.localize.preprocessor(u,h));const p={firstWeekContainsDate:a,weekStartsOn:l,locale:i};return h.map(m=>{if(!m.isToken)return m.value;const v=m.value;(!n?.useAdditionalWeekYearTokens&&t5(v)||!n?.useAdditionalDayOfYearTokens&&e5(v))&&n5(v,e,String(t));const E=Lx[v[0]];return E(u,v,i.localize,p)}).join("")}function c5(t){const e=t.match(o5);return e?e[1].replace(a5,"'"):t}function u5(t){const e=Ze(t),n=e.getFullYear(),r=e.getMonth(),i=ar(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function d5(t){return Math.trunc(+Ze(t)/1e3)}function h5(t){const e=Ze(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function f5(t,e){return p6(h5(t),Un(t),e)+1}function Xg(t,e){const n=Ze(t),r=Ze(e);return n.getTime()>r.getTime()}function II(t,e){const n=Ze(t),r=Ze(e);return+n<+r}function jv(t,e){const n=Ze(t),r=Ze(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function p5(t,e){const n=Ze(t),r=Ze(e);return n.getFullYear()===r.getFullYear()}function qm(t,e){return Sn(t,-e)}function Km(t,e){const n=Ze(t),r=n.getFullYear(),i=n.getDate(),a=ar(t,0);a.setFullYear(r,e,15),a.setHours(0,0,0,0);const l=u5(a);return n.setMonth(e,Math.min(i,l)),n}function Ux(t,e){const n=Ze(t);return isNaN(+n)?ar(t,NaN):(n.setFullYear(e),n)}const m5=()=>{const[t,e]=T.useState([]),[n,r]=T.useState([]),[i,a]=T.useState(!0);T.useEffect(()=>{l()},[]);const l=async()=>{const u=await r6(20),h=await s6(50);u&&e(u),h&&r(h),a(!1)};return y.jsxs("div",{className:"min-h-screen bg-background",children:[y.jsx(lo,{}),y.jsx("section",{className:"bg-gradient-hero py-16",children:y.jsxs("div",{className:"container mx-auto px-4 text-center",children:[y.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-primary shadow-hover",children:y.jsx("span",{className:"text-4xl",children:""})}),y.jsx("h1",{className:"mb-4 text-4xl font-bold md:text-5xl",children:"Welcome to Hiver"}),y.jsx("p",{className:"mx-auto mb-8 max-w-2xl text-lg text-muted-foreground",children:"Create hives, share buzz, and connect with amazing people in your community"}),y.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[y.jsx(nr,{to:"/auth",children:y.jsx(jt,{size:"lg",className:"bg-primary text-primary-foreground hover:bg-primary/90",children:"Get Started"})}),y.jsx(nr,{to:"/discover",children:y.jsx(jt,{size:"lg",variant:"outline",children:"Explore Events"})})]})]})}),y.jsxs("div",{className:"container mx-auto px-4 py-12",children:[y.jsxs("section",{className:"mb-12",children:[y.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold",children:"Upcoming Hives"}),y.jsx("p",{className:"text-muted-foreground",children:"Join exciting events in your area"})]}),y.jsx(nr,{to:"/discover",children:y.jsx(jt,{variant:"outline",children:"View All"})})]}),i?y.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((u,h)=>y.jsxs(Jt,{className:"animate-pulse",children:[y.jsx("div",{className:"h-48 bg-muted rounded-t-lg"}),y.jsxs(jr,{children:[y.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),y.jsx("div",{className:"h-3 bg-muted rounded w-1/2 mt-2"})]})]},h))}):t.length===0?y.jsx(Jt,{className:"text-center py-12",children:y.jsx(En,{children:y.jsx("p",{className:"text-muted-foreground",children:"No hives yet. Be the first to create one!"})})}):y.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:t.map(u=>y.jsx(nr,{to:`/hive/${u.id}`,children:y.jsxs(Jt,{className:"overflow-hidden transition-all hover:shadow-hover cursor-pointer h-full",children:[u.cover_image_url?y.jsx("img",{src:u.cover_image_url,alt:u.name,className:"h-48 w-full object-cover"}):y.jsx("div",{className:"h-48 bg-gradient-primary flex items-center justify-center",children:y.jsx("span",{className:"text-6xl",children:""})}),y.jsxs(jr,{children:[y.jsx("div",{className:"flex items-center gap-2 mb-2",children:y.jsx(wh,{variant:"secondary",children:u.category})}),y.jsx(fi,{className:"line-clamp-1",children:u.name}),y.jsx($f,{className:"line-clamp-2",children:u.description})]}),y.jsxs(En,{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[y.jsx(fy,{className:"h-4 w-4"}),lr(new Date(u.date),"PPP")]}),y.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[y.jsx(Sh,{className:"h-4 w-4"}),u.location]}),y.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[y.jsx(my,{className:"h-4 w-4"}),"Hosted by ",u.profiles.username]})]})]})},u.id))})]}),y.jsxs("section",{children:[y.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold",children:"Latest Buzz"}),y.jsx("p",{className:"text-muted-foreground",children:"See what's happening in the community"})]}),y.jsx(nr,{to:"/feed",children:y.jsx(jt,{variant:"outline",children:"View All"})})]}),n.length===0?y.jsx(Jt,{className:"text-center py-12",children:y.jsx(En,{children:y.jsx("p",{className:"text-muted-foreground",children:"No buzz yet. Start sharing!"})})}):y.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:n.map(u=>y.jsxs(Jt,{className:"shadow-card hover:shadow-hover transition-all",children:[y.jsx(jr,{children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-primary flex items-center justify-center text-sm",children:u.profiles.username[0].toUpperCase()}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium",children:u.profiles.username}),y.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[y.jsx(py,{className:"h-3 w-3"}),lr(new Date(u.created_at),"PPp")]})]})]})}),y.jsxs(En,{children:[y.jsx("p",{className:"text-sm",children:u.description}),u.location&&y.jsxs("p",{className:"text-xs text-muted-foreground mt-2 flex items-center gap-1",children:[y.jsx(Sh,{className:"h-3 w-3"}),u.location]})]})]},u.id))})]})]})]})},Cn=T.forwardRef(({className:t,type:e,...n},r)=>y.jsx("input",{type:e,className:Ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Cn.displayName="Input";var g5="Label",CI=T.forwardRef((t,e)=>y.jsx(We.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));CI.displayName=g5;var PI=CI;const y5=af("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Mt=T.forwardRef(({className:t,...e},n)=>y.jsx(PI,{ref:n,className:Ye(y5(),t),...e}));Mt.displayName=PI.displayName;var v5=T.createContext(void 0);function Fv(t){const e=T.useContext(v5);return t||e||"ltr"}var Gm="rovingFocusGroup.onEntryFocus",w5={bubbles:!1,cancelable:!0},ku="RovingFocusGroup",[Jg,RI,_5]=cy(ku),[E5,AI]=co(ku,[_5]),[x5,T5]=E5(ku),kI=T.forwardRef((t,e)=>y.jsx(Jg.Provider,{scope:t.__scopeRovingFocusGroup,children:y.jsx(Jg.Slot,{scope:t.__scopeRovingFocusGroup,children:y.jsx(b5,{...t,ref:e})})}));kI.displayName=ku;var b5=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:m=!1,...v}=t,E=T.useRef(null),x=yt(e,E),P=Fv(a),[b,S]=hl({prop:l,defaultProp:u??null,onChange:h,caller:ku}),[N,D]=T.useState(!1),L=Er(p),H=RI(n),Q=T.useRef(!1),[ee,k]=T.useState(0);return T.useEffect(()=>{const R=E.current;if(R)return R.addEventListener(Gm,L),()=>R.removeEventListener(Gm,L)},[L]),y.jsx(x5,{scope:n,orientation:r,dir:P,loop:i,currentTabStopId:b,onItemFocus:T.useCallback(R=>S(R),[S]),onItemShiftTab:T.useCallback(()=>D(!0),[]),onFocusableItemAdd:T.useCallback(()=>k(R=>R+1),[]),onFocusableItemRemove:T.useCallback(()=>k(R=>R-1),[]),children:y.jsx(We.div,{tabIndex:N||ee===0?-1:0,"data-orientation":r,...v,ref:x,style:{outline:"none",...t.style},onMouseDown:ke(t.onMouseDown,()=>{Q.current=!0}),onFocus:ke(t.onFocus,R=>{const M=!Q.current;if(R.target===R.currentTarget&&M&&!N){const U=new CustomEvent(Gm,w5);if(R.currentTarget.dispatchEvent(U),!U.defaultPrevented){const j=H().filter(he=>he.focusable),F=j.find(he=>he.active),O=j.find(he=>he.id===b),_e=[F,O,...j].filter(Boolean).map(he=>he.ref.current);OI(_e,m)}}Q.current=!1}),onBlur:ke(t.onBlur,()=>D(!1))})})}),NI="RovingFocusGroupItem",DI=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:l,...u}=t,h=Cl(),p=a||h,m=T5(NI,n),v=m.currentTabStopId===p,E=RI(n),{onFocusableItemAdd:x,onFocusableItemRemove:P,currentTabStopId:b}=m;return T.useEffect(()=>{if(r)return x(),()=>P()},[r,x,P]),y.jsx(Jg.ItemSlot,{scope:n,id:p,focusable:r,active:i,children:y.jsx(We.span,{tabIndex:v?0:-1,"data-orientation":m.orientation,...u,ref:e,onMouseDown:ke(t.onMouseDown,S=>{r?m.onItemFocus(p):S.preventDefault()}),onFocus:ke(t.onFocus,()=>m.onItemFocus(p)),onKeyDown:ke(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){m.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const N=C5(S,m.orientation,m.dir);if(N!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let L=E().filter(H=>H.focusable).map(H=>H.ref.current);if(N==="last")L.reverse();else if(N==="prev"||N==="next"){N==="prev"&&L.reverse();const H=L.indexOf(S.currentTarget);L=m.loop?P5(L,H+1):L.slice(H+1)}setTimeout(()=>OI(L))}}),children:typeof l=="function"?l({isCurrentTabStop:v,hasTabStop:b!=null}):l})})});DI.displayName=NI;var S5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function I5(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function C5(t,e,n){const r=I5(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return S5[r]}function OI(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function P5(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var R5=kI,A5=DI,Wf="Tabs",[k5]=co(Wf,[AI]),MI=AI(),[N5,Uv]=k5(Wf),LI=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:l="horizontal",dir:u,activationMode:h="automatic",...p}=t,m=Fv(u),[v,E]=hl({prop:r,onChange:i,defaultProp:a??"",caller:Wf});return y.jsx(N5,{scope:n,baseId:Cl(),value:v,onValueChange:E,orientation:l,dir:m,activationMode:h,children:y.jsx(We.div,{dir:m,"data-orientation":l,...p,ref:e})})});LI.displayName=Wf;var VI="TabsList",jI=T.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=Uv(VI,n),l=MI(n);return y.jsx(R5,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:r,children:y.jsx(We.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});jI.displayName=VI;var FI="TabsTrigger",UI=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,l=Uv(FI,n),u=MI(n),h=$I(l.baseId,r),p=WI(l.baseId,r),m=r===l.value;return y.jsx(A5,{asChild:!0,...u,focusable:!i,active:m,children:y.jsx(We.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":p,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:h,...a,ref:e,onMouseDown:ke(t.onMouseDown,v=>{!i&&v.button===0&&v.ctrlKey===!1?l.onValueChange(r):v.preventDefault()}),onKeyDown:ke(t.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&l.onValueChange(r)}),onFocus:ke(t.onFocus,()=>{const v=l.activationMode!=="manual";!m&&!i&&v&&l.onValueChange(r)})})})});UI.displayName=FI;var BI="TabsContent",zI=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...l}=t,u=Uv(BI,n),h=$I(u.baseId,r),p=WI(u.baseId,r),m=r===u.value,v=T.useRef(m);return T.useEffect(()=>{const E=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(E)},[]),y.jsx(Sl,{present:i||m,children:({present:E})=>y.jsx(We.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!E,id:p,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:v.current?"0s":void 0},children:E&&a})})});zI.displayName=BI;function $I(t,e){return`${t}-trigger-${e}`}function WI(t,e){return`${t}-content-${e}`}var D5=LI,HI=jI,qI=UI,KI=zI;const O5=D5,GI=T.forwardRef(({className:t,...e},n)=>y.jsx(HI,{ref:n,className:Ye("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));GI.displayName=HI.displayName;const Zg=T.forwardRef(({className:t,...e},n)=>y.jsx(qI,{ref:n,className:Ye("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Zg.displayName=qI.displayName;const ey=T.forwardRef(({className:t,...e},n)=>y.jsx(KI,{ref:n,className:Ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ey.displayName=KI.displayName;const M5=()=>{const t=Nl(),[e,n]=T.useState(""),[r,i]=T.useState(""),[a,l]=T.useState(""),[u,h]=T.useState(!1);T.useEffect(()=>{const v=Ef(si,E=>{E&&t("/")});return()=>v()},[t]);const p=async v=>{if(v.preventDefault(),!a.trim()){Lt.error("Username is required");return}h(!0);try{const E=await WL(si,e,r);a.trim()&&await xS(E.user,{displayName:a.trim()}),Lt.success("Account created! You can now sign in."),l(""),n(""),i(""),t("/")}catch(E){Lt.error(E?.message||"Sign up failed")}finally{h(!1)}},m=async v=>{v.preventDefault(),h(!0);try{await HL(si,e,r),Lt.success("Signed in successfully!"),t("/")}catch(E){Lt.error(E?.message||"Sign in failed")}finally{h(!1)}};return y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:y.jsxs(Jt,{className:"w-full max-w-md shadow-hover",children:[y.jsxs(jr,{className:"space-y-1 text-center",children:[y.jsx("div",{className:"mx-auto mb-2 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-primary",children:y.jsx("span",{className:"text-3xl",children:""})}),y.jsx(fi,{className:"text-2xl font-bold",children:"Welcome to Hiver"}),y.jsx($f,{children:"Create hives, buzz, and connect with others"})]}),y.jsx(En,{children:y.jsxs(O5,{defaultValue:"signin",className:"w-full",children:[y.jsxs(GI,{className:"grid w-full grid-cols-2",children:[y.jsx(Zg,{value:"signin",children:"Sign In"}),y.jsx(Zg,{value:"signup",children:"Sign Up"})]}),y.jsx(ey,{value:"signin",children:y.jsxs("form",{onSubmit:m,className:"space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Mt,{htmlFor:"signin-email",children:"Email"}),y.jsx(Cn,{id:"signin-email",type:"email",placeholder:"Enter your email",value:e,onChange:v=>n(v.target.value),required:!0})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Mt,{htmlFor:"signin-password",children:"Password"}),y.jsx(Cn,{id:"signin-password",type:"password",placeholder:"Enter your password",value:r,onChange:v=>i(v.target.value),required:!0})]}),y.jsx(jt,{type:"submit",className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",disabled:u,children:u?"Signing in...":"Sign In"})]})}),y.jsx(ey,{value:"signup",children:y.jsxs("form",{onSubmit:p,className:"space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Mt,{htmlFor:"signup-username",children:"Username *"}),y.jsx(Cn,{id:"signup-username",type:"text",placeholder:"Choose a username",value:a,onChange:v=>l(v.target.value),required:!0})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Mt,{htmlFor:"signup-email",children:"Email *"}),y.jsx(Cn,{id:"signup-email",type:"email",placeholder:"Enter your email",value:e,onChange:v=>n(v.target.value),required:!0})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Mt,{htmlFor:"signup-password",children:"Password *"}),y.jsx(Cn,{id:"signup-password",type:"password",placeholder:"Create a password (min 6 characters)",value:r,onChange:v=>i(v.target.value),required:!0,minLength:6})]}),y.jsx(jt,{type:"submit",className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",disabled:u,children:u?"Creating account...":"Sign Up"})]})})]})})]})})},Bv=T.forwardRef(({className:t,...e},n)=>y.jsx("textarea",{className:Ye("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Bv.displayName="Textarea";function Bx(t,[e,n]){return Math.min(n,Math.max(e,t))}var Qm=0;function QI(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??zx()),document.body.insertAdjacentElement("beforeend",t[1]??zx()),Qm++,()=>{Qm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Qm--}},[])}function zx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ym="focusScope.autoFocusOnMount",Xm="focusScope.autoFocusOnUnmount",$x={bubbles:!1,cancelable:!0},L5="FocusScope",zv=T.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=t,[u,h]=T.useState(null),p=Er(i),m=Er(a),v=T.useRef(null),E=yt(e,b=>h(b)),x=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let b=function(L){if(x.paused||!u)return;const H=L.target;u.contains(H)?v.current=H:Bi(v.current,{select:!0})},S=function(L){if(x.paused||!u)return;const H=L.relatedTarget;H!==null&&(u.contains(H)||Bi(v.current,{select:!0}))},N=function(L){if(document.activeElement===document.body)for(const Q of L)Q.removedNodes.length>0&&Bi(u)};document.addEventListener("focusin",b),document.addEventListener("focusout",S);const D=new MutationObserver(N);return u&&D.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",S),D.disconnect()}}},[r,u,x.paused]),T.useEffect(()=>{if(u){Hx.add(x);const b=document.activeElement;if(!u.contains(b)){const N=new CustomEvent(Ym,$x);u.addEventListener(Ym,p),u.dispatchEvent(N),N.defaultPrevented||(V5(z5(YI(u)),{select:!0}),document.activeElement===b&&Bi(u))}return()=>{u.removeEventListener(Ym,p),setTimeout(()=>{const N=new CustomEvent(Xm,$x);u.addEventListener(Xm,m),u.dispatchEvent(N),N.defaultPrevented||Bi(b??document.body,{select:!0}),u.removeEventListener(Xm,m),Hx.remove(x)},0)}}},[u,p,m,x]);const P=T.useCallback(b=>{if(!n&&!r||x.paused)return;const S=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,N=document.activeElement;if(S&&N){const D=b.currentTarget,[L,H]=j5(D);L&&H?!b.shiftKey&&N===H?(b.preventDefault(),n&&Bi(L,{select:!0})):b.shiftKey&&N===L&&(b.preventDefault(),n&&Bi(H,{select:!0})):N===D&&b.preventDefault()}},[n,r,x.paused]);return y.jsx(We.div,{tabIndex:-1,...l,ref:E,onKeyDown:P})});zv.displayName=L5;function V5(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Bi(r,{select:e}),document.activeElement!==n)return}function j5(t){const e=YI(t),n=Wx(e,t),r=Wx(e.reverse(),t);return[n,r]}function YI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Wx(t,e){for(const n of t)if(!F5(n,{upTo:e}))return n}function F5(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function U5(t){return t instanceof HTMLInputElement&&"select"in t}function Bi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&U5(t)&&e&&t.select()}}var Hx=B5();function B5(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=qx(t,e),t.unshift(e)},remove(e){t=qx(t,e),t[0]?.resume()}}}function qx(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function z5(t){return t.filter(e=>e.tagName!=="A")}function $5(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var W5=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ga=new WeakMap,nh=new WeakMap,rh={},Jm=0,XI=function(t){return t&&(t.host||XI(t.parentNode))},H5=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=XI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},q5=function(t,e,n,r){var i=H5(e,Array.isArray(t)?t:[t]);rh[n]||(rh[n]=new WeakMap);var a=rh[n],l=[],u=new Set,h=new Set(i),p=function(v){!v||u.has(v)||(u.add(v),p(v.parentNode))};i.forEach(p);var m=function(v){!v||h.has(v)||Array.prototype.forEach.call(v.children,function(E){if(u.has(E))m(E);else try{var x=E.getAttribute(r),P=x!==null&&x!=="false",b=(Ga.get(E)||0)+1,S=(a.get(E)||0)+1;Ga.set(E,b),a.set(E,S),l.push(E),b===1&&P&&nh.set(E,!0),S===1&&E.setAttribute(n,"true"),P||E.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",E,N)}})};return m(e),u.clear(),Jm++,function(){l.forEach(function(v){var E=Ga.get(v)-1,x=a.get(v)-1;Ga.set(v,E),a.set(v,x),E||(nh.has(v)||v.removeAttribute(r),nh.delete(v)),x||v.removeAttribute(n)}),Jm--,Jm||(Ga=new WeakMap,Ga=new WeakMap,nh=new WeakMap,rh={})}},JI=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=W5(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),q5(r,i,n,"aria-hidden")):function(){return null}},ms=function(){return ms=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ms.apply(this,arguments)};function ZI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function K5(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var _h="right-scroll-bar-position",Eh="width-before-scroll-bar",G5="with-scroll-bars-hidden",Q5="--removed-body-scroll-bar-size";function Zm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Y5(t,e){var n=T.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var X5=typeof window<"u"?T.useLayoutEffect:T.useEffect,Kx=new WeakMap;function J5(t,e){var n=Y5(null,function(r){return t.forEach(function(i){return Zm(i,r)})});return X5(function(){var r=Kx.get(n);if(r){var i=new Set(r),a=new Set(t),l=n.current;i.forEach(function(u){a.has(u)||Zm(u,null)}),a.forEach(function(u){i.has(u)||Zm(u,l)})}Kx.set(n,t)},[t]),n}function Z5(t){return t}function eU(t,e){e===void 0&&(e=Z5);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var l=e(a,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(r=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(a),l=n}var h=function(){var m=l;l=[],m.forEach(a)},p=function(){return Promise.resolve().then(h)};p(),n={push:function(m){l.push(m),p()},filter:function(m){return l=l.filter(m),n}}}};return i}function tU(t){t===void 0&&(t={});var e=eU(null);return e.options=ms({async:!0,ssr:!1},t),e}var eC=function(t){var e=t.sideCar,n=ZI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,ms({},n))};eC.isSideCarExport=!0;function nU(t,e){return t.useMedium(e),eC}var tC=tU(),eg=function(){},Hf=T.forwardRef(function(t,e){var n=T.useRef(null),r=T.useState({onScrollCapture:eg,onWheelCapture:eg,onTouchMoveCapture:eg}),i=r[0],a=r[1],l=t.forwardProps,u=t.children,h=t.className,p=t.removeScrollBar,m=t.enabled,v=t.shards,E=t.sideCar,x=t.noRelative,P=t.noIsolation,b=t.inert,S=t.allowPinchZoom,N=t.as,D=N===void 0?"div":N,L=t.gapMode,H=ZI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),Q=E,ee=J5([n,e]),k=ms(ms({},H),i);return T.createElement(T.Fragment,null,m&&T.createElement(Q,{sideCar:tC,removeScrollBar:p,shards:v,noRelative:x,noIsolation:P,inert:b,setCallbacks:a,allowPinchZoom:!!S,lockRef:n,gapMode:L}),l?T.cloneElement(T.Children.only(u),ms(ms({},k),{ref:ee})):T.createElement(D,ms({},k,{className:h,ref:ee}),u))});Hf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hf.classNames={fullWidth:Eh,zeroRight:_h};var rU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=rU();return e&&t.setAttribute("nonce",e),t}function iU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function oU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var aU=function(){var t=0,e=null;return{add:function(n){t==0&&(e=sU())&&(iU(e,n),oU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},lU=function(){var t=aU();return function(e,n){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},nC=function(){var t=lU(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},cU={left:0,top:0,right:0,gap:0},tg=function(t){return parseInt(t||"",10)||0},uU=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[tg(n),tg(r),tg(i)]},dU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return cU;var e=uU(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},hU=nC(),ul="data-scroll-locked",fU=function(t,e,n,r){var i=t.left,a=t.top,l=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(G5,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(ul,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_h,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Eh,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(_h," .").concat(_h,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Eh," .").concat(Eh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ul,`] {
    `).concat(Q5,": ").concat(u,`px;
  }
`)},Gx=function(){var t=parseInt(document.body.getAttribute(ul)||"0",10);return isFinite(t)?t:0},pU=function(){T.useEffect(function(){return document.body.setAttribute(ul,(Gx()+1).toString()),function(){var t=Gx()-1;t<=0?document.body.removeAttribute(ul):document.body.setAttribute(ul,t.toString())}},[])},mU=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;pU();var a=T.useMemo(function(){return dU(i)},[i]);return T.createElement(hU,{styles:fU(a,!e,i,n?"":"!important")})},ty=!1;if(typeof window<"u")try{var sh=Object.defineProperty({},"passive",{get:function(){return ty=!0,!0}});window.addEventListener("test",sh,sh),window.removeEventListener("test",sh,sh)}catch{ty=!1}var Qa=ty?{passive:!1}:!1,gU=function(t){return t.tagName==="TEXTAREA"},rC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!gU(t)&&n[e]==="visible")},yU=function(t){return rC(t,"overflowY")},vU=function(t){return rC(t,"overflowX")},Qx=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=sC(t,r);if(i){var a=iC(t,r),l=a[1],u=a[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},wU=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},_U=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},sC=function(t,e){return t==="v"?yU(e):vU(e)},iC=function(t,e){return t==="v"?wU(e):_U(e)},EU=function(t,e){return t==="h"&&e==="rtl"?-1:1},xU=function(t,e,n,r,i){var a=EU(t,window.getComputedStyle(e).direction),l=a*r,u=n.target,h=e.contains(u),p=!1,m=l>0,v=0,E=0;do{if(!u)break;var x=iC(t,u),P=x[0],b=x[1],S=x[2],N=b-S-a*P;(P||N)&&sC(t,u)&&(v+=N,E+=P);var D=u.parentNode;u=D&&D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?D.host:D}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(m&&Math.abs(v)<1||!m&&Math.abs(E)<1)&&(p=!0),p},ih=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Yx=function(t){return[t.deltaX,t.deltaY]},Xx=function(t){return t&&"current"in t?t.current:t},TU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},bU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},SU=0,Ya=[];function IU(t){var e=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),i=T.useState(SU++)[0],a=T.useState(nC)[0],l=T.useRef(t);T.useEffect(function(){l.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=K5([t.lockRef.current],(t.shards||[]).map(Xx),!0).filter(Boolean);return b.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var u=T.useCallback(function(b,S){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!l.current.allowPinchZoom;var N=ih(b),D=n.current,L="deltaX"in b?b.deltaX:D[0]-N[0],H="deltaY"in b?b.deltaY:D[1]-N[1],Q,ee=b.target,k=Math.abs(L)>Math.abs(H)?"h":"v";if("touches"in b&&k==="h"&&ee.type==="range")return!1;var R=Qx(k,ee);if(!R)return!0;if(R?Q=k:(Q=k==="v"?"h":"v",R=Qx(k,ee)),!R)return!1;if(!r.current&&"changedTouches"in b&&(L||H)&&(r.current=Q),!Q)return!0;var M=r.current||Q;return xU(M,S,b,M==="h"?L:H)},[]),h=T.useCallback(function(b){var S=b;if(!(!Ya.length||Ya[Ya.length-1]!==a)){var N="deltaY"in S?Yx(S):ih(S),D=e.current.filter(function(Q){return Q.name===S.type&&(Q.target===S.target||S.target===Q.shadowParent)&&TU(Q.delta,N)})[0];if(D&&D.should){S.cancelable&&S.preventDefault();return}if(!D){var L=(l.current.shards||[]).map(Xx).filter(Boolean).filter(function(Q){return Q.contains(S.target)}),H=L.length>0?u(S,L[0]):!l.current.noIsolation;H&&S.cancelable&&S.preventDefault()}}},[]),p=T.useCallback(function(b,S,N,D){var L={name:b,delta:S,target:N,should:D,shadowParent:CU(N)};e.current.push(L),setTimeout(function(){e.current=e.current.filter(function(H){return H!==L})},1)},[]),m=T.useCallback(function(b){n.current=ih(b),r.current=void 0},[]),v=T.useCallback(function(b){p(b.type,Yx(b),b.target,u(b,t.lockRef.current))},[]),E=T.useCallback(function(b){p(b.type,ih(b),b.target,u(b,t.lockRef.current))},[]);T.useEffect(function(){return Ya.push(a),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:E}),document.addEventListener("wheel",h,Qa),document.addEventListener("touchmove",h,Qa),document.addEventListener("touchstart",m,Qa),function(){Ya=Ya.filter(function(b){return b!==a}),document.removeEventListener("wheel",h,Qa),document.removeEventListener("touchmove",h,Qa),document.removeEventListener("touchstart",m,Qa)}},[]);var x=t.removeScrollBar,P=t.inert;return T.createElement(T.Fragment,null,P?T.createElement(a,{styles:bU(i)}):null,x?T.createElement(mU,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function CU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const PU=nU(tC,IU);var $v=T.forwardRef(function(t,e){return T.createElement(Hf,ms({},t,{ref:e,sideCar:PU}))});$v.classNames=Hf.classNames;var RU=[" ","Enter","ArrowUp","ArrowDown"],AU=[" ","Enter"],na="Select",[qf,Kf,kU]=cy(na),[Bl]=co(na,[kU,Al]),Gf=Al(),[NU,go]=Bl(na),[DU,OU]=Bl(na),oC=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:l,defaultValue:u,onValueChange:h,dir:p,name:m,autoComplete:v,disabled:E,required:x,form:P}=t,b=Gf(e),[S,N]=T.useState(null),[D,L]=T.useState(null),[H,Q]=T.useState(!1),ee=Fv(p),[k,R]=hl({prop:r,defaultProp:i??!1,onChange:a,caller:na}),[M,U]=hl({prop:l,defaultProp:u,onChange:h,caller:na}),j=T.useRef(null),F=S?P||!!S.closest("form"):!0,[O,se]=T.useState(new Set),_e=Array.from(O).map(he=>he.props.value).join(";");return y.jsx(hb,{...b,children:y.jsxs(NU,{required:x,scope:e,trigger:S,onTriggerChange:N,valueNode:D,onValueNodeChange:L,valueNodeHasChildren:H,onValueNodeHasChildrenChange:Q,contentId:Cl(),value:M,onValueChange:U,open:k,onOpenChange:R,dir:ee,triggerPointerDownPosRef:j,disabled:E,children:[y.jsx(qf.Provider,{scope:e,children:y.jsx(DU,{scope:t.__scopeSelect,onNativeOptionAdd:T.useCallback(he=>{se(te=>new Set(te).add(he))},[]),onNativeOptionRemove:T.useCallback(he=>{se(te=>{const W=new Set(te);return W.delete(he),W})},[]),children:n})}),F?y.jsxs(AC,{"aria-hidden":!0,required:x,tabIndex:-1,name:m,autoComplete:v,value:M,onChange:he=>U(he.target.value),disabled:E,form:P,children:[M===void 0?y.jsx("option",{value:""}):null,Array.from(O)]},_e):null]})})};oC.displayName=na;var aC="SelectTrigger",lC=T.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=Gf(n),l=go(aC,n),u=l.disabled||r,h=yt(e,l.onTriggerChange),p=Kf(n),m=T.useRef("touch"),[v,E,x]=NC(b=>{const S=p().filter(L=>!L.disabled),N=S.find(L=>L.value===l.value),D=DC(S,b,N);D!==void 0&&l.onValueChange(D.value)}),P=b=>{u||(l.onOpenChange(!0),x()),b&&(l.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return y.jsx(hf,{asChild:!0,...a,children:y.jsx(We.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":kC(l.value)?"":void 0,...i,ref:h,onClick:ke(i.onClick,b=>{b.currentTarget.focus(),m.current!=="mouse"&&P(b)}),onPointerDown:ke(i.onPointerDown,b=>{m.current=b.pointerType;const S=b.target;S.hasPointerCapture(b.pointerId)&&S.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(P(b),b.preventDefault())}),onKeyDown:ke(i.onKeyDown,b=>{const S=v.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&E(b.key),!(S&&b.key===" ")&&RU.includes(b.key)&&(P(),b.preventDefault())})})})});lC.displayName=aC;var cC="SelectValue",uC=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:l="",...u}=t,h=go(cC,n),{onValueNodeHasChildrenChange:p}=h,m=a!==void 0,v=yt(e,h.onValueNodeChange);return an(()=>{p(m)},[p,m]),y.jsx(We.span,{...u,ref:v,style:{pointerEvents:"none"},children:kC(h.value)?y.jsx(y.Fragment,{children:l}):a})});uC.displayName=cC;var MU="SelectIcon",dC=T.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return y.jsx(We.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});dC.displayName=MU;var LU="SelectPortal",hC=t=>y.jsx(rf,{asChild:!0,...t});hC.displayName=LU;var ra="SelectContent",fC=T.forwardRef((t,e)=>{const n=go(ra,t.__scopeSelect),[r,i]=T.useState();if(an(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?bl.createPortal(y.jsx(pC,{scope:t.__scopeSelect,children:y.jsx(qf.Slot,{scope:t.__scopeSelect,children:y.jsx("div",{children:t.children})})}),a):null}return y.jsx(mC,{...t,ref:e})});fC.displayName=ra;var Dr=10,[pC,yo]=Bl(ra),VU="SelectContentImpl",jU=dl("SelectContent.RemoveScroll"),mC=T.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:l,side:u,sideOffset:h,align:p,alignOffset:m,arrowPadding:v,collisionBoundary:E,collisionPadding:x,sticky:P,hideWhenDetached:b,avoidCollisions:S,...N}=t,D=go(ra,n),[L,H]=T.useState(null),[Q,ee]=T.useState(null),k=yt(e,ae=>H(ae)),[R,M]=T.useState(null),[U,j]=T.useState(null),F=Kf(n),[O,se]=T.useState(!1),_e=T.useRef(!1);T.useEffect(()=>{if(L)return JI(L)},[L]),QI();const he=T.useCallback(ae=>{const[Te,...Ne]=F().map(nt=>nt.ref.current),[Ve]=Ne.slice(-1),$e=document.activeElement;for(const nt of ae)if(nt===$e||(nt?.scrollIntoView({block:"nearest"}),nt===Te&&Q&&(Q.scrollTop=0),nt===Ve&&Q&&(Q.scrollTop=Q.scrollHeight),nt?.focus(),document.activeElement!==$e))return},[F,Q]),te=T.useCallback(()=>he([R,L]),[he,R,L]);T.useEffect(()=>{O&&te()},[O,te]);const{onOpenChange:W,triggerPointerDownPosRef:Z}=D;T.useEffect(()=>{if(L){let ae={x:0,y:0};const Te=Ve=>{ae={x:Math.abs(Math.round(Ve.pageX)-(Z.current?.x??0)),y:Math.abs(Math.round(Ve.pageY)-(Z.current?.y??0))}},Ne=Ve=>{ae.x<=10&&ae.y<=10?Ve.preventDefault():L.contains(Ve.target)||W(!1),document.removeEventListener("pointermove",Te),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",Ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",Ne,{capture:!0})}}},[L,W,Z]),T.useEffect(()=>{const ae=()=>W(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[W]);const[ie,z]=NC(ae=>{const Te=F().filter($e=>!$e.disabled),Ne=Te.find($e=>$e.ref.current===document.activeElement),Ve=DC(Te,ae,Ne);Ve&&setTimeout(()=>Ve.ref.current.focus())}),J=T.useCallback((ae,Te,Ne)=>{const Ve=!_e.current&&!Ne;(D.value!==void 0&&D.value===Te||Ve)&&(M(ae),Ve&&(_e.current=!0))},[D.value]),pe=T.useCallback(()=>L?.focus(),[L]),me=T.useCallback((ae,Te,Ne)=>{const Ve=!_e.current&&!Ne;(D.value!==void 0&&D.value===Te||Ve)&&j(ae)},[D.value]),Se=r==="popper"?ny:gC,Ae=Se===ny?{side:u,sideOffset:h,align:p,alignOffset:m,arrowPadding:v,collisionBoundary:E,collisionPadding:x,sticky:P,hideWhenDetached:b,avoidCollisions:S}:{};return y.jsx(pC,{scope:n,content:L,viewport:Q,onViewportChange:ee,itemRefCallback:J,selectedItem:R,onItemLeave:pe,itemTextRefCallback:me,focusSelectedItem:te,selectedItemText:U,position:r,isPositioned:O,searchRef:ie,children:y.jsx($v,{as:jU,allowPinchZoom:!0,children:y.jsx(zv,{asChild:!0,trapped:D.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:ke(i,ae=>{D.trigger?.focus({preventScroll:!0}),ae.preventDefault()}),children:y.jsx(fu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:y.jsx(Se,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:ae=>ae.preventDefault(),...N,...Ae,onPlaced:()=>se(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:ke(N.onKeyDown,ae=>{const Te=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!Te&&ae.key.length===1&&z(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Ve=F().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Ve=Ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const $e=ae.target,nt=Ve.indexOf($e);Ve=Ve.slice(nt+1)}setTimeout(()=>he(Ve)),ae.preventDefault()}})})})})})})});mC.displayName=VU;var FU="SelectItemAlignedPosition",gC=T.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=go(ra,n),l=yo(ra,n),[u,h]=T.useState(null),[p,m]=T.useState(null),v=yt(e,k=>m(k)),E=Kf(n),x=T.useRef(!1),P=T.useRef(!0),{viewport:b,selectedItem:S,selectedItemText:N,focusSelectedItem:D}=l,L=T.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&p&&b&&S&&N){const k=a.trigger.getBoundingClientRect(),R=p.getBoundingClientRect(),M=a.valueNode.getBoundingClientRect(),U=N.getBoundingClientRect();if(a.dir!=="rtl"){const $e=U.left-R.left,nt=M.left-$e,vt=k.left-nt,cn=k.width+vt,Hr=Math.max(cn,R.width),Bn=window.innerWidth-Dr,zn=Bx(nt,[Dr,Math.max(Dr,Bn-Hr)]);u.style.minWidth=cn+"px",u.style.left=zn+"px"}else{const $e=R.right-U.right,nt=window.innerWidth-M.right-$e,vt=window.innerWidth-k.right-nt,cn=k.width+vt,Hr=Math.max(cn,R.width),Bn=window.innerWidth-Dr,zn=Bx(nt,[Dr,Math.max(Dr,Bn-Hr)]);u.style.minWidth=cn+"px",u.style.right=zn+"px"}const j=E(),F=window.innerHeight-Dr*2,O=b.scrollHeight,se=window.getComputedStyle(p),_e=parseInt(se.borderTopWidth,10),he=parseInt(se.paddingTop,10),te=parseInt(se.borderBottomWidth,10),W=parseInt(se.paddingBottom,10),Z=_e+he+O+W+te,ie=Math.min(S.offsetHeight*5,Z),z=window.getComputedStyle(b),J=parseInt(z.paddingTop,10),pe=parseInt(z.paddingBottom,10),me=k.top+k.height/2-Dr,Se=F-me,Ae=S.offsetHeight/2,ae=S.offsetTop+Ae,Te=_e+he+ae,Ne=Z-Te;if(Te<=me){const $e=j.length>0&&S===j[j.length-1].ref.current;u.style.bottom="0px";const nt=p.clientHeight-b.offsetTop-b.offsetHeight,vt=Math.max(Se,Ae+($e?pe:0)+nt+te),cn=Te+vt;u.style.height=cn+"px"}else{const $e=j.length>0&&S===j[0].ref.current;u.style.top="0px";const vt=Math.max(me,_e+b.offsetTop+($e?J:0)+Ae)+Ne;u.style.height=vt+"px",b.scrollTop=Te-me+b.offsetTop}u.style.margin=`${Dr}px 0`,u.style.minHeight=ie+"px",u.style.maxHeight=F+"px",r?.(),requestAnimationFrame(()=>x.current=!0)}},[E,a.trigger,a.valueNode,u,p,b,S,N,a.dir,r]);an(()=>L(),[L]);const[H,Q]=T.useState();an(()=>{p&&Q(window.getComputedStyle(p).zIndex)},[p]);const ee=T.useCallback(k=>{k&&P.current===!0&&(L(),D?.(),P.current=!1)},[L,D]);return y.jsx(BU,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:x,onScrollButtonChange:ee,children:y.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:H},children:y.jsx(We.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});gC.displayName=FU;var UU="SelectPopperPosition",ny=T.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Dr,...a}=t,l=Gf(n);return y.jsx(Sy,{...l,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ny.displayName=UU;var[BU,Wv]=Bl(ra,{}),ry="SelectViewport",yC=T.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=yo(ry,n),l=Wv(ry,n),u=yt(e,a.onViewportChange),h=T.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),y.jsx(qf.Slot,{scope:n,children:y.jsx(We.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ke(i.onScroll,p=>{const m=p.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:E}=l;if(E?.current&&v){const x=Math.abs(h.current-m.scrollTop);if(x>0){const P=window.innerHeight-Dr*2,b=parseFloat(v.style.minHeight),S=parseFloat(v.style.height),N=Math.max(b,S);if(N<P){const D=N+x,L=Math.min(P,D),H=D-L;v.style.height=L+"px",v.style.bottom==="0px"&&(m.scrollTop=H>0?H:0,v.style.justifyContent="flex-end")}}}h.current=m.scrollTop})})})]})});yC.displayName=ry;var vC="SelectGroup",[zU,$U]=Bl(vC),WU=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Cl();return y.jsx(zU,{scope:n,id:i,children:y.jsx(We.div,{role:"group","aria-labelledby":i,...r,ref:e})})});WU.displayName=vC;var wC="SelectLabel",_C=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=$U(wC,n);return y.jsx(We.div,{id:i.id,...r,ref:e})});_C.displayName=wC;var tf="SelectItem",[HU,EC]=Bl(tf),xC=T.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...l}=t,u=go(tf,n),h=yo(tf,n),p=u.value===r,[m,v]=T.useState(a??""),[E,x]=T.useState(!1),P=yt(e,D=>h.itemRefCallback?.(D,r,i)),b=Cl(),S=T.useRef("touch"),N=()=>{i||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(HU,{scope:n,value:r,disabled:i,textId:b,isSelected:p,onItemTextChange:T.useCallback(D=>{v(L=>L||(D?.textContent??"").trim())},[]),children:y.jsx(qf.ItemSlot,{scope:n,value:r,disabled:i,textValue:m,children:y.jsx(We.div,{role:"option","aria-labelledby":b,"data-highlighted":E?"":void 0,"aria-selected":p&&E,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:P,onFocus:ke(l.onFocus,()=>x(!0)),onBlur:ke(l.onBlur,()=>x(!1)),onClick:ke(l.onClick,()=>{S.current!=="mouse"&&N()}),onPointerUp:ke(l.onPointerUp,()=>{S.current==="mouse"&&N()}),onPointerDown:ke(l.onPointerDown,D=>{S.current=D.pointerType}),onPointerMove:ke(l.onPointerMove,D=>{S.current=D.pointerType,i?h.onItemLeave?.():S.current==="mouse"&&D.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ke(l.onPointerLeave,D=>{D.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:ke(l.onKeyDown,D=>{h.searchRef?.current!==""&&D.key===" "||(AU.includes(D.key)&&N(),D.key===" "&&D.preventDefault())})})})})});xC.displayName=tf;var Uc="SelectItemText",TC=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,l=go(Uc,n),u=yo(Uc,n),h=EC(Uc,n),p=OU(Uc,n),[m,v]=T.useState(null),E=yt(e,N=>v(N),h.onItemTextChange,N=>u.itemTextRefCallback?.(N,h.value,h.disabled)),x=m?.textContent,P=T.useMemo(()=>y.jsx("option",{value:h.value,disabled:h.disabled,children:x},h.value),[h.disabled,h.value,x]),{onNativeOptionAdd:b,onNativeOptionRemove:S}=p;return an(()=>(b(P),()=>S(P)),[b,S,P]),y.jsxs(y.Fragment,{children:[y.jsx(We.span,{id:h.textId,...a,ref:E}),h.isSelected&&l.valueNode&&!l.valueNodeHasChildren?bl.createPortal(a.children,l.valueNode):null]})});TC.displayName=Uc;var bC="SelectItemIndicator",SC=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return EC(bC,n).isSelected?y.jsx(We.span,{"aria-hidden":!0,...r,ref:e}):null});SC.displayName=bC;var sy="SelectScrollUpButton",IC=T.forwardRef((t,e)=>{const n=yo(sy,t.__scopeSelect),r=Wv(sy,t.__scopeSelect),[i,a]=T.useState(!1),l=yt(e,r.onScrollButtonChange);return an(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=h.scrollTop>0;a(p)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?y.jsx(PC,{...t,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});IC.displayName=sy;var iy="SelectScrollDownButton",CC=T.forwardRef((t,e)=>{const n=yo(iy,t.__scopeSelect),r=Wv(iy,t.__scopeSelect),[i,a]=T.useState(!1),l=yt(e,r.onScrollButtonChange);return an(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=h.scrollHeight-h.clientHeight,m=Math.ceil(h.scrollTop)<p;a(m)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?y.jsx(PC,{...t,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});CC.displayName=iy;var PC=T.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=yo("SelectScrollButton",n),l=T.useRef(null),u=Kf(n),h=T.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return T.useEffect(()=>()=>h(),[h]),an(()=>{u().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),y.jsx(We.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ke(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:ke(i.onPointerMove,()=>{a.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:ke(i.onPointerLeave,()=>{h()})})}),qU="SelectSeparator",RC=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return y.jsx(We.div,{"aria-hidden":!0,...r,ref:e})});RC.displayName=qU;var oy="SelectArrow",KU=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Gf(n),a=go(oy,n),l=yo(oy,n);return a.open&&l.position==="popper"?y.jsx(Iy,{...i,...r,ref:e}):null});KU.displayName=oy;var GU="SelectBubbleInput",AC=T.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=T.useRef(null),a=yt(r,i),l=$5(e);return T.useEffect(()=>{const u=i.current;if(!u)return;const h=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(h,"value").set;if(l!==e&&m){const v=new Event("change",{bubbles:!0});m.call(u,e),u.dispatchEvent(v)}},[l,e]),y.jsx(We.select,{...n,style:{...dT,...n.style},ref:a,defaultValue:e})});AC.displayName=GU;function kC(t){return t===""||t===void 0}function NC(t){const e=Er(t),n=T.useRef(""),r=T.useRef(0),i=T.useCallback(l=>{const u=n.current+l;e(u),(function h(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>h(""),1e3))})(u)},[e]),a=T.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function DC(t,e,n){const i=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let l=QU(t,Math.max(a,0));i.length===1&&(l=l.filter(p=>p!==n));const h=l.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return h!==n?h:void 0}function QU(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var YU=oC,OC=lC,XU=uC,JU=dC,ZU=hC,MC=fC,e9=yC,LC=_C,VC=xC,t9=TC,n9=SC,jC=IC,FC=CC,UC=RC;const xh=YU,Th=XU,Gc=T.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(OC,{ref:r,className:Ye("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,y.jsx(JU,{asChild:!0,children:y.jsx(OT,{className:"h-4 w-4 opacity-50"})})]}));Gc.displayName=OC.displayName;const BC=T.forwardRef(({className:t,...e},n)=>y.jsx(jC,{ref:n,className:Ye("flex cursor-default items-center justify-center py-1",t),...e,children:y.jsx(AA,{className:"h-4 w-4"})}));BC.displayName=jC.displayName;const zC=T.forwardRef(({className:t,...e},n)=>y.jsx(FC,{ref:n,className:Ye("flex cursor-default items-center justify-center py-1",t),...e,children:y.jsx(OT,{className:"h-4 w-4"})}));zC.displayName=FC.displayName;const Qc=T.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>y.jsx(ZU,{children:y.jsxs(MC,{ref:i,className:Ye("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[y.jsx(BC,{}),y.jsx(e9,{className:Ye("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),y.jsx(zC,{})]})}));Qc.displayName=MC.displayName;const r9=T.forwardRef(({className:t,...e},n)=>y.jsx(LC,{ref:n,className:Ye("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));r9.displayName=LC.displayName;const Yt=T.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(VC,{ref:r,className:Ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(n9,{children:y.jsx(CA,{className:"h-4 w-4"})})}),y.jsx(t9,{children:e})]}));Yt.displayName=VC.displayName;const s9=T.forwardRef(({className:t,...e},n)=>y.jsx(UC,{ref:n,className:Ye("-mx-1 my-1 h-px bg-muted",t),...e}));s9.displayName=UC.displayName;var Me=function(){return Me=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Me.apply(this,arguments)};function i9(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $C(t,e,n){for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function Nu(t){return t.mode==="multiple"}function Du(t){return t.mode==="range"}function Qf(t){return t.mode==="single"}var o9={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function a9(t,e){return lr(t,"LLLL y",e)}function l9(t,e){return lr(t,"d",e)}function c9(t,e){return lr(t,"LLLL",e)}function u9(t){return"".concat(t)}function d9(t,e){return lr(t,"cccccc",e)}function h9(t,e){return lr(t,"yyyy",e)}var f9=Object.freeze({__proto__:null,formatCaption:a9,formatDay:l9,formatMonthCaption:c9,formatWeekNumber:u9,formatWeekdayName:d9,formatYearCaption:h9}),p9=function(t,e,n){return lr(t,"do MMMM (EEEE)",n)},m9=function(){return"Month: "},g9=function(){return"Go to next month"},y9=function(){return"Go to previous month"},v9=function(t,e){return lr(t,"cccc",e)},w9=function(t){return"Week n. ".concat(t)},_9=function(){return"Year: "},E9=Object.freeze({__proto__:null,labelDay:p9,labelMonthDropdown:m9,labelNext:g9,labelPrevious:y9,labelWeekNumber:w9,labelWeekday:v9,labelYearDropdown:_9});function x9(){var t="buttons",e=o9,n=EI,r={},i={},a=1,l={},u=new Date;return{captionLayout:t,classNames:e,formatters:f9,labels:E9,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:a,styles:l,today:u,mode:"default"}}function T9(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,a=t.fromDate,l=t.toDate;return r?a=Un(r):e&&(a=new Date(e,0,1)),i?l=Lv(i):n&&(l=new Date(n,11,31)),{fromDate:a?xl(a):void 0,toDate:l?xl(l):void 0}}var WC=T.createContext(void 0);function b9(t){var e,n=t.initialProps,r=x9(),i=T9(n),a=i.fromDate,l=i.toDate,u=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;u!=="buttons"&&(!a||!l)&&(u="buttons");var h;(Qf(n)||Nu(n)||Du(n))&&(h=n.onSelect);var p=Me(Me(Me({},r),n),{captionLayout:u,classNames:Me(Me({},r.classNames),n.classNames),components:Me({},n.components),formatters:Me(Me({},r.formatters),n.formatters),fromDate:a,labels:Me(Me({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Me(Me({},r.modifiers),n.modifiers),modifiersClassNames:Me(Me({},r.modifiersClassNames),n.modifiersClassNames),onSelect:h,styles:Me(Me({},r.styles),n.styles),toDate:l});return y.jsx(WC.Provider,{value:p,children:t.children})}function dt(){var t=T.useContext(WC);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function HC(t){var e=dt(),n=e.locale,r=e.classNames,i=e.styles,a=e.formatters.formatCaption;return y.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:n})})}function S9(t){return y.jsx("svg",Me({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:y.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function qC(t){var e,n,r=t.onChange,i=t.value,a=t.children,l=t.caption,u=t.className,h=t.style,p=dt(),m=(n=(e=p.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:S9;return y.jsxs("div",{className:u,style:h,children:[y.jsx("span",{className:p.classNames.vhidden,children:t["aria-label"]}),y.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:p.classNames.dropdown,style:p.styles.dropdown,value:i,onChange:r,children:a}),y.jsxs("div",{className:p.classNames.caption_label,style:p.styles.caption_label,"aria-hidden":"true",children:[l,y.jsx(m,{className:p.classNames.dropdown_icon,style:p.styles.dropdown_icon})]})]})}function I9(t){var e,n=dt(),r=n.fromDate,i=n.toDate,a=n.styles,l=n.locale,u=n.formatters.formatMonthCaption,h=n.classNames,p=n.components,m=n.labels.labelMonthDropdown;if(!r)return y.jsx(y.Fragment,{});if(!i)return y.jsx(y.Fragment,{});var v=[];if(p5(r,i))for(var E=Un(r),x=r.getMonth();x<=i.getMonth();x++)v.push(Km(E,x));else for(var E=Un(new Date),x=0;x<=11;x++)v.push(Km(E,x));var P=function(S){var N=Number(S.target.value),D=Km(Un(t.displayMonth),N);t.onChange(D)},b=(e=p?.Dropdown)!==null&&e!==void 0?e:qC;return y.jsx(b,{name:"months","aria-label":m(),className:h.dropdown_month,style:a.dropdown_month,onChange:P,value:t.displayMonth.getMonth(),caption:u(t.displayMonth,{locale:l}),children:v.map(function(S){return y.jsx("option",{value:S.getMonth(),children:u(S,{locale:l})},S.getMonth())})})}function C9(t){var e,n=t.displayMonth,r=dt(),i=r.fromDate,a=r.toDate,l=r.locale,u=r.styles,h=r.classNames,p=r.components,m=r.formatters.formatYearCaption,v=r.labels.labelYearDropdown,E=[];if(!i)return y.jsx(y.Fragment,{});if(!a)return y.jsx(y.Fragment,{});for(var x=i.getFullYear(),P=a.getFullYear(),b=x;b<=P;b++)E.push(Ux(wI(new Date),b));var S=function(D){var L=Ux(Un(n),Number(D.target.value));t.onChange(L)},N=(e=p?.Dropdown)!==null&&e!==void 0?e:qC;return y.jsx(N,{name:"years","aria-label":v(),className:h.dropdown_year,style:u.dropdown_year,onChange:S,value:n.getFullYear(),caption:m(n,{locale:l}),children:E.map(function(D){return y.jsx("option",{value:D.getFullYear(),children:m(D,{locale:l})},D.getFullYear())})})}function P9(t,e){var n=T.useState(t),r=n[0],i=n[1],a=e===void 0?r:e;return[a,i]}function R9(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,a=t.toDate,l=t.fromDate,u=t.numberOfMonths,h=u===void 0?1:u;if(a&&hu(a,i)<0){var p=-1*(h-1);i=$r(a,p)}return l&&hu(i,l)<0&&(i=l),Un(i)}function A9(){var t=dt(),e=R9(t),n=P9(e,t.month),r=n[0],i=n[1],a=function(l){var u;if(!t.disableNavigation){var h=Un(l);i(h),(u=t.onMonthChange)===null||u===void 0||u.call(t,h)}};return[r,a]}function k9(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=Un(t),a=Un($r(i,r)),l=hu(a,i),u=[],h=0;h<l;h++){var p=$r(i,h);u.push(p)}return n&&(u=u.reverse()),u}function N9(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,l=r?a:1,u=Un(t);if(!n)return $r(u,l);var h=hu(n,t);if(!(h<a))return $r(u,l)}}function D9(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,l=r?a:1,u=Un(t);if(!n)return $r(u,-l);var h=hu(u,n);if(!(h<=0))return $r(u,-l)}}var KC=T.createContext(void 0);function O9(t){var e=dt(),n=A9(),r=n[0],i=n[1],a=k9(r,e),l=N9(r,e),u=D9(r,e),h=function(v){return a.some(function(E){return jv(v,E)})},p=function(v,E){h(v)||(E&&II(v,E)?i($r(v,1+e.numberOfMonths*-1)):i(v))},m={currentMonth:r,displayMonths:a,goToMonth:i,goToDate:p,previousMonth:u,nextMonth:l,isDateDisplayed:h};return y.jsx(KC.Provider,{value:m,children:t.children})}function Ou(){var t=T.useContext(KC);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function Jx(t){var e,n=dt(),r=n.classNames,i=n.styles,a=n.components,l=Ou().goToMonth,u=function(m){l($r(m,t.displayIndex?-t.displayIndex:0))},h=(e=a?.CaptionLabel)!==null&&e!==void 0?e:HC,p=y.jsx(h,{id:t.id,displayMonth:t.displayMonth});return y.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[y.jsx("div",{className:r.vhidden,children:p}),y.jsx(I9,{onChange:u,displayMonth:t.displayMonth}),y.jsx(C9,{onChange:u,displayMonth:t.displayMonth})]})}function M9(t){return y.jsx("svg",Me({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:y.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function L9(t){return y.jsx("svg",Me({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:y.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var nf=T.forwardRef(function(t,e){var n=dt(),r=n.classNames,i=n.styles,a=[r.button_reset,r.button];t.className&&a.push(t.className);var l=a.join(" "),u=Me(Me({},i.button_reset),i.button);return t.style&&Object.assign(u,t.style),y.jsx("button",Me({},t,{ref:e,type:"button",className:l,style:u}))});function V9(t){var e,n,r=dt(),i=r.dir,a=r.locale,l=r.classNames,u=r.styles,h=r.labels,p=h.labelPrevious,m=h.labelNext,v=r.components;if(!t.nextMonth&&!t.previousMonth)return y.jsx(y.Fragment,{});var E=p(t.previousMonth,{locale:a}),x=[l.nav_button,l.nav_button_previous].join(" "),P=m(t.nextMonth,{locale:a}),b=[l.nav_button,l.nav_button_next].join(" "),S=(e=v?.IconRight)!==null&&e!==void 0?e:L9,N=(n=v?.IconLeft)!==null&&n!==void 0?n:M9;return y.jsxs("div",{className:l.nav,style:u.nav,children:[!t.hidePrevious&&y.jsx(nf,{name:"previous-month","aria-label":E,className:x,style:u.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?y.jsx(S,{className:l.nav_icon,style:u.nav_icon}):y.jsx(N,{className:l.nav_icon,style:u.nav_icon})}),!t.hideNext&&y.jsx(nf,{name:"next-month","aria-label":P,className:b,style:u.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?y.jsx(N,{className:l.nav_icon,style:u.nav_icon}):y.jsx(S,{className:l.nav_icon,style:u.nav_icon})})]})}function Zx(t){var e=dt().numberOfMonths,n=Ou(),r=n.previousMonth,i=n.nextMonth,a=n.goToMonth,l=n.displayMonths,u=l.findIndex(function(P){return jv(t.displayMonth,P)}),h=u===0,p=u===l.length-1,m=e>1&&(h||!p),v=e>1&&(p||!h),E=function(){r&&a(r)},x=function(){i&&a(i)};return y.jsx(V9,{displayMonth:t.displayMonth,hideNext:m,hidePrevious:v,nextMonth:i,previousMonth:r,onPreviousClick:E,onNextClick:x})}function j9(t){var e,n=dt(),r=n.classNames,i=n.disableNavigation,a=n.styles,l=n.captionLayout,u=n.components,h=(e=u?.CaptionLabel)!==null&&e!==void 0?e:HC,p;return i?p=y.jsx(h,{id:t.id,displayMonth:t.displayMonth}):l==="dropdown"?p=y.jsx(Jx,{displayMonth:t.displayMonth,id:t.id}):l==="dropdown-buttons"?p=y.jsxs(y.Fragment,{children:[y.jsx(Jx,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),y.jsx(Zx,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):p=y.jsxs(y.Fragment,{children:[y.jsx(h,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),y.jsx(Zx,{displayMonth:t.displayMonth,id:t.id})]}),y.jsx("div",{className:r.caption,style:a.caption,children:p})}function F9(t){var e=dt(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?y.jsx("tfoot",{className:i,style:r.tfoot,children:y.jsx("tr",{children:y.jsx("td",{colSpan:8,children:n})})}):y.jsx(y.Fragment,{})}function U9(t,e,n){for(var r=n?ta(new Date):As(new Date,{locale:t,weekStartsOn:e}),i=[],a=0;a<7;a++){var l=Sn(r,a);i.push(l)}return i}function B9(){var t=dt(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,a=t.weekStartsOn,l=t.ISOWeek,u=t.formatters.formatWeekdayName,h=t.labels.labelWeekday,p=U9(i,a,l);return y.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&y.jsx("td",{style:n.head_cell,className:e.head_cell}),p.map(function(m,v){return y.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":h(m,{locale:i}),children:u(m,{locale:i})},v)})]})}function z9(){var t,e=dt(),n=e.classNames,r=e.styles,i=e.components,a=(t=i?.HeadRow)!==null&&t!==void 0?t:B9;return y.jsx("thead",{style:r.head,className:n.head,children:y.jsx(a,{})})}function $9(t){var e=dt(),n=e.locale,r=e.formatters.formatDay;return y.jsx(y.Fragment,{children:r(t.date,{locale:n})})}var Hv=T.createContext(void 0);function W9(t){if(!Nu(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return y.jsx(Hv.Provider,{value:e,children:t.children})}return y.jsx(H9,{initialProps:t.initialProps,children:t.children})}function H9(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,a=e.max,l=function(p,m,v){var E,x;(E=e.onDayClick)===null||E===void 0||E.call(e,p,m,v);var P=!!(m.selected&&i&&r?.length===i);if(!P){var b=!!(!m.selected&&a&&r?.length===a);if(!b){var S=r?$C([],r):[];if(m.selected){var N=S.findIndex(function(D){return Fn(p,D)});S.splice(N,1)}else S.push(p);(x=e.onSelect)===null||x===void 0||x.call(e,S,p,m,v)}}},u={disabled:[]};r&&u.disabled.push(function(p){var m=a&&r.length>a-1,v=r.some(function(E){return Fn(E,p)});return!!(m&&!v)});var h={selected:r,onDayClick:l,modifiers:u};return y.jsx(Hv.Provider,{value:h,children:n})}function qv(){var t=T.useContext(Hv);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function q9(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?Fn(i,t)&&Fn(r,t)?void 0:Fn(i,t)?{from:i,to:void 0}:Fn(r,t)?void 0:Xg(r,t)?{from:t,to:i}:{from:r,to:t}:i?Xg(t,i)?{from:i,to:t}:{from:t,to:i}:r?II(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var Kv=T.createContext(void 0);function K9(t){if(!Du(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return y.jsx(Kv.Provider,{value:e,children:t.children})}return y.jsx(G9,{initialProps:t.initialProps,children:t.children})}function G9(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},a=i.from,l=i.to,u=e.min,h=e.max,p=function(x,P,b){var S,N;(S=e.onDayClick)===null||S===void 0||S.call(e,x,P,b);var D=q9(x,r);(N=e.onSelect)===null||N===void 0||N.call(e,D,x,P,b)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(m.range_start=[a],l?(m.range_end=[l],Fn(a,l)||(m.range_middle=[{after:a,before:l}])):m.range_end=[a]):l&&(m.range_start=[l],m.range_end=[l]),u&&(a&&!l&&m.disabled.push({after:qm(a,u-1),before:Sn(a,u-1)}),a&&l&&m.disabled.push({after:a,before:Sn(a,u-1)}),!a&&l&&m.disabled.push({after:qm(l,u-1),before:Sn(l,u-1)})),h){if(a&&!l&&(m.disabled.push({before:Sn(a,-h+1)}),m.disabled.push({after:Sn(a,h-1)})),a&&l){var v=ys(l,a)+1,E=h-v;m.disabled.push({before:qm(a,E)}),m.disabled.push({after:Sn(l,E)})}!a&&l&&(m.disabled.push({before:Sn(l,-h+1)}),m.disabled.push({after:Sn(l,h-1)}))}return y.jsx(Kv.Provider,{value:{selected:r,onDayClick:p,modifiers:m},children:n})}function Gv(){var t=T.useContext(Kv);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function bh(t){return Array.isArray(t)?$C([],t):t!==void 0?[t]:[]}function Q9(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=bh(i)}),e}var Wr;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Wr||(Wr={}));var Y9=Wr.Selected,Zs=Wr.Disabled,X9=Wr.Hidden,J9=Wr.Today,ng=Wr.RangeEnd,rg=Wr.RangeMiddle,sg=Wr.RangeStart,Z9=Wr.Outside;function eB(t,e,n){var r,i=(r={},r[Y9]=bh(t.selected),r[Zs]=bh(t.disabled),r[X9]=bh(t.hidden),r[J9]=[t.today],r[ng]=[],r[rg]=[],r[sg]=[],r[Z9]=[],r);return t.fromDate&&i[Zs].push({before:t.fromDate}),t.toDate&&i[Zs].push({after:t.toDate}),Nu(t)?i[Zs]=i[Zs].concat(e.modifiers[Zs]):Du(t)&&(i[Zs]=i[Zs].concat(n.modifiers[Zs]),i[sg]=n.modifiers[sg],i[rg]=n.modifiers[rg],i[ng]=n.modifiers[ng]),i}var GC=T.createContext(void 0);function tB(t){var e=dt(),n=qv(),r=Gv(),i=eB(e,n,r),a=Q9(e.modifiers),l=Me(Me({},i),a);return y.jsx(GC.Provider,{value:l,children:t.children})}function QC(){var t=T.useContext(GC);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function nB(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function rB(t){return!!(t&&typeof t=="object"&&"from"in t)}function sB(t){return!!(t&&typeof t=="object"&&"after"in t)}function iB(t){return!!(t&&typeof t=="object"&&"before"in t)}function oB(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function aB(t,e){var n,r=e.from,i=e.to;if(r&&i){var a=ys(i,r)<0;a&&(n=[i,r],r=n[0],i=n[1]);var l=ys(t,r)>=0&&ys(i,t)>=0;return l}return i?Fn(i,t):r?Fn(r,t):!1}function lB(t){return Mv(t)}function cB(t){return Array.isArray(t)&&t.every(Mv)}function uB(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(lB(n))return Fn(t,n);if(cB(n))return n.includes(t);if(rB(n))return aB(t,n);if(oB(n))return n.dayOfWeek.includes(t.getDay());if(nB(n)){var r=ys(n.before,t),i=ys(n.after,t),a=r>0,l=i<0,u=Xg(n.before,n.after);return u?l&&a:a||l}return sB(n)?ys(t,n.after)>0:iB(n)?ys(n.before,t)>0:typeof n=="function"?n(t):!1})}function Qv(t,e,n){var r=Object.keys(e).reduce(function(a,l){var u=e[l];return uB(t,u)&&a.push(l),a},[]),i={};return r.forEach(function(a){return i[a]=!0}),n&&!jv(t,n)&&(i.outside=!0),i}function dB(t,e){for(var n=Un(t[0]),r=Lv(t[t.length-1]),i,a,l=n;l<=r;){var u=Qv(l,e),h=!u.disabled&&!u.hidden;if(!h){l=Sn(l,1);continue}if(u.selected)return l;u.today&&!a&&(a=l),i||(i=l),l=Sn(l,1)}return a||i}var hB=365;function YC(t,e){var n=e.moveBy,r=e.direction,i=e.context,a=e.modifiers,l=e.retry,u=l===void 0?{count:0,lastFocused:t}:l,h=i.weekStartsOn,p=i.fromDate,m=i.toDate,v=i.locale,E={day:Sn,week:Yg,month:$r,year:u6,startOfWeek:function(S){return i.ISOWeek?ta(S):As(S,{locale:v,weekStartsOn:h})},endOfWeek:function(S){return i.ISOWeek?_I(S):Vv(S,{locale:v,weekStartsOn:h})}},x=E[n](t,r==="after"?1:-1);r==="before"&&p?x=d6([p,x]):r==="after"&&m&&(x=h6([m,x]));var P=!0;if(a){var b=Qv(x,a);P=!b.disabled&&!b.hidden}return P?x:u.count>hB?u.lastFocused:YC(x,{moveBy:n,direction:r,context:i,modifiers:a,retry:Me(Me({},u),{count:u.count+1})})}var XC=T.createContext(void 0);function fB(t){var e=Ou(),n=QC(),r=T.useState(),i=r[0],a=r[1],l=T.useState(),u=l[0],h=l[1],p=dB(e.displayMonths,n),m=i??(u&&e.isDateDisplayed(u))?u:p,v=function(){h(i),a(void 0)},E=function(S){a(S)},x=dt(),P=function(S,N){if(i){var D=YC(i,{moveBy:S,direction:N,context:x,modifiers:n});Fn(i,D)||(e.goToDate(D,i),E(D))}},b={focusedDay:i,focusTarget:m,blur:v,focus:E,focusDayAfter:function(){return P("day","after")},focusDayBefore:function(){return P("day","before")},focusWeekAfter:function(){return P("week","after")},focusWeekBefore:function(){return P("week","before")},focusMonthBefore:function(){return P("month","before")},focusMonthAfter:function(){return P("month","after")},focusYearBefore:function(){return P("year","before")},focusYearAfter:function(){return P("year","after")},focusStartOfWeek:function(){return P("startOfWeek","before")},focusEndOfWeek:function(){return P("endOfWeek","after")}};return y.jsx(XC.Provider,{value:b,children:t.children})}function Yv(){var t=T.useContext(XC);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function pB(t,e){var n=QC(),r=Qv(t,n,e);return r}var Xv=T.createContext(void 0);function mB(t){if(!Qf(t.initialProps)){var e={selected:void 0};return y.jsx(Xv.Provider,{value:e,children:t.children})}return y.jsx(gB,{initialProps:t.initialProps,children:t.children})}function gB(t){var e=t.initialProps,n=t.children,r=function(a,l,u){var h,p,m;if((h=e.onDayClick)===null||h===void 0||h.call(e,a,l,u),l.selected&&!e.required){(p=e.onSelect)===null||p===void 0||p.call(e,void 0,a,l,u);return}(m=e.onSelect)===null||m===void 0||m.call(e,a,a,l,u)},i={selected:e.selected,onDayClick:r};return y.jsx(Xv.Provider,{value:i,children:n})}function JC(){var t=T.useContext(Xv);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function yB(t,e){var n=dt(),r=JC(),i=qv(),a=Gv(),l=Yv(),u=l.focusDayAfter,h=l.focusDayBefore,p=l.focusWeekAfter,m=l.focusWeekBefore,v=l.blur,E=l.focus,x=l.focusMonthBefore,P=l.focusMonthAfter,b=l.focusYearBefore,S=l.focusYearAfter,N=l.focusStartOfWeek,D=l.focusEndOfWeek,L=function(te){var W,Z,ie,z;Qf(n)?(W=r.onDayClick)===null||W===void 0||W.call(r,t,e,te):Nu(n)?(Z=i.onDayClick)===null||Z===void 0||Z.call(i,t,e,te):Du(n)?(ie=a.onDayClick)===null||ie===void 0||ie.call(a,t,e,te):(z=n.onDayClick)===null||z===void 0||z.call(n,t,e,te)},H=function(te){var W;E(t),(W=n.onDayFocus)===null||W===void 0||W.call(n,t,e,te)},Q=function(te){var W;v(),(W=n.onDayBlur)===null||W===void 0||W.call(n,t,e,te)},ee=function(te){var W;(W=n.onDayMouseEnter)===null||W===void 0||W.call(n,t,e,te)},k=function(te){var W;(W=n.onDayMouseLeave)===null||W===void 0||W.call(n,t,e,te)},R=function(te){var W;(W=n.onDayPointerEnter)===null||W===void 0||W.call(n,t,e,te)},M=function(te){var W;(W=n.onDayPointerLeave)===null||W===void 0||W.call(n,t,e,te)},U=function(te){var W;(W=n.onDayTouchCancel)===null||W===void 0||W.call(n,t,e,te)},j=function(te){var W;(W=n.onDayTouchEnd)===null||W===void 0||W.call(n,t,e,te)},F=function(te){var W;(W=n.onDayTouchMove)===null||W===void 0||W.call(n,t,e,te)},O=function(te){var W;(W=n.onDayTouchStart)===null||W===void 0||W.call(n,t,e,te)},se=function(te){var W;(W=n.onDayKeyUp)===null||W===void 0||W.call(n,t,e,te)},_e=function(te){var W;switch(te.key){case"ArrowLeft":te.preventDefault(),te.stopPropagation(),n.dir==="rtl"?u():h();break;case"ArrowRight":te.preventDefault(),te.stopPropagation(),n.dir==="rtl"?h():u();break;case"ArrowDown":te.preventDefault(),te.stopPropagation(),p();break;case"ArrowUp":te.preventDefault(),te.stopPropagation(),m();break;case"PageUp":te.preventDefault(),te.stopPropagation(),te.shiftKey?b():x();break;case"PageDown":te.preventDefault(),te.stopPropagation(),te.shiftKey?S():P();break;case"Home":te.preventDefault(),te.stopPropagation(),N();break;case"End":te.preventDefault(),te.stopPropagation(),D();break}(W=n.onDayKeyDown)===null||W===void 0||W.call(n,t,e,te)},he={onClick:L,onFocus:H,onBlur:Q,onKeyDown:_e,onKeyUp:se,onMouseEnter:ee,onMouseLeave:k,onPointerEnter:R,onPointerLeave:M,onTouchCancel:U,onTouchEnd:j,onTouchMove:F,onTouchStart:O};return he}function vB(){var t=dt(),e=JC(),n=qv(),r=Gv(),i=Qf(t)?e.selected:Nu(t)?n.selected:Du(t)?r.selected:void 0;return i}function wB(t){return Object.values(Wr).includes(t)}function _B(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(wB(r)){var a=t.classNames["day_".concat(r)];a&&n.push(a)}}),n}function EB(t,e){var n=Me({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=Me(Me({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function xB(t,e,n){var r,i,a,l=dt(),u=Yv(),h=pB(t,e),p=yB(t,h),m=vB(),v=!!(l.onDayClick||l.mode!=="default");T.useEffect(function(){var ee;h.outside||u.focusedDay&&v&&Fn(u.focusedDay,t)&&((ee=n.current)===null||ee===void 0||ee.focus())},[u.focusedDay,t,n,v,h.outside]);var E=_B(l,h).join(" "),x=EB(l,h),P=!!(h.outside&&!l.showOutsideDays||h.hidden),b=(a=(i=l.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:$9,S=y.jsx(b,{date:t,displayMonth:e,activeModifiers:h}),N={style:x,className:E,children:S,role:"gridcell"},D=u.focusTarget&&Fn(u.focusTarget,t)&&!h.outside,L=u.focusedDay&&Fn(u.focusedDay,t),H=Me(Me(Me({},N),(r={disabled:h.disabled,role:"gridcell"},r["aria-selected"]=h.selected,r.tabIndex=L||D?0:-1,r)),p),Q={isButton:v,isHidden:P,activeModifiers:h,selectedDays:m,buttonProps:H,divProps:N};return Q}function TB(t){var e=T.useRef(null),n=xB(t.date,t.displayMonth,e);return n.isHidden?y.jsx("div",{role:"gridcell"}):n.isButton?y.jsx(nf,Me({name:"day",ref:e},n.buttonProps)):y.jsx("div",Me({},n.divProps))}function bB(t){var e=t.number,n=t.dates,r=dt(),i=r.onWeekNumberClick,a=r.styles,l=r.classNames,u=r.locale,h=r.labels.labelWeekNumber,p=r.formatters.formatWeekNumber,m=p(Number(e),{locale:u});if(!i)return y.jsx("span",{className:l.weeknumber,style:a.weeknumber,children:m});var v=h(Number(e),{locale:u}),E=function(x){i(e,n,x)};return y.jsx(nf,{name:"week-number","aria-label":v,className:l.weeknumber,style:a.weeknumber,onClick:E,children:m})}function SB(t){var e,n,r=dt(),i=r.styles,a=r.classNames,l=r.showWeekNumber,u=r.components,h=(e=u?.Day)!==null&&e!==void 0?e:TB,p=(n=u?.WeekNumber)!==null&&n!==void 0?n:bB,m;return l&&(m=y.jsx("td",{className:a.cell,style:i.cell,children:y.jsx(p,{number:t.weekNumber,dates:t.dates})})),y.jsxs("tr",{className:a.row,style:i.row,children:[m,t.dates.map(function(v){return y.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:y.jsx(h,{displayMonth:t.displayMonth,date:v})},d5(v))})]})}function eT(t,e,n){for(var r=n?.ISOWeek?_I(e):Vv(e,n),i=n?.ISOWeek?ta(t):As(t,n),a=ys(r,i),l=[],u=0;u<=a;u++)l.push(Sn(i,u));var h=l.reduce(function(p,m){var v=n?.ISOWeek?xI(m):bI(m,n),E=p.find(function(x){return x.weekNumber===v});return E?(E.dates.push(m),p):(p.push({weekNumber:v,dates:[m]}),p)},[]);return h}function IB(t,e){var n=eT(Un(t),Lv(t),e);if(e?.useFixedWeeks){var r=f5(t,e);if(r<6){var i=n[n.length-1],a=i.dates[i.dates.length-1],l=Yg(a,6-r),u=eT(Yg(a,1),l,e);n.push.apply(n,u)}}return n}function CB(t){var e,n,r,i=dt(),a=i.locale,l=i.classNames,u=i.styles,h=i.hideHead,p=i.fixedWeeks,m=i.components,v=i.weekStartsOn,E=i.firstWeekContainsDate,x=i.ISOWeek,P=IB(t.displayMonth,{useFixedWeeks:!!p,ISOWeek:x,locale:a,weekStartsOn:v,firstWeekContainsDate:E}),b=(e=m?.Head)!==null&&e!==void 0?e:z9,S=(n=m?.Row)!==null&&n!==void 0?n:SB,N=(r=m?.Footer)!==null&&r!==void 0?r:F9;return y.jsxs("table",{id:t.id,className:l.table,style:u.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!h&&y.jsx(b,{}),y.jsx("tbody",{className:l.tbody,style:u.tbody,children:P.map(function(D){return y.jsx(S,{displayMonth:t.displayMonth,dates:D.dates,weekNumber:D.weekNumber},D.weekNumber)})}),y.jsx(N,{displayMonth:t.displayMonth})]})}function PB(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var RB=PB()?T.useLayoutEffect:T.useEffect,ig=!1,AB=0;function tT(){return"react-day-picker-".concat(++AB)}function kB(t){var e,n=t??(ig?tT():null),r=T.useState(n),i=r[0],a=r[1];return RB(function(){i===null&&a(tT())},[]),T.useEffect(function(){ig===!1&&(ig=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function NB(t){var e,n,r=dt(),i=r.dir,a=r.classNames,l=r.styles,u=r.components,h=Ou().displayMonths,p=kB(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),m=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,v=[a.month],E=l.month,x=t.displayIndex===0,P=t.displayIndex===h.length-1,b=!x&&!P;i==="rtl"&&(e=[x,P],P=e[0],x=e[1]),x&&(v.push(a.caption_start),E=Me(Me({},E),l.caption_start)),P&&(v.push(a.caption_end),E=Me(Me({},E),l.caption_end)),b&&(v.push(a.caption_between),E=Me(Me({},E),l.caption_between));var S=(n=u?.Caption)!==null&&n!==void 0?n:j9;return y.jsxs("div",{className:v.join(" "),style:E,children:[y.jsx(S,{id:p,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),y.jsx(CB,{id:m,"aria-labelledby":p,displayMonth:t.displayMonth})]},t.displayIndex)}function DB(t){var e=dt(),n=e.classNames,r=e.styles;return y.jsx("div",{className:n.months,style:r.months,children:t.children})}function OB(t){var e,n,r=t.initialProps,i=dt(),a=Yv(),l=Ou(),u=T.useState(!1),h=u[0],p=u[1];T.useEffect(function(){i.initialFocus&&a.focusTarget&&(h||(a.focus(a.focusTarget),p(!0)))},[i.initialFocus,h,a.focus,a.focusTarget,a]);var m=[i.classNames.root,i.className];i.numberOfMonths>1&&m.push(i.classNames.multiple_months),i.showWeekNumber&&m.push(i.classNames.with_weeknumber);var v=Me(Me({},i.styles.root),i.style),E=Object.keys(r).filter(function(P){return P.startsWith("data-")}).reduce(function(P,b){var S;return Me(Me({},P),(S={},S[b]=r[b],S))},{}),x=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:DB;return y.jsx("div",Me({className:m.join(" "),style:v,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},E,{children:y.jsx(x,{children:l.displayMonths.map(function(P,b){return y.jsx(NB,{displayIndex:b,displayMonth:P},b)})})}))}function MB(t){var e=t.children,n=i9(t,["children"]);return y.jsx(b9,{initialProps:n,children:y.jsx(O9,{children:y.jsx(mB,{initialProps:n,children:y.jsx(W9,{initialProps:n,children:y.jsx(K9,{initialProps:n,children:y.jsx(tB,{children:y.jsx(fB,{children:e})})})})})})})}function LB(t){return y.jsx(MB,Me({},t,{children:y.jsx(OB,{initialProps:t})}))}function ZC({className:t,classNames:e,showOutsideDays:n=!0,...r}){return y.jsx(LB,{showOutsideDays:n,className:Ye("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ye(Tg({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ye(Tg({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>y.jsx(PA,{className:"h-4 w-4"}),IconRight:({...i})=>y.jsx(RA,{className:"h-4 w-4"})},...r})}ZC.displayName="Calendar";var Yf="Popover",[eP]=co(Yf,[Al]),Mu=Al(),[VB,vo]=eP(Yf),tP=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:l=!1}=t,u=Mu(e),h=T.useRef(null),[p,m]=T.useState(!1),[v,E]=hl({prop:r,defaultProp:i??!1,onChange:a,caller:Yf});return y.jsx(hb,{...u,children:y.jsx(VB,{scope:e,contentId:Cl(),triggerRef:h,open:v,onOpenChange:E,onOpenToggle:T.useCallback(()=>E(x=>!x),[E]),hasCustomAnchor:p,onCustomAnchorAdd:T.useCallback(()=>m(!0),[]),onCustomAnchorRemove:T.useCallback(()=>m(!1),[]),modal:l,children:n})})};tP.displayName=Yf;var nP="PopoverAnchor",jB=T.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=vo(nP,n),a=Mu(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:u}=i;return T.useEffect(()=>(l(),()=>u()),[l,u]),y.jsx(hf,{...a,...r,ref:e})});jB.displayName=nP;var rP="PopoverTrigger",sP=T.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=vo(rP,n),a=Mu(n),l=yt(e,i.triggerRef),u=y.jsx(We.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":cP(i.open),...r,ref:l,onClick:ke(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?u:y.jsx(hf,{asChild:!0,...a,children:u})});sP.displayName=rP;var Jv="PopoverPortal",[FB,UB]=eP(Jv,{forceMount:void 0}),iP=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,a=vo(Jv,e);return y.jsx(FB,{scope:e,forceMount:n,children:y.jsx(Sl,{present:n||a.open,children:y.jsx(rf,{asChild:!0,container:i,children:r})})})};iP.displayName=Jv;var Tl="PopoverContent",oP=T.forwardRef((t,e)=>{const n=UB(Tl,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,a=vo(Tl,t.__scopePopover);return y.jsx(Sl,{present:r||a.open,children:a.modal?y.jsx(zB,{...i,ref:e}):y.jsx($B,{...i,ref:e})})});oP.displayName=Tl;var BB=dl("PopoverContent.RemoveScroll"),zB=T.forwardRef((t,e)=>{const n=vo(Tl,t.__scopePopover),r=T.useRef(null),i=yt(e,r),a=T.useRef(!1);return T.useEffect(()=>{const l=r.current;if(l)return JI(l)},[]),y.jsx($v,{as:BB,allowPinchZoom:!0,children:y.jsx(aP,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(t.onCloseAutoFocus,l=>{l.preventDefault(),a.current||n.triggerRef.current?.focus()}),onPointerDownOutside:ke(t.onPointerDownOutside,l=>{const u=l.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,p=u.button===2||h;a.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:ke(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),$B=T.forwardRef((t,e)=>{const n=vo(Tl,t.__scopePopover),r=T.useRef(!1),i=T.useRef(!1);return y.jsx(aP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;n.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),aP=T.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:m,...v}=t,E=vo(Tl,n),x=Mu(n);return QI(),y.jsx(zv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:y.jsx(fu,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onDismiss:()=>E.onOpenChange(!1),children:y.jsx(Sy,{"data-state":cP(E.open),role:"dialog",id:E.contentId,...x,...v,ref:e,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),lP="PopoverClose",WB=T.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=vo(lP,n);return y.jsx(We.button,{type:"button",...r,ref:e,onClick:ke(t.onClick,()=>i.onOpenChange(!1))})});WB.displayName=lP;var HB="PopoverArrow",qB=T.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Mu(n);return y.jsx(Iy,{...i,...r,ref:e})});qB.displayName=HB;function cP(t){return t?"open":"closed"}var KB=tP,GB=sP,QB=iP,uP=oP;const YB=KB,XB=GB,dP=T.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>y.jsx(QB,{children:y.jsx(uP,{ref:i,align:e,sideOffset:n,className:Ye("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));dP.displayName=uP.displayName;const JB=()=>{const t=Nl(),[e,n]=T.useState(!1),[r,i]=T.useState(null),[a,l]=T.useState(),[u,h]=T.useState(""),[p,m]=T.useState({name:"",description:"",location:"",category:"",visibility:"public",coverImageUrl:"",externalLink:"",recurring:"one-time"});T.useEffect(()=>{Dv().then(({user:E})=>{session?i(session.user.id):t("/auth")})},[t]);const v=async E=>{if(E.preventDefault(),!r)return;if(!a||!u){Lt.error("Please select date and time");return}n(!0);const[x,P]=u.split(":"),b=new Date(a);b.setHours(parseInt(x),parseInt(P));const{error:S}=await await e6({name:p.name,description:p.description,location:p.location,date:b.toISOString(),category:p.category,visibility:p.visibility,cover_image_url:p.coverImageUrl||null,external_link:p.externalLink||null,recurring:p.recurring,host_id:r});S?Lt.error("Failed to create hive: "+S.message):(Lt.success("Hive created successfully!"),t("/")),n(!1)};return y.jsxs("div",{className:"min-h-screen bg-background",children:[y.jsx(lo,{}),y.jsx("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:y.jsxs(Jt,{className:"shadow-card",children:[y.jsxs(jr,{children:[y.jsx(fi,{className:"text-2xl",children:"Create a New Hive"}),y.jsx($f,{children:"Organize an event and bring people together"})]}),y.jsx(En,{children:y.jsxs("form",{onSubmit:v,className:"space-y-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Mt,{htmlFor:"name",children:"Hive Name *"}),y.jsx(Cn,{id:"name",placeholder:"Summer BBQ Meetup",value:p.name,onChange:E=>m({...p,name:E.target.value}),required:!0})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Mt,{htmlFor:"description",children:"Description *"}),y.jsx(Bv,{id:"description",placeholder:"Tell people about your hive...",value:p.description,onChange:E=>m({...p,description:E.target.value}),required:!0,rows:4})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Mt,{htmlFor:"location",children:"Location *"}),y.jsx(Cn,{id:"location",placeholder:"Central Park, New York",value:p.location,onChange:E=>m({...p,location:E.target.value}),required:!0})]}),y.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Mt,{children:"Date *"}),y.jsxs(YB,{children:[y.jsx(XB,{asChild:!0,children:y.jsxs(jt,{variant:"outline",className:Ye("w-full justify-start text-left font-normal",!a&&"text-muted-foreground"),children:[y.jsx(fy,{className:"mr-2 h-4 w-4"}),a?lr(a,"PPP"):y.jsx("span",{children:"Pick a date"})]})}),y.jsx(dP,{className:"w-auto p-0",children:y.jsx(ZC,{mode:"single",selected:a,onSelect:l,initialFocus:!0})})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Mt,{htmlFor:"time",children:"Time *"}),y.jsx(Cn,{id:"time",type:"time",value:u,onChange:E=>h(E.target.value),required:!0})]})]}),y.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Mt,{htmlFor:"category",children:"Category *"}),y.jsxs(xh,{value:p.category,onValueChange:E=>m({...p,category:E}),children:[y.jsx(Gc,{children:y.jsx(Th,{placeholder:"Select category"})}),y.jsxs(Qc,{children:[y.jsx(Yt,{value:"social",children:"Social"}),y.jsx(Yt,{value:"arts",children:"Arts"}),y.jsx(Yt,{value:"sports",children:"Sports"}),y.jsx(Yt,{value:"food",children:"Food & Drink"}),y.jsx(Yt,{value:"music",children:"Music"}),y.jsx(Yt,{value:"networking",children:"Networking"}),y.jsx(Yt,{value:"other",children:"Other"})]})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Mt,{htmlFor:"visibility",children:"Visibility *"}),y.jsxs(xh,{value:p.visibility,onValueChange:E=>m({...p,visibility:E}),children:[y.jsx(Gc,{children:y.jsx(Th,{})}),y.jsxs(Qc,{children:[y.jsx(Yt,{value:"public",children:"Public"}),y.jsx(Yt,{value:"private",children:"Private"}),y.jsx(Yt,{value:"connections",children:"Connections Only"})]})]})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Mt,{htmlFor:"recurring",children:"Recurring"}),y.jsxs(xh,{value:p.recurring,onValueChange:E=>m({...p,recurring:E}),children:[y.jsx(Gc,{children:y.jsx(Th,{})}),y.jsxs(Qc,{children:[y.jsx(Yt,{value:"one-time",children:"One-time"}),y.jsx(Yt,{value:"daily",children:"Daily"}),y.jsx(Yt,{value:"weekly",children:"Weekly"}),y.jsx(Yt,{value:"monthly",children:"Monthly"})]})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Mt,{htmlFor:"coverImage",children:"Cover Image URL"}),y.jsx(Cn,{id:"coverImage",type:"url",placeholder:"https://example.com/image.jpg",value:p.coverImageUrl,onChange:E=>m({...p,coverImageUrl:E.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Mt,{htmlFor:"externalLink",children:"External Link"}),y.jsx(Cn,{id:"externalLink",type:"url",placeholder:"https://example.com/rsvp",value:p.externalLink,onChange:E=>m({...p,externalLink:E.target.value})})]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx(jt,{type:"button",variant:"outline",onClick:()=>t("/"),className:"flex-1",children:"Cancel"}),y.jsx(jt,{type:"submit",disabled:e,className:"flex-1 bg-primary text-primary-foreground hover:bg-primary/90",children:e?"Creating...":"Create Hive"})]})]})})]})})]})},ZB=()=>{const t=Nl(),[e,n]=T.useState(null),[r,i]=T.useState(""),[a,l]=T.useState(""),[u,h]=T.useState(""),[p,m]=T.useState(""),[v,E]=T.useState(!0),[x,P]=T.useState(!1);T.useEffect(()=>{const S=Ef(si,async N=>{if(!N){t("/auth");return}n(N.uid),i(N.email||""),l(N.displayName||"");try{const D=Yh(di,"users",N.uid),L=await fI(D);if(L.exists()){const H=L.data();h(H.username||""),m(H.bio||"")}else await E3(D,{username:N.displayName||"",email:N.email||"",created_at:cl(),updated_at:cl()}),h(N.displayName||"")}catch(D){Lt.error(D?.message||"Failed to load profile")}finally{E(!1)}});return()=>S()},[t]);const b=async S=>{if(S.preventDefault(),!!e){P(!0);try{a.trim()!==(si.currentUser?.displayName||"")&&await xS(si.currentUser,{displayName:a.trim()});const N=Yh(di,"users",e);await x3(N,{username:u.trim(),bio:p,email:r,updated_at:cl()}),Lt.success("Profile updated")}catch(N){Lt.error(N?.message||"Failed to save profile")}finally{P(!1)}}};return v?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx("span",{children:"Loading profile"})}):y.jsx("div",{className:"min-h-screen p-4 flex items-center justify-center",children:y.jsxs(Jt,{className:"w-full max-w-xl",children:[y.jsx(jr,{children:y.jsx(fi,{children:"Your Profile"})}),y.jsx(En,{children:y.jsxs("form",{onSubmit:b,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx(Mt,{htmlFor:"email",children:"Email (read-only)"}),y.jsx(Cn,{id:"email",value:r,disabled:!0})]}),y.jsxs("div",{children:[y.jsx(Mt,{htmlFor:"displayName",children:"Display Name"}),y.jsx(Cn,{id:"displayName",value:a,onChange:S=>l(S.target.value)})]}),y.jsxs("div",{children:[y.jsx(Mt,{htmlFor:"username",children:"Username"}),y.jsx(Cn,{id:"username",value:u,onChange:S=>h(S.target.value),placeholder:"your_handle"})]}),y.jsxs("div",{children:[y.jsx(Mt,{htmlFor:"bio",children:"Bio"}),y.jsx(Cn,{id:"bio",value:p,onChange:S=>m(S.target.value),placeholder:"Tell people something about you"})]}),y.jsx(jt,{type:"submit",className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",disabled:x,children:x?"Saving...":"Save Changes"})]})})]})})},e8=()=>y.jsxs("div",{className:"min-h-screen bg-background",children:[y.jsx(lo,{}),y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Discover"}),y.jsx("p",{className:"text-muted-foreground",children:"Find people and events near you"})]}),y.jsx(Jt,{className:"text-center py-12 shadow-card",children:y.jsxs(En,{children:[y.jsx(kA,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),y.jsx(fi,{className:"mb-2",children:"Discovery Coming Soon"}),y.jsx("p",{className:"text-muted-foreground",children:"We're working on location-based discovery to help you connect with people nearby."})]})})]})]}),t8=()=>y.jsxs("div",{className:"min-h-screen bg-background",children:[y.jsx(lo,{}),y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Connections"}),y.jsx("p",{className:"text-muted-foreground",children:"Manage your network"})]}),y.jsx(Jt,{className:"text-center py-12 shadow-card",children:y.jsxs(En,{children:[y.jsx(my,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),y.jsx(fi,{className:"mb-2",children:"Connections Coming Soon"}),y.jsx("p",{className:"text-muted-foreground",children:"Soon you'll be able to send connection requests and build your network."})]})})]})]}),n8=()=>{const[t,e]=T.useState([]),[n,r]=T.useState(!0),[i,a]=T.useState(!1),[l,u]=T.useState(""),[h,p]=T.useState("public"),[m,v]=T.useState(null);T.useEffect(()=>{(async()=>(await E(),await x()))()},[]);const E=async()=>{const S=(await Dv())?.user??null;S&&v(S.id)},x=async()=>{try{r(!0);const b=Tv(Fl(di,"buzz"),v3("visibility","==","public"),Iv("created_at","desc"),Pv(20)),S=await Rv(b),N=await Promise.all(S.docs.map(async D=>{const L=D.data();let H="";L.created_at?.toDate?H=L.created_at.toDate().toISOString():typeof L.created_at=="string"?H=L.created_at:H=new Date().toISOString();let Q="";const ee=L.user_id||L.authorId;if(ee)try{const k=Yh(di,"users",ee),R=await fI(k);if(R.exists()){const M=R.data();Q=M.username||M.displayName||""}}catch{}return{id:D.id,description:L.description||L.text||"",location:L.location||null,created_at:H,profiles:{username:Q||ee||"User"}}}));e(N)}catch(b){console.error(b),Lt.error("Failed to load feed")}finally{r(!1)}},P=async()=>{if(!(!m||!l.trim())){a(!0);try{const{error:b}=await t6({description:l.trim(),visibility:h,user_id:m,location:null});b?Lt.error("Failed to post buzz"):(Lt.success("Buzz posted!"),u(""),await x())}catch(b){Lt.error(b?.message??"Failed to post buzz")}finally{a(!1)}}};return y.jsxs("div",{className:"min-h-screen bg-background",children:[y.jsx(lo,{}),y.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Feed"}),y.jsx("p",{className:"text-muted-foreground",children:"Share what's on your mind"})]}),m&&y.jsx(Jt,{className:"mb-8 shadow-card",children:y.jsxs(En,{className:"pt-6",children:[y.jsx(Bv,{placeholder:"What's buzzing?",value:l,onChange:b=>u(b.target.value),rows:3,className:"mb-4"}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs(xh,{value:h,onValueChange:b=>p(b),children:[y.jsx(Gc,{className:"w-40",children:y.jsx(Th,{})}),y.jsxs(Qc,{children:[y.jsx(Yt,{value:"public",children:"Public"}),y.jsx(Yt,{value:"connections",children:"Connections"}),y.jsx(Yt,{value:"private",children:"Private"})]})]}),y.jsxs(jt,{onClick:P,disabled:i||!l.trim(),className:"ml-auto bg-primary text-primary-foreground hover:bg-primary/90",children:[y.jsx(DA,{className:"h-4 w-4 mr-2"}),"Post"]})]})]})}),y.jsx("div",{className:"space-y-4",children:n?[...Array(3)].map((b,S)=>y.jsxs(Jt,{className:"animate-pulse",children:[y.jsx(jr,{children:y.jsx("div",{className:"h-4 bg-muted rounded w-1/4"})}),y.jsxs(En,{children:[y.jsx("div",{className:"h-3 bg-muted rounded w-full mb-2"}),y.jsx("div",{className:"h-3 bg-muted rounded w-3/4"})]})]},S)):t.length===0?y.jsx(Jt,{className:"text-center py-12",children:y.jsx(En,{children:y.jsx("p",{className:"text-muted-foreground",children:"No buzz yet. Be the first to post!"})})}):t.map(b=>y.jsxs(Jt,{className:"shadow-card hover:shadow-hover transition-all",children:[y.jsx(jr,{children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-primary flex items-center justify-center",children:b.profiles.username?.[0]?.toUpperCase?.()||"U"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium",children:b.profiles.username}),y.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[y.jsx(py,{className:"h-3 w-3"}),lr(new Date(b.created_at),"PPp")]})]})]})}),y.jsxs(En,{children:[y.jsx("p",{className:"whitespace-pre-wrap",children:b.description}),b.location&&y.jsxs("p",{className:"text-sm text-muted-foreground mt-4 flex items-center gap-1",children:[y.jsx(Sh,{className:"h-4 w-4"}),b.location]})]})]},b.id))})]})]})},r8=()=>{const{id:t}=FO(),e=Nl(),[n,r]=T.useState(null),[i,a]=T.useState(!0),[l,u]=T.useState(0),[h,p]=T.useState(null),[m,v]=T.useState(null);T.useEffect(()=>{E(),x()},[t]);const E=async()=>{const{data:{session:D}}=await Dv();D&&(v(D.user.id),b(D.user.id))},x=async()=>{if(await getHiveById(t),error||!data){Lt.error("Hive not found"),e("/");return}r(data),P(),a(!1)},P=async()=>{const D=await getAttendeesCount(t);u(D||0)},b=async D=>{await getAttendeesCount(t),data&&p(data.status)},S=async D=>{if(!m){Lt.error("Please sign in to RSVP"),e("/auth");return}if(h&&(await n6({hiveId:t,userId:m}),error)){Lt.error("Failed to RSVP");return}p(D),P(),Lt.success("RSVP updated!")},N=()=>{navigator.share?navigator.share({title:n?.name,text:n?.description,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),Lt.success("Link copied to clipboard!"))};return i?y.jsxs("div",{className:"min-h-screen bg-background",children:[y.jsx(lo,{}),y.jsx("div",{className:"container mx-auto px-4 py-8",children:y.jsxs(Jt,{className:"animate-pulse",children:[y.jsx("div",{className:"h-64 bg-muted rounded-t-lg"}),y.jsx(jr,{children:y.jsx("div",{className:"h-8 bg-muted rounded w-1/2"})})]})})]}):n?y.jsxs("div",{className:"min-h-screen bg-background",children:[y.jsx(lo,{}),y.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:y.jsxs(Jt,{className:"overflow-hidden shadow-hover",children:[n.cover_image_url?y.jsx("img",{src:n.cover_image_url,alt:n.name,className:"h-64 w-full object-cover"}):y.jsx("div",{className:"h-64 bg-gradient-primary flex items-center justify-center",children:y.jsx("span",{className:"text-8xl",children:""})}),y.jsx(jr,{children:y.jsxs("div",{className:"flex items-start justify-between gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(wh,{variant:"secondary",children:n.category}),y.jsx(wh,{variant:"outline",children:n.visibility}),n.recurring!=="one-time"&&y.jsx(wh,{variant:"outline",children:n.recurring})]}),y.jsx(fi,{className:"text-3xl mb-2",children:n.name}),y.jsxs("p",{className:"text-muted-foreground",children:["Hosted by ",y.jsx(nr,{to:`/profile/${n.host_id}`,className:"font-medium hover:text-primary",children:n.profiles.username})]})]}),y.jsx(jt,{variant:"outline",size:"icon",onClick:N,children:y.jsx(OA,{className:"h-4 w-4"})})]})}),y.jsxs(En,{className:"space-y-6",children:[y.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(fy,{className:"h-5 w-5 text-muted-foreground"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium",children:lr(new Date(n.date),"PPPP")}),y.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.jsx(py,{className:"inline h-3 w-3 mr-1"}),lr(new Date(n.date),"p")]})]})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Sh,{className:"h-5 w-5 text-muted-foreground"}),y.jsx("div",{children:y.jsx("p",{className:"font-medium",children:n.location})})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(my,{className:"h-5 w-5 text-muted-foreground"}),y.jsx("div",{children:y.jsxs("p",{className:"font-medium",children:[l," attending"]})})]}),n.external_link&&y.jsxs("a",{href:n.external_link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 hover:text-primary transition-colors",children:[y.jsx(NA,{className:"h-5 w-5 text-muted-foreground"}),y.jsx("div",{children:y.jsx("p",{className:"font-medium",children:"External Link"})})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold mb-2 text-lg",children:"About this Hive"}),y.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:n.description})]}),m&&y.jsxs("div",{className:"flex flex-wrap gap-4 pt-4 border-t",children:[y.jsx(jt,{onClick:()=>S("going"),variant:h==="going"?"default":"outline",className:h==="going"?"bg-primary text-primary-foreground hover:bg-primary/90":"",children:"Going"}),y.jsx(jt,{onClick:()=>S("interested"),variant:h==="interested"?"default":"outline",className:h==="interested"?"bg-primary text-primary-foreground hover:bg-primary/90":"",children:"Interested"}),y.jsx(jt,{onClick:()=>S("not_going"),variant:h==="not_going"?"default":"outline",className:h==="not_going"?"bg-primary text-primary-foreground hover:bg-primary/90":"",children:"Can't Go"})]})]})]})})]}):null},s8=()=>y.jsxs("div",{className:"min-h-screen bg-background",children:[y.jsx(lo,{}),y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Notifications"}),y.jsx("p",{className:"text-muted-foreground",children:"Stay updated with your activity"})]}),y.jsx(Jt,{className:"text-center py-12 shadow-card",children:y.jsxs(En,{children:[y.jsx(IA,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),y.jsx(fi,{className:"mb-2",children:"No Notifications"}),y.jsx("p",{className:"text-muted-foreground",children:"You're all caught up! Check back later for updates."})]})})]})]}),i8=()=>{const t=yu();return T.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),y.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),y.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),y.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},o8=new aO,a8=()=>y.jsx(cO,{client:o8,children:y.jsxs(OD,{children:[y.jsx(yk,{}),y.jsx(Qk,{}),'const base = import.meta.env.BASE_URL.replace(/\\/$/, "");',y.jsx(l2,{basename:base,children:y.jsxs(t2,{children:[y.jsx(Nr,{path:"/",element:y.jsx(m5,{})}),y.jsx(Nr,{path:"/auth",element:y.jsx(M5,{})}),y.jsx(Nr,{path:"/create-hive",element:y.jsx(JB,{})}),y.jsx(Nr,{path:"/profile",element:y.jsx(ZB,{})}),y.jsx(Nr,{path:"/discover",element:y.jsx(e8,{})}),y.jsx(Nr,{path:"/connections",element:y.jsx(t8,{})}),y.jsx(Nr,{path:"/feed",element:y.jsx(n8,{})}),y.jsx(Nr,{path:"/hive/:id",element:y.jsx(r8,{})}),y.jsx(Nr,{path:"/notifications",element:y.jsx(s8,{})}),y.jsx(Nr,{path:"*",element:y.jsx(i8,{})})]})})]})});IR.createRoot(document.getElementById("root")).render(y.jsx(a8,{}));
